var relearn_searchindex = [
  {
    "breadcrumb": "",
    "content": "General Documentation for the LTI Toolkit\nExamples Database Schema",
    "description": "General Documentation for the LTI Toolkit\nExamples Database Schema",
    "tags": [],
    "title": "Documentation",
    "uri": "/lti-toolkit/00-general/index.html"
  },
  {
    "breadcrumb": "",
    "content": "Development Environment Setup",
    "description": "Development Environment Setup",
    "tags": [],
    "title": "Dev Setup",
    "uri": "/lti-toolkit/01-setup/index.html"
  },
  {
    "breadcrumb": "",
    "content": "LTI Protocol Notes \u0026 Documentation\nWhen developing this project, I couldn’t find any good detailed examples for what these messages actually looked like in practice, especially the ones coming from Instructure Canvas. So, as I worked on this project, I carefully stored and documented these protocol messages. They can also be mostly exposed from this tool by enabling the silly logging level.\nLTI 1.0 Tool Provider LTI 1.3 Tool Provider LTI Launch Data LTI 1.0 Tool Consumer",
    "description": "LTI Protocol Notes \u0026 Documentation\nWhen developing this project, I couldn’t find any good detailed examples for what these messages actually looked like in practice, especially the ones coming from Instructure Canvas. So, as I worked on this project, I carefully stored and documented these protocol messages. They can also be mostly exposed from this tool by enabling the silly logging level.\nLTI 1.0 Tool Provider LTI 1.3 Tool Provider LTI Launch Data LTI 1.0 Tool Consumer",
    "tags": [],
    "title": "LTI Docs",
    "uri": "/lti-toolkit/02-lti/index.html"
  },
  {
    "breadcrumb": "Dev Setup",
    "content": "Development guide coming soon!",
    "description": "Development guide coming soon!",
    "tags": [],
    "title": "Developing",
    "uri": "/lti-toolkit/01-setup/00-dev/index.html"
  },
  {
    "breadcrumb": "Documentation",
    "content": "LTI Toolkit Example Project Documentation\nLTI Provider",
    "description": "LTI Toolkit Example Project Documentation\nLTI Provider",
    "tags": [],
    "title": "Examples",
    "uri": "/lti-toolkit/00-general/00-examples/index.html"
  },
  {
    "breadcrumb": "Documentation",
    "content": "System Managed Tables lti_migrations This is the migrations table managed by Umzug. It tracks any changes that must be made to the database schema as future versions are released.\nLTI Consumers lti_consumers This table stores data about LTI Consumers connected to this system.\nid - autogenerated database ID field name - user-friendly name of the LTI Consumer lti13 - boolean value representing if the LTI Consumer supports LTI 1.3 connections key - Both autogenerated internal key used to identify the LTI Consumer This key is used in lieu of the database ID to prevent guessing attacks against sequential values. The key is generated using nanoid client_id - LTI 1.3 client ID provided by the LTI Consumer platform_id - LTI 1.3 platform ID of the LTI Consumer deployment_id - LTI 1.3 deployment ID from the LTI Consumer keyset_url - LTI 1.3 JWKS keyset URL for the LTI Consumer token_url - LTI 1.3 Token URL for the LTI Consumer auth_url - LTI 1.3 Authentication URL for the LTI Consumer tc_product - Both Auto Product Information for the LTI Consumer tc_version - Both Auto Version of the LTI Consumer tc_guid - Both Auto GUID of the LTI Consumer tc_name - Both Auto Name of the LTI Consumer createdAt - Auto creation timestamp updatedAt - Auto last updated timestamp lti_consumer_keys This table stores the secrets associated with an LTI Consumer. It is stored in a separate table to prevent accidental modification through the Consumer model directly.\nkey - Auto autogenerated internal key used to identify the LTI Consumer secret - LTI 1.0 shared secret with the LTI Consumer public - LTI 1.3 public key used in connections with the LTI Consumer private - LTI 1.3 paired private key used in connections with the LTI Consumer lti_consumer_logins This table stores login requests from LTI Consumers via the LTI 1.3 protocol. Entries in this table are automatically expired after 15-20 minutes (check every 5 minutes, entries older than 15 minutes are removed)\nkey - Auto autogenerated internal key used to identify the LTI Consumer state - Auto autogenerated internal state shared with the LTI Consumer. Generated using nanoid nonce - Auto autogenerated internal nonce shared with the LTI Consumer. Generated using nanoid iss - Issuer of the login request from the LTI Consumer client_id - client ID provided by the LTI Consumer keyset_url - JWKS keyset URL for the LTI Consumer createdAt - Auto creation timestamp updatedAt - Auto last updated timestamp lti_oauth_nonces This table stores nonces provided by the LTI Consumer via the LTI 1.0 protocol. Entries in this table are automatically expired after 15-20 minutes (check every 5 minutes, entries older than 15 minutes are removed)\nkey - Auto autogenerated internal key used to identify the LTI Consumer nonce - nonce value provided by the LTI Consumer in the connection. createdAt - Auto creation timestamp updatedAt - Auto last updated timestamp LTI Providers lti_providers This table stores information about LTI Tool Providers connected to this system.\nid - autogenerated database ID field name - user-friendly name of the LTI Tool Provider lti13 - boolean value representing if the LTI Tool Provider supports LTI 1.3 connections. LTI 1.3 is currently not implemented for LTI Tool Providers key - Both autogenerated internal key used to identify the LTI Tool Provider This key is used in lieu of the database ID to prevent guessing attacks against sequential values. The key is generated using nanoid launch_url - LTI 1.0 the launch URL for LTI 1.0 connections to the LTI Tool Provider domain - LTI 1.0 the base domain name of the LTI Tool Provider custom - LTI 1.0 custom launch variables provided as part of the LTI 1.0 connection to the LTI Tool Provider Custom Variables are not currently implemented createdAt - Auto creation timestamp updatedAt - Auto last updated timestamp lti_provider_keys This table stores the secrets associated with an LTI Tool Provider. It is stored in a separate table to prevent accidental modification through the Provider model directly.\nkey - Auto autogenerated internal key used to identify the LTI Tool Provider secret - LTI 1.0 shared secret with the LTI Tool Provider",
    "description": "System Managed Tables lti_migrations This is the migrations table managed by Umzug. It tracks any changes that must be made to the database schema as future versions are released.\nLTI Consumers lti_consumers This table stores data about LTI Consumers connected to this system.\nid - autogenerated database ID field name - user-friendly name of the LTI Consumer lti13 - boolean value representing if the LTI Consumer supports LTI 1.3 connections key - Both autogenerated internal key used to identify the LTI Consumer This key is used in lieu of the database ID to prevent guessing attacks against sequential values. The key is generated using nanoid client_id - LTI 1.3 client ID provided by the LTI Consumer platform_id - LTI 1.3 platform ID of the LTI Consumer deployment_id - LTI 1.3 deployment ID from the LTI Consumer keyset_url - LTI 1.3 JWKS keyset URL for the LTI Consumer token_url - LTI 1.3 Token URL for the LTI Consumer auth_url - LTI 1.3 Authentication URL for the LTI Consumer tc_product - Both Auto Product Information for the LTI Consumer tc_version - Both Auto Version of the LTI Consumer tc_guid - Both Auto GUID of the LTI Consumer tc_name - Both Auto Name of the LTI Consumer createdAt - Auto creation timestamp updatedAt - Auto last updated timestamp lti_consumer_keys This table stores the secrets associated with an LTI Consumer. It is stored in a separate table to prevent accidental modification through the Consumer model directly.",
    "tags": [],
    "title": "Database Schema",
    "uri": "/lti-toolkit/00-general/01-database/index.html"
  },
  {
    "breadcrumb": "Dev Setup",
    "content": "References https://github.com/instructure/canvas-lms/wiki/Quick-Start https://github.com/instructure/canvas-lms/blob/master/doc/docker/developing_with_docker.md Requirements This was configured for my local development machine. It has the following already installed/configured:\nUbuntu 24.04 LTS Docker: https://docs.docker.com/engine/install/ubuntu/ The local user account was already added to the docker group A working Traefik proxy configured for home.russfeld.me with Let’s Encrypt SSL certificates enabled: https://traefik.io/traefik/ A world-routable DNS name home.russfeld.me directed to the IP address of the system Since this is running at home, it is port-forwarded through my local router and I use a Dynamic DNS system to keep this up to date A world-routable DNS name is required when testing some external LTI tools - localhost will not work Other options might be ngrok or another VPN There may have been other tools installed earlier that I did not account for here.\nSteps Clone Repository ​ terminal $ git clone git@github.com:instructure/canvas-lms.git Modify Setup Script The setup script insists that Docker Compose be installed separately; it is now part of the default Docker installation on Ubuntu and does not appear as a separate item on my system. So, it can be removed from the setup script.\n​ script/common/os/linux/dev_setup.sh #!/bin/bash source script/common/utils/common.sh source script/common/os/linux/impl.sh source script/common/utils/dory_setup.sh - dependencies='docker,docker-compose 1.20.0' + dependencies='docker' DOCKER_COMMAND=\"docker compose\" message \"It looks like you're using Linux. Let's set that up.\" Export Environment Settings My development environment seems to require these settings:\n​ terminal $ export DOCKER_BUILDKIT=0 $ export COMPOSE_DOCKER_CLI_BUILD=0 Set Gemfile Permissions There are several file permission errors that will crop up during the build. The best fix is to give Canvas user permission to all files in the build folder via setfacl:\n​ terminal $ setfacl -Rm u:9999:rwX,g:9999:rwX . $ setfacl -dRm u:9999:rwX,g:9999:rwX . Discussion:\nhttps://github.com/instructure/canvas-lms/issues/1221 https://github.com/instructure/canvas-lms/issues/1649 (I used this solution) https://github.com/instructure/canvas-lms/issues/2199 Run Setup Script ​ terminal $ ./script/docker_dev_setup.sh Setup options:\nWould you like to skip dory? yes (we will use Traefik) OK to run ‘cp docker-compose/config/*.yml config/’? yes (you may not want to do this a second time if you’ve made edits) Do you want to drop and create new or migrate existing? drop (you may want to use migrate on future runs) What email address will the site administrator account use? canvasadmin@russfeld.me What password will the site administrator use? [random password here] What do you want users to see as the account name? This should probably be the name of your organization. ALT+CS Lab To help our developers better serve you, Instructure would like to collect some usage data about your Canvas installation. You can change this setting at any time. 3. Opt out completely Notes from the end of the installation process: Running Canvas: docker compose up -d open http://canvas.docker Running the tests: docker compose run --rm web bundle exec rspec Running Selenium tests: add docker-compose/selenium.override.yml in the .env file echo ':docker-compose/selenium.override.yml' \u003e\u003e .env build the selenium container docker compose up -d selenium-hub run selenium docker compose run --rm web bundle exec rspec spec/selenium Virtual network remote desktop sharing to selenium container for Firefox: $ open vnc://secret:secret@seleniumff.docker for chrome: $ open vnc://secret:secret@seleniumch.docker:5901 I'm stuck. Where can I go for help? FAQ: https://github.com/instructure/canvas-lms/wiki/FAQ Dev \u0026 Friends: http://instructure.github.io/ Canvas Guides: https://guides.instructure.com/ Vimeo channel: https://vimeo.com/canvaslms API docs: https://canvas.instructure.com/doc/api/index.html Mailing list: http://groups.google.com/group/canvas-lms-users IRC: https://web.libera.chat/#canvas-lms Please do not open a GitHub issue until you have tried asking for help on the mailing list or IRC - GitHub issues are for verified bugs only. Thanks and good luck! \\o/ Success! Edit Configuration Files Domain Configuration\n​ config/domain.yml production: domain: \"canvas.home.russfeld.me\" test: domain: localhost development: domain: \"canvas.home.russfeld.me\" Email Configuration\n​ config/outgoing_mail.yml production: \u0026production address: mailcatcher port: 1025 domain: canvas.home.russfeld.me outgoing_address: canvas@russfeld.me default_name: ALT+CS Lab Canvas development: \u003c\u003c: *production Security Configuration\n​ config/security.yml production: \u0026default encryption_key: \u003c%= ENV[\"ENCRYPTION_KEY\"] %\u003e lti_iss: 'https://canvas.home.russfeld.me' development: \u003c\u003c: *default test: \u003c\u003c: *default Enable Mailcatcher Enable the Mailcatcher service by adding it to the .env file:\n​ .env COMPOSE_FILE=docker-compose.yml:docker-compose.override.yml:docker-compose/mailcatcher.override.yml Discussion\nhttps://github.com/instructure/canvas-lms/blob/master/doc/docker/developing_with_docker.md#mail-catcher Update Docker Compose Files This will set the Traefik tags for each container and other options.\nMain Docker Compose\n​ docker-compose.override.yml web: \u003c\u003c: *BASE environment: \u003c\u003c: *BASE-ENV - VIRTUAL_HOST: .canvas.docker + VIRTUAL_HOST: .canvas.home.russfeld.me HTTPS_METHOD: noredirect # AR_QUERY_TRACE: 'true' # AR_QUERY_TRACE_TYPE: 'all' # 'all', 'write', or 'read' # AR_QUERY_TRACE_LINES: 10 # DISABLE_N_PLUS_ONE_DETECTION: 'false' + # @russfeld + networks: + - traefik + - default + labels: + # +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ + # Traefik Labels - see https://doc.traefik.io/traefik/routing/providers/docker/ + # Traefik Enable + - \"traefik.enable=true\" + # Docker Network + - \"traefik.docker.network=traefik\" + # Routing Rule + - \"traefik.http.routers.canvas.rule=Host(`canvas.home.russfeld.me`)\" + # Enable TLS + - \"traefik.http.routers.canvas.tls=true\" + # TLS Certificate Resolver + - \"traefik.http.routers.canvas.tls.certresolver=letsencrypt\" + # +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ +#Bottom of the file +networks: + traefik: + external: true Mailcatcher Docker Compose\n​ docker-compose/mailcatcher.override.yml services: web: links: - mailcatcher mailcatcher: image: instructure/mailcatcher environment: - VIRTUAL_HOST: mail.canvas.docker + VIRTUAL_HOST: mail.home.russfeld.me VIRTUAL_PORT: 8080 + # @russfeld + networks: + - traefik + - default + labels: + # +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ + # Traefik Labels - see https://doc.traefik.io/traefik/routing/providers/docker/ + # Traefik Enable + - \"traefik.enable=true\" + # Docker Network + - \"traefik.docker.network=traefik\" + # Routing Rule + - \"traefik.http.routers.mailcatcher.rule=Host(`mail.home.russfeld.me`)\" + # Change Port + - \"traefik.http.services.mailcatcher.loadbalancer.server.port=8080\" + # Enable TLS + - \"traefik.http.routers.mailcatcher.tls=true\" + # TLS Certificate Resolver + - \"traefik.http.routers.mailcatcher.tls.certresolver=letsencrypt\" + # +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ +#Bottom of the file +networks: + traefik: + external: true Start the Server ​ terminal $ docker compose up -d",
    "description": "References https://github.com/instructure/canvas-lms/wiki/Quick-Start https://github.com/instructure/canvas-lms/blob/master/doc/docker/developing_with_docker.md Requirements This was configured for my local development machine. It has the following already installed/configured:\nUbuntu 24.04 LTS Docker: https://docs.docker.com/engine/install/ubuntu/ The local user account was already added to the docker group A working Traefik proxy configured for home.russfeld.me with Let’s Encrypt SSL certificates enabled: https://traefik.io/traefik/ A world-routable DNS name home.russfeld.me directed to the IP address of the system Since this is running at home, it is port-forwarded through my local router and I use a Dynamic DNS system to keep this up to date A world-routable DNS name is required when testing some external LTI tools - localhost will not work Other options might be ngrok or another VPN There may have been other tools installed earlier that I did not account for here.",
    "tags": [],
    "title": "Installing Canvas",
    "uri": "/lti-toolkit/01-setup/01-canvas/index.html"
  },
  {
    "breadcrumb": "LTI Docs",
    "content": "This page documents the messages sent from an LMS to this tool acting as an LTI 1.0 Tool Provider.\nSequence Diagram Sample LTI Launch Messages LTI 1.0 Launch from Canvas - Admin Account { \"oauth_consumer_key\": \"thisisasupersecretkey\", \"oauth_signature_method\": \"HMAC-SHA1\", \"oauth_timestamp\": \"1749754327\", \"oauth_nonce\": \"JUcK2ZIwc5I9SJsDDwAeODA76PgtBHMYyHgPQ8YvEEw\", \"oauth_version\": \"1.0\", \"context_id\": \"d3a2504bba5184799a38f141e8df2335cfa8206d\", \"context_label\": \"LTI13\", \"context_title\": \"LTI 1.3 Test Course\", \"custom_canvas_api_domain\": \"canvas.home.russfeld.me\", \"custom_canvas_assignment_id\": \"2\", \"custom_canvas_assignment_points_possible\": \"100\", \"custom_canvas_assignment_title\": \"Test LTI 1.3 Assignment Name\", \"custom_canvas_course_id\": \"3\", \"custom_canvas_enrollment_state\": \"\", \"custom_canvas_module_id\": \"$Canvas.module.id\", \"custom_canvas_module_item_id\": \"2\", \"custom_canvas_user_id\": \"1\", \"custom_canvas_user_login_id\": \"canvasadmin@russfeld.me\", \"custom_canvas_workflow_state\": \"available\", \"ext_ims_lis_basic_outcome_url\": \"https://canvas.home.russfeld.me/api/lti/v1/tools/6/ext_grade_passback\", \"ext_lti_assignment_id\": \"8aa641d1-b4d4-4fea-8a9b-e9fedfb62b1e\", \"ext_outcome_data_values_accepted\": \"url,text\", \"ext_outcome_result_total_score_accepted\": \"true\", \"ext_outcome_submission_needs_additional_review_accepted\": \"true\", \"ext_outcome_submission_prioritize_non_tool_grade_accepted\": \"true\", \"ext_outcome_submission_submitted_at_accepted\": \"true\", \"ext_outcomes_tool_placement_url\": \"https://canvas.home.russfeld.me/api/lti/v1/turnitin/outcomes_placement/6\", \"ext_roles\": \"urn:lti:instrole:ims/lis/Administrator,urn:lti:sysrole:ims/lis/SysAdmin,urn:lti:sysrole:ims/lis/User\", \"launch_presentation_document_target\": \"iframe\", \"launch_presentation_locale\": \"en\", \"launch_presentation_return_url\": \"https://canvas.home.russfeld.me/courses/3/assignments\", \"lis_outcome_service_url\": \"https://canvas.home.russfeld.me/api/lti/v1/tools/6/grade_passback\", \"lis_person_contact_email_primary\": \"canvasadmin@russfeld.me\", \"lis_person_name_family\": \"\", \"lis_person_name_full\": \"canvasadmin@russfeld.me\", \"lis_person_name_given\": \"canvasadmin@russfeld.me\", \"lti_message_type\": \"basic-lti-launch-request\", \"lti_version\": \"LTI-1p0\", \"oauth_callback\": \"about:blank\", \"resource_link_id\": \"6a8aaca162bfc4393804afd4cd53cd94413c48bb\", \"resource_link_title\": \"Test LTI 1.3 Assignment Name\", \"roles\": \"urn:lti:instrole:ims/lis/Administrator,urn:lti:sysrole:ims/lis/SysAdmin\", \"tool_consumer_info_product_family_code\": \"canvas\", \"tool_consumer_info_version\": \"cloud\", \"tool_consumer_instance_contact_email\": \"canvas@russfeld.me\", \"tool_consumer_instance_guid\": \"zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms\", \"tool_consumer_instance_name\": \"ALT+CS Lab\", \"user_id\": \"535fa085f22b4655f48cd5a36a9215f64c062838\", \"user_image\": \"http://canvas.instructure.com/images/messages/avatar-50.png\", \"oauth_signature\": \"lrWfY8y049li0gJBEM//4hwgUy8=\" } LTI 1.0 Launch from Canvas - Teacher Account { \"oauth_consumer_key\": \"thisisasupersecretkey\", \"oauth_signature_method\": \"HMAC-SHA1\", \"oauth_timestamp\": \"1749756799\", \"oauth_nonce\": \"aVAIWQpIfbCZAtCr5FP0ruPHY4522yzGwhtFLNIA4\", \"oauth_version\": \"1.0\", \"context_id\": \"4dde05e8ca1973bcca9bffc13e1548820eee93a3\", \"context_label\": \"LTI10\", \"context_title\": \"LTI 1.0 Test Course\", \"custom_1\": \"value_1\", \"custom_2\": \"value_2\", \"custom_canvas_api_domain\": \"canvas.home.russfeld.me\", \"custom_canvas_assignment_id\": \"1\", \"custom_canvas_assignment_points_possible\": \"100\", \"custom_canvas_assignment_title\": \"Test LTI 1.0 Assignment Name\", \"custom_canvas_course_id\": \"1\", \"custom_canvas_enrollment_state\": \"active\", \"custom_canvas_module_id\": \"$Canvas.module.id\", \"custom_canvas_module_item_id\": \"1\", \"custom_canvas_user_id\": \"3\", \"custom_canvas_user_login_id\": \"canvasteacher@russfeld.me\", \"custom_canvas_workflow_state\": \"available\", \"ext_ims_lis_basic_outcome_url\": \"https://canvas.home.russfeld.me/api/lti/v1/tools/1/ext_grade_passback\", \"ext_lti_assignment_id\": \"599692b2-3abe-4ca2-a6c8-2323ef57189d\", \"ext_outcome_data_values_accepted\": \"url,text\", \"ext_outcome_result_total_score_accepted\": \"true\", \"ext_outcome_submission_needs_additional_review_accepted\": \"true\", \"ext_outcome_submission_prioritize_non_tool_grade_accepted\": \"true\", \"ext_outcome_submission_submitted_at_accepted\": \"true\", \"ext_outcomes_tool_placement_url\": \"https://canvas.home.russfeld.me/api/lti/v1/turnitin/outcomes_placement/1\", \"ext_roles\": \"urn:lti:instrole:ims/lis/Instructor,urn:lti:role:ims/lis/Instructor,urn:lti:sysrole:ims/lis/User\", \"launch_presentation_document_target\": \"iframe\", \"launch_presentation_locale\": \"en\", \"launch_presentation_return_url\": \"https://canvas.home.russfeld.me/courses/1/assignments\", \"lis_outcome_service_url\": \"https://canvas.home.russfeld.me/api/lti/v1/tools/1/grade_passback\", \"lis_person_contact_email_primary\": \"canvasteacher@russfeld.me\", \"lis_person_name_family\": \"TeacherLast\", \"lis_person_name_full\": \"TeacherFirst TeacherLast\", \"lis_person_name_given\": \"TeacherFirst\", \"lis_person_sourcedid\": \"7858675309\", \"lti_message_type\": \"basic-lti-launch-request\", \"lti_version\": \"LTI-1p0\", \"oauth_callback\": \"about:blank\", \"resource_link_id\": \"ae06e3eb8ea83588f0a1c5897b98830dc93f47d8\", \"resource_link_title\": \"Test LTI 1.0 Assignment Name\", \"roles\": \"Instructor\", \"tool_consumer_info_product_family_code\": \"canvas\", \"tool_consumer_info_version\": \"cloud\", \"tool_consumer_instance_contact_email\": \"canvas@russfeld.me\", \"tool_consumer_instance_guid\": \"zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms\", \"tool_consumer_instance_name\": \"ALT+CS Lab\", \"user_id\": \"c0ddd6c90cbe1ef0f32fbce5c3bf654204be186c\", \"user_image\": \"https://canvas.home.russfeld.me/images/thumbnails/2/GJhBgjcBm2BG6aFOlLDZpjEMDRzB5jgUBJYuVqJu\", \"oauth_signature\": \"99TXj++LWMqCjKfHcCE7KFt9aZk=\" } LTI 1.0 Launch from Canvas - Student Account { \"oauth_consumer_key\": \"thisisasupersecretkey\", \"oauth_signature_method\": \"HMAC-SHA1\", \"oauth_timestamp\": \"1749756960\", \"oauth_nonce\": \"MBh6cnqdWZBavuubUyf66SHaMlylmIVbjkbLa4HDLZA\", \"oauth_version\": \"1.0\", \"context_id\": \"4dde05e8ca1973bcca9bffc13e1548820eee93a3\", \"context_label\": \"LTI10\", \"context_title\": \"LTI 1.0 Test Course\", \"custom_1\": \"value_1\", \"custom_2\": \"value_2\", \"custom_canvas_api_domain\": \"canvas.home.russfeld.me\", \"custom_canvas_assignment_id\": \"1\", \"custom_canvas_assignment_points_possible\": \"100\", \"custom_canvas_assignment_title\": \"Test LTI 1.0 Assignment Name\", \"custom_canvas_course_id\": \"1\", \"custom_canvas_enrollment_state\": \"active\", \"custom_canvas_module_id\": \"$Canvas.module.id\", \"custom_canvas_module_item_id\": \"1\", \"custom_canvas_user_id\": \"2\", \"custom_canvas_user_login_id\": \"canvasstudent@russfeld.me\", \"custom_canvas_workflow_state\": \"available\", \"ext_ims_lis_basic_outcome_url\": \"https://canvas.home.russfeld.me/api/lti/v1/tools/1/ext_grade_passback\", \"ext_lti_assignment_id\": \"599692b2-3abe-4ca2-a6c8-2323ef57189d\", \"ext_outcome_data_values_accepted\": \"url,text\", \"ext_outcome_result_total_score_accepted\": \"true\", \"ext_outcome_submission_needs_additional_review_accepted\": \"true\", \"ext_outcome_submission_prioritize_non_tool_grade_accepted\": \"true\", \"ext_outcome_submission_submitted_at_accepted\": \"true\", \"ext_outcomes_tool_placement_url\": \"https://canvas.home.russfeld.me/api/lti/v1/turnitin/outcomes_placement/1\", \"ext_roles\": \"urn:lti:instrole:ims/lis/Student,urn:lti:role:ims/lis/Learner,urn:lti:sysrole:ims/lis/User\", \"launch_presentation_document_target\": \"iframe\", \"launch_presentation_locale\": \"en\", \"launch_presentation_return_url\": \"https://canvas.home.russfeld.me/courses/1/assignments\", \"lis_outcome_service_url\": \"https://canvas.home.russfeld.me/api/lti/v1/tools/1/grade_passback\", \"lis_person_contact_email_primary\": \"canvasstudent@russfeld.me\", \"lis_person_name_family\": \"StudentLast\", \"lis_person_name_full\": \"StudentFirst StudentLast\", \"lis_person_name_given\": \"StudentFirst\", \"lis_person_sourcedid\": \"835203884\", \"lis_result_sourcedid\": \"1-1-1-2-c14957047fa8fd73a6aa4d7ec543574aff29597b\", \"lti_message_type\": \"basic-lti-launch-request\", \"lti_version\": \"LTI-1p0\", \"oauth_callback\": \"about:blank\", \"resource_link_id\": \"ae06e3eb8ea83588f0a1c5897b98830dc93f47d8\", \"resource_link_title\": \"Test LTI 1.0 Assignment Name\", \"roles\": \"Learner\", \"tool_consumer_info_product_family_code\": \"canvas\", \"tool_consumer_info_version\": \"cloud\", \"tool_consumer_instance_contact_email\": \"canvas@russfeld.me\", \"tool_consumer_instance_guid\": \"zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms\", \"tool_consumer_instance_name\": \"ALT+CS Lab\", \"user_id\": \"86157096483e6b3a50bfedc6bac902c0b20a824f\", \"user_image\": \"https://canvas.home.russfeld.me/images/thumbnails/3/fnQIzMRWPAny4JOWMUvz8FiHsvP5Tyk4CRBKmMhm\", \"oauth_signature\": \"eXuQHonpd554T34k8Ro22+lhI+c=\" } Helpful References: https://www.imsglobal.org/specs/ltiv1p1/implementation-guide - super helpful https://datatracker.ietf.org/doc/html/rfc5849 - OAuth 1.0 https://github.com/request/oauth-sign/blob/master/index.js - reference implementation https://github.com/omsmith/ims-lti - reference implementation",
    "description": "This page documents the messages sent from an LMS to this tool acting as an LTI 1.0 Tool Provider.\nSequence Diagram Sample LTI Launch Messages LTI 1.0 Launch from Canvas - Admin Account { \"oauth_consumer_key\": \"thisisasupersecretkey\", \"oauth_signature_method\": \"HMAC-SHA1\", \"oauth_timestamp\": \"1749754327\", \"oauth_nonce\": \"JUcK2ZIwc5I9SJsDDwAeODA76PgtBHMYyHgPQ8YvEEw\", \"oauth_version\": \"1.0\", \"context_id\": \"d3a2504bba5184799a38f141e8df2335cfa8206d\", \"context_label\": \"LTI13\", \"context_title\": \"LTI 1.3 Test Course\", \"custom_canvas_api_domain\": \"canvas.home.russfeld.me\", \"custom_canvas_assignment_id\": \"2\", \"custom_canvas_assignment_points_possible\": \"100\", \"custom_canvas_assignment_title\": \"Test LTI 1.3 Assignment Name\", \"custom_canvas_course_id\": \"3\", \"custom_canvas_enrollment_state\": \"\", \"custom_canvas_module_id\": \"$Canvas.module.id\", \"custom_canvas_module_item_id\": \"2\", \"custom_canvas_user_id\": \"1\", \"custom_canvas_user_login_id\": \"canvasadmin@russfeld.me\", \"custom_canvas_workflow_state\": \"available\", \"ext_ims_lis_basic_outcome_url\": \"https://canvas.home.russfeld.me/api/lti/v1/tools/6/ext_grade_passback\", \"ext_lti_assignment_id\": \"8aa641d1-b4d4-4fea-8a9b-e9fedfb62b1e\", \"ext_outcome_data_values_accepted\": \"url,text\", \"ext_outcome_result_total_score_accepted\": \"true\", \"ext_outcome_submission_needs_additional_review_accepted\": \"true\", \"ext_outcome_submission_prioritize_non_tool_grade_accepted\": \"true\", \"ext_outcome_submission_submitted_at_accepted\": \"true\", \"ext_outcomes_tool_placement_url\": \"https://canvas.home.russfeld.me/api/lti/v1/turnitin/outcomes_placement/6\", \"ext_roles\": \"urn:lti:instrole:ims/lis/Administrator,urn:lti:sysrole:ims/lis/SysAdmin,urn:lti:sysrole:ims/lis/User\", \"launch_presentation_document_target\": \"iframe\", \"launch_presentation_locale\": \"en\", \"launch_presentation_return_url\": \"https://canvas.home.russfeld.me/courses/3/assignments\", \"lis_outcome_service_url\": \"https://canvas.home.russfeld.me/api/lti/v1/tools/6/grade_passback\", \"lis_person_contact_email_primary\": \"canvasadmin@russfeld.me\", \"lis_person_name_family\": \"\", \"lis_person_name_full\": \"canvasadmin@russfeld.me\", \"lis_person_name_given\": \"canvasadmin@russfeld.me\", \"lti_message_type\": \"basic-lti-launch-request\", \"lti_version\": \"LTI-1p0\", \"oauth_callback\": \"about:blank\", \"resource_link_id\": \"6a8aaca162bfc4393804afd4cd53cd94413c48bb\", \"resource_link_title\": \"Test LTI 1.3 Assignment Name\", \"roles\": \"urn:lti:instrole:ims/lis/Administrator,urn:lti:sysrole:ims/lis/SysAdmin\", \"tool_consumer_info_product_family_code\": \"canvas\", \"tool_consumer_info_version\": \"cloud\", \"tool_consumer_instance_contact_email\": \"canvas@russfeld.me\", \"tool_consumer_instance_guid\": \"zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms\", \"tool_consumer_instance_name\": \"ALT+CS Lab\", \"user_id\": \"535fa085f22b4655f48cd5a36a9215f64c062838\", \"user_image\": \"http://canvas.instructure.com/images/messages/avatar-50.png\", \"oauth_signature\": \"lrWfY8y049li0gJBEM//4hwgUy8=\" } LTI 1.0 Launch from Canvas - Teacher Account { \"oauth_consumer_key\": \"thisisasupersecretkey\", \"oauth_signature_method\": \"HMAC-SHA1\", \"oauth_timestamp\": \"1749756799\", \"oauth_nonce\": \"aVAIWQpIfbCZAtCr5FP0ruPHY4522yzGwhtFLNIA4\", \"oauth_version\": \"1.0\", \"context_id\": \"4dde05e8ca1973bcca9bffc13e1548820eee93a3\", \"context_label\": \"LTI10\", \"context_title\": \"LTI 1.0 Test Course\", \"custom_1\": \"value_1\", \"custom_2\": \"value_2\", \"custom_canvas_api_domain\": \"canvas.home.russfeld.me\", \"custom_canvas_assignment_id\": \"1\", \"custom_canvas_assignment_points_possible\": \"100\", \"custom_canvas_assignment_title\": \"Test LTI 1.0 Assignment Name\", \"custom_canvas_course_id\": \"1\", \"custom_canvas_enrollment_state\": \"active\", \"custom_canvas_module_id\": \"$Canvas.module.id\", \"custom_canvas_module_item_id\": \"1\", \"custom_canvas_user_id\": \"3\", \"custom_canvas_user_login_id\": \"canvasteacher@russfeld.me\", \"custom_canvas_workflow_state\": \"available\", \"ext_ims_lis_basic_outcome_url\": \"https://canvas.home.russfeld.me/api/lti/v1/tools/1/ext_grade_passback\", \"ext_lti_assignment_id\": \"599692b2-3abe-4ca2-a6c8-2323ef57189d\", \"ext_outcome_data_values_accepted\": \"url,text\", \"ext_outcome_result_total_score_accepted\": \"true\", \"ext_outcome_submission_needs_additional_review_accepted\": \"true\", \"ext_outcome_submission_prioritize_non_tool_grade_accepted\": \"true\", \"ext_outcome_submission_submitted_at_accepted\": \"true\", \"ext_outcomes_tool_placement_url\": \"https://canvas.home.russfeld.me/api/lti/v1/turnitin/outcomes_placement/1\", \"ext_roles\": \"urn:lti:instrole:ims/lis/Instructor,urn:lti:role:ims/lis/Instructor,urn:lti:sysrole:ims/lis/User\", \"launch_presentation_document_target\": \"iframe\", \"launch_presentation_locale\": \"en\", \"launch_presentation_return_url\": \"https://canvas.home.russfeld.me/courses/1/assignments\", \"lis_outcome_service_url\": \"https://canvas.home.russfeld.me/api/lti/v1/tools/1/grade_passback\", \"lis_person_contact_email_primary\": \"canvasteacher@russfeld.me\", \"lis_person_name_family\": \"TeacherLast\", \"lis_person_name_full\": \"TeacherFirst TeacherLast\", \"lis_person_name_given\": \"TeacherFirst\", \"lis_person_sourcedid\": \"7858675309\", \"lti_message_type\": \"basic-lti-launch-request\", \"lti_version\": \"LTI-1p0\", \"oauth_callback\": \"about:blank\", \"resource_link_id\": \"ae06e3eb8ea83588f0a1c5897b98830dc93f47d8\", \"resource_link_title\": \"Test LTI 1.0 Assignment Name\", \"roles\": \"Instructor\", \"tool_consumer_info_product_family_code\": \"canvas\", \"tool_consumer_info_version\": \"cloud\", \"tool_consumer_instance_contact_email\": \"canvas@russfeld.me\", \"tool_consumer_instance_guid\": \"zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms\", \"tool_consumer_instance_name\": \"ALT+CS Lab\", \"user_id\": \"c0ddd6c90cbe1ef0f32fbce5c3bf654204be186c\", \"user_image\": \"https://canvas.home.russfeld.me/images/thumbnails/2/GJhBgjcBm2BG6aFOlLDZpjEMDRzB5jgUBJYuVqJu\", \"oauth_signature\": \"99TXj++LWMqCjKfHcCE7KFt9aZk=\" } LTI 1.0 Launch from Canvas - Student Account { \"oauth_consumer_key\": \"thisisasupersecretkey\", \"oauth_signature_method\": \"HMAC-SHA1\", \"oauth_timestamp\": \"1749756960\", \"oauth_nonce\": \"MBh6cnqdWZBavuubUyf66SHaMlylmIVbjkbLa4HDLZA\", \"oauth_version\": \"1.0\", \"context_id\": \"4dde05e8ca1973bcca9bffc13e1548820eee93a3\", \"context_label\": \"LTI10\", \"context_title\": \"LTI 1.0 Test Course\", \"custom_1\": \"value_1\", \"custom_2\": \"value_2\", \"custom_canvas_api_domain\": \"canvas.home.russfeld.me\", \"custom_canvas_assignment_id\": \"1\", \"custom_canvas_assignment_points_possible\": \"100\", \"custom_canvas_assignment_title\": \"Test LTI 1.0 Assignment Name\", \"custom_canvas_course_id\": \"1\", \"custom_canvas_enrollment_state\": \"active\", \"custom_canvas_module_id\": \"$Canvas.module.id\", \"custom_canvas_module_item_id\": \"1\", \"custom_canvas_user_id\": \"2\", \"custom_canvas_user_login_id\": \"canvasstudent@russfeld.me\", \"custom_canvas_workflow_state\": \"available\", \"ext_ims_lis_basic_outcome_url\": \"https://canvas.home.russfeld.me/api/lti/v1/tools/1/ext_grade_passback\", \"ext_lti_assignment_id\": \"599692b2-3abe-4ca2-a6c8-2323ef57189d\", \"ext_outcome_data_values_accepted\": \"url,text\", \"ext_outcome_result_total_score_accepted\": \"true\", \"ext_outcome_submission_needs_additional_review_accepted\": \"true\", \"ext_outcome_submission_prioritize_non_tool_grade_accepted\": \"true\", \"ext_outcome_submission_submitted_at_accepted\": \"true\", \"ext_outcomes_tool_placement_url\": \"https://canvas.home.russfeld.me/api/lti/v1/turnitin/outcomes_placement/1\", \"ext_roles\": \"urn:lti:instrole:ims/lis/Student,urn:lti:role:ims/lis/Learner,urn:lti:sysrole:ims/lis/User\", \"launch_presentation_document_target\": \"iframe\", \"launch_presentation_locale\": \"en\", \"launch_presentation_return_url\": \"https://canvas.home.russfeld.me/courses/1/assignments\", \"lis_outcome_service_url\": \"https://canvas.home.russfeld.me/api/lti/v1/tools/1/grade_passback\", \"lis_person_contact_email_primary\": \"canvasstudent@russfeld.me\", \"lis_person_name_family\": \"StudentLast\", \"lis_person_name_full\": \"StudentFirst StudentLast\", \"lis_person_name_given\": \"StudentFirst\", \"lis_person_sourcedid\": \"835203884\", \"lis_result_sourcedid\": \"1-1-1-2-c14957047fa8fd73a6aa4d7ec543574aff29597b\", \"lti_message_type\": \"basic-lti-launch-request\", \"lti_version\": \"LTI-1p0\", \"oauth_callback\": \"about:blank\", \"resource_link_id\": \"ae06e3eb8ea83588f0a1c5897b98830dc93f47d8\", \"resource_link_title\": \"Test LTI 1.0 Assignment Name\", \"roles\": \"Learner\", \"tool_consumer_info_product_family_code\": \"canvas\", \"tool_consumer_info_version\": \"cloud\", \"tool_consumer_instance_contact_email\": \"canvas@russfeld.me\", \"tool_consumer_instance_guid\": \"zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms\", \"tool_consumer_instance_name\": \"ALT+CS Lab\", \"user_id\": \"86157096483e6b3a50bfedc6bac902c0b20a824f\", \"user_image\": \"https://canvas.home.russfeld.me/images/thumbnails/3/fnQIzMRWPAny4JOWMUvz8FiHsvP5Tyk4CRBKmMhm\", \"oauth_signature\": \"eXuQHonpd554T34k8Ro22+lhI+c=\" } Helpful References: https://www.imsglobal.org/specs/ltiv1p1/implementation-guide - super helpful https://datatracker.ietf.org/doc/html/rfc5849 - OAuth 1.0 https://github.com/request/oauth-sign/blob/master/index.js - reference implementation https://github.com/omsmith/ims-lti - reference implementation",
    "tags": [],
    "title": "LTI 1.0 Tool Provider",
    "uri": "/lti-toolkit/02-lti/01-lti10-tool/index.html"
  },
  {
    "breadcrumb": "Documentation \u003e Examples",
    "content": "A fully-featured LTI Tool Provider example can be found in /examples/provider. This document will walk through the details of how that application works.\nEnvironment The application expects the following environment variables (typically loaded from .env):\n​ .env # Express Session Secret SESSION_SECRET=your_session_secret # Log Level # One of error warn info http verbose lti debug sql silly LOG_LEVEL=lti # Application Domain Name DOMAIN_NAME=https://ltidemo.home.russfeld.me # LTI Consumer Key and Secret LTI_CONSUMER_KEY=your_lti_consumer_key LTI_CONSUMER_SECRET=your_lti_consumer_secret # LTI 1.3 LMS Domain LTI_13_LMS_DOMAIN=https://canvas.instructure.com LMS Configuration - LTI 1.0 The settings above can then be used to configure this application in your learning management system (LMS) using LTI 1.0. Refer to your LMS documentation for specific details. An example using Canvas is given below.\nConsumer Key - LTI_CONSUMER_KEY from the app environment Shared Secret - LTI_CONSUMER_SECRET from the app environment Launch URL - DOMAIN_NAME from the app environment followed by /lti/provider/launch10 by default. The URL can be configured in app.js as described below. Domain - typically the DOMAIN_NAME from the app environment without the https:// at the front Privacy Level - must be Public (the library does not currently support anonymous students) Once the application has been added to the course, an assignment can be created to direct students to the Launch URL used above.\nTo access the rest of the application, students and teachers should use the assignment configured in the learning management system to perform an LTI Launch as described below.\nLTI Toolkit Configuration The src/configs/lti.js file contains a minimal configuration for the LTI Toolkit for use as an LTI 1.0 Tool Provider:\n​ src/configs/lti.js /** * @file Configuration information for LTI Toolkit * @author Russell Feldhausen \u003crussfeld@ksu.edu\u003e * @exports lti an LTI Toolkit instance configured for this app */ // Import LTI Toolkit import LTIToolkit from \"lti-toolkit\"; // LTI Launch Handler import LTILaunch from \"../routes/lti-launch.js\"; // Initialize LTI Toolkit const lti = await LTIToolkit({ // Domain name for this application domain_name: process.env.DOMAIN_NAME, // Logging Level log_level: process.env.LOG_LEVEL || \"silly\", // Use In-memory database for testing db_storage: \":memory:\", provider: { // Incoming LTI Launch Handler handleLaunch: LTILaunch, // LTI 1.0 Consumer Key and Shared Secret // for single LTI consumer setup key: process.env.LTI_CONSUMER_KEY, secret: process.env.LTI_CONSUMER_SECRET, }, }); export default lti; It configures a default LTI 1.0 Tool Provider using the domain, key and secret provided in the environment. It also configures the log level and tells the system to use an in-memory database instance. Finally, it directs the library ro the LTILaunch function provided by one of the routes as the handler for incoming LTI Launch Requests.\nIntegrating Application Routes The app.js file creates a basic Express application with a minimal set of libraries and configuration.\n​ app.js // Import LTI configuration import lti from \"./configs/lti.js\"; // Other imports here // Create Express application var app = express(); // Other configuration here // Add LTI Toolkit Routes app.use(\"/lti/provider\", lti.routers.provider); The details of that file are omitted (read the source, you must), but the notable configuration is shown above. The configured LTI Toolkit is imported, and then the LTI Provider Router is connected to the application at the /lti/provider path. So, any incoming requests sent to that URL will be passed to the LTI Toolkit for handling. This matches the route used when configuring the tool in Canvas as shown above.\nLTI Launch Handler The LTI Launch Handler function will receive three parameters:\nlaunchData - an instance of the LTI Launch Data consumer - a Sequelize instance of an LTI Consumer from the database req - the incoming Express request object In the example project, we use the following LTI Launch Handler:\n​ src/routes/lti-launch.js /** * Handle an incoming LTI Launch Request * * @param {Object} launchData - an LTI Launch Data object * @param {Object} consumer - the LTI consumer object * @param {Object} req - the Express request object * @returns {String} a URL to redirect the user to after launch */ async function LTILaunch(launchData, consumer, req) { // We will store the LTI Launch Data and Consumer in the session for later use req.session.ltiLaunchData = launchData; req.session.ltiConsumer = consumer.toJSON(); // Determine if the user is a teacher or student const isStudent = parseRoles(launchData); // Record data in local data store updateDataStore(launchData, isStudent, req); // Redirect user based on role if (isStudent) { return \"/student\"; } else { return \"/instructor\"; } } Notice that we serialize the consumer parameter to JSON since it is provided as a Sequelize object instance.\nThis handler users two helper functions. The first will parse the incoming roles in the launchData object:\n​ src/routes/lti-launch.js /** * Parse LTI roles to determine user type * @param {Object} launchData - the LTI Launch Data object * @returns {Boolean} 'true' if user is a student, 'false' otherwise */ function parseRoles(launchData) { try { if (launchData.launch_type === \"lti1.0\") { // See https://www.imsglobal.org/specs/ltiv1p0/implementation-guide#toc-9 // LTI 1.0 roles are a long string if (launchData.user_roles.includes(\"Learner\")) { return true; } return false; } else if (launchData.launch_type === \"lti1.3\") { // See https://www.imsglobal.org/spec/lti/v1p3#role-vocabularies // LTI 1.3 roles are an array of strings if (launchData.user_roles.some((role) =\u003e role.includes(\"Learner\"))) { return true; } return false; } else { // Unknown LTI version console.error(\"Unknown LTI launch type:\", launchData.launch_type); return false; } } catch (error) { console.error(\"Error parsing roles:\", error); console.error(\"Roles data:\", launchData.user_roles); return false; } } It will simply return true if the role is a student, otherwise it will treat the role as an instructor. This may or may not be desired behavior for a production application.\nFinally, it also stores data about the incoming launchData in a shared data structure that is only stored in memory.\n​ src/routes/lti-launch.js /** * Update local data store * * @param {Object} launchData - the LTI Launch Data object * @param {Boolean} isStudent - 'true' if user is a student, 'false' otherwise * @param {Object} req - the Express request object */ function updateDataStore(launchData, isStudent, req) { // This is a placeholder function for updating a local data store // In a real application, you would implement logic to store // relevant launch data in your database or other storage system const courses = req.app.locals.dataStore.courses; const courseId = launchData.course_id; if (!courses[courseId]) { courses[courseId] = { name: launchData.course_name, label: launchData.course_label, assignments: {}, }; } const assignments = courses[courseId].assignments; const assignmentId = launchData.assignment_id; if (!assignments[assignmentId]) { assignments[assignmentId] = { name: launchData.assignment_name, lti_id: launchData.assignment_lti_id, grade_url: launchData.outcome_url, grades: {}, }; } if (isStudent) { const userName = launchData.user_name; const userId = launchData.user_lis_id; const userId13 = launchData.user_lis13_id; const outcomeId = launchData.outcome_id; assignments[assignmentId].grades[userId] = { name: userName, lis_id: userId, lis13_id: userId13, outcome_id: outcomeId, score: null, }; } } In practice, this would be replaced with appropriate code and logic to store this data in a database or other storage mechanism for the application. However, this data structure is instructive as it shows a minimal set of data that could be stored in order to track courses, assignments, students, and grades.\nStudent Grade Passback Once a student’s grade has been determined, it can be passed back to the learning management system (LMS) using the LTI Controller’s postGrade method:\n​ src/routes/student-grade.js /** * Handle LTI Student Grade Postback * * @param {Object} req - the Express request object * @param {Object} res - the Express response object */ async function StudentGradeHandler(req, res) { // Get LTI Launch Data and Consumer from session const launchData = req.session.ltiLaunchData; const consumer = req.session.ltiConsumer; let error = null; let message = null; // Get grade from form submission const grade = parseFloat(req.body.grade); if (isNaN(grade) || grade \u003c 0 || grade \u003e 1) { error = \"Invalid grade value. Must be between 0 and 1.\"; } else { // Post grade back to the LTI Provider // Build Grade Object const gradeObject = { // LTI Consumer ID consumer_id: consumer.id, // LTI 1.0 Outcome Information grade_url: launchData.outcome_url, lms_grade_id: launchData.outcome_id, // Grade value between 0.0 and 1.0 score: grade, // LTI 1.3 User ID user_lis13_id: launchData.user_lis13_id, // Helpful Debugging Information debug: { // User Name user: launchData.user_name, // User ID (LTI 1.0 and LTI 1.3) user_id: launchData.user_lis_id + \" (\" + launchData.user_lis13_id + \")\", // Assignment Name assignment: launchData.assignment_name, // Assignment ID (LTI 1.0 and LTI 1.3) assignment_id: launchData.assignment_id + \"(\" + launchData.assignment_lti_id + \")\", }, }; if (lti.controllers.lti.postGrade(gradeObject)) { message = `Successfully posted grade of ${grade} back to the LMS.`; // Record grade in local data store updateDataStoreWithGrade(launchData, grade, req); } else { error = \"Failed to post grade back to the LMS.\"; } } // Render student view with LTI Launch Data res.render(\"student.njk\", { title: \"LTI Tool Provider - Student View\", message: message, error: error, launchData: launchData, consumer: consumer, }); } This method constructs the grade object required by the postGrade method using data from the LTI Launch Data and the LTI Consumer originally provided to the LTI Launch Handler. In this example, those values are read directly from the user’s session.\nInstructor Grade Passback A more advanced example of submitting grades could involve the instructor providing grades after a student has completed an assignment:\n​ src/routes/instructor-grade.js /** * Handle LTI Instructor Grade Postback * * @param {Object} req - the Express request object * @param {Object} res - the Express response object */ async function InstructorGradeHandler(req, res) { // Get LTI Launch Data and Consumer from session const launchData = req.session.ltiLaunchData; const consumer = req.session.ltiConsumer; let error = null; let message = null; // Get form data const courseId = req.body.course; const assignmentId = req.body.assignment; const userId = req.body.user; const grade = parseFloat(req.body.grade); // Get assignment and user info from local data store // This is a placeholder function for updating a local data store // In a real application, you would implement logic to store // relevant grade data in your database or other storage system const courses = req.app.locals.dataStore.courses; const assignments = courses[courseId].assignments; if (isNaN(grade) || grade \u003c 0 || grade \u003e 1) { error = \"Invalid grade value. Must be between 0 and 1.\"; } else { // Post grade back to the LTI Provider // Build Grade Object const gradeObject = { // LTI Consumer ID consumer_id: consumer.id, // LTI 1.0 Outcome Information grade_url: assignments[assignmentId].grade_url, lms_grade_id: assignments[assignmentId].grades[userId].outcome_id, // Grade value between 0.0 and 1.0 score: grade, // LTI 1.3 User ID user_lis13_id: assignments[assignmentId].grades[userId].lis13_id, // Helpful Debugging Information debug: { // User Name user: assignments[assignmentId].grades[userId].name, // User ID (LTI 1.0 and LTI 1.3) user_id: assignments[assignmentId].grades[userId].lis_id + \" (\" + assignments[assignmentId].grades[userId].lis13_id + \")\", // Assignment Name assignment: assignments[assignmentId].name, // Assignment ID (LTI 1.0 and LTI 1.3) assignment_id: assignmentId + \"(\" + assignments[assignmentId].lti_id + \")\", }, }; if (lti.controllers.lti.postGrade(gradeObject)) { message = `Successfully posted grade of ${grade} back to the LMS.`; // Record grade in local data store assignments[assignmentId].grades[userId].score = grade; } else { error = \"Failed to post grade back to the LMS.\"; } } // Render instructor view with LTI Launch Data res.render(\"instructor.njk\", { title: \"LTI Tool Provider - Instructor View\", message: message, error: error, courses: req.app.locals.dataStore.courses, launchData: launchData, consumer: consumer, }); } In this example, the same data required to build a grade object is read from the shared data structure stored in memory. Again, in practice, this data would be read from a database or another storage mechanism, but this code should be instructive.\nLTI 1.3 Configuration Configuring an application to use the LTI 1.3 protocol is a bit more complex, and requires several steps in both the learning management system (LMS) as well as this tool. Detailed instructions and configuration information can be found at the /admin route in the example application, and also are discussed below.\nStep 1 - Add an LTI 1.3 Application in the LMS The first step is to add an LTI 1.3 application to the learning management system. In Canvas, this requires administrator access, so you may have to work with your Canvas administrator to accomplish this step. In Canvas, go to the Admin panel for the account used and find the Developer Keys page, then add a new LTI Key.\nRedirect URIs: DOMAIN_NAME from the app environment followed by /lti/provider/redirect13 by default. Target Link URIs: DOMAIN_NAME from the app environment followed by /lti/provider/launch13 by default. OpenID Connect Initiation Url: DOMAIN_NAME from the app environment followed by /lti/provider/login13/ and then the LTI_CONSUMER_KEY from the app environment by default. JWK Method: Public JWK URL (this library only supports JWKS via URL) Public JWK URL: DOMAIN_NAME from the app environment followed by /lti/provider/key13 by default. The base of these URLs can be configured in app.js as discussed above.\nIn the LTI Advantage Services configuration, at a minimum the “Can create and update submission results for assignments associated with the tool” must be selected, which will allow this application to send grades back to the learning management system.\nAt the bottom, the privacy level must be set to PUBLIC to get student information (this library does not support anonymous students).\nOnce the LTI Key is created, a Client ID is provided by Canvas. Make a note of this value for later. Also, make sure the LTI Key is enabled here.\nStep 2 - Add LTI 1.3 Application to a Course Once the LTI 1.3 Key is created, the application can be added to a course within the learning management system. In Canvas, this can be found on the Settings of a course on the Apps tab. Click the button to add a new application, and enter the Client ID from Step 1 above.\nOnce the application has been added to the course, click the menu next to the application and display the Deployment ID for the application. Save this value for later.\nStep 3 - Configure LTI 1.3 Settings Back in the LTI Provider Demo application, click the link on the homepage or navigate to the /admin page to access the LTI 1.3 configuration. On this page, enter the LTI 1.3 configuration information for your learning management system. Examples below are shown for Canvas using the configuration provided in the steps above.\nLTI 1.3 Client ID: From Step 1 Above LTI 1.3 Platform ID: This is usually just the URL of the LMS LTI 1.3 Deployment ID: From Step 2 Above LTI 1.3 JWKS Keyset URL: For Canvas, /api/lti/security/jwks LTI 1.3 Token URL: For Canvas, /login/oauth2/token LTI 1.3 Auth URL: For Canvas, /api/lti/authorize_redirect Step 4 - Configure LMS Assignment In Canvas, configure an assignment that uses an external URL (similar to working with LTI 1.0 Applications as shown below). This time, it will use the Target Link URI configured in Step 1 - typically the DOMAIN_NAME from the environment followed by /lti/provider/launch13.\nFrom this point onward, students and teachers can access the LTI Demo Application through this Canvas assignment to perform an LTI 1.3 Launch.\nManaging LTI Consumers Within the sample application, the Admin Configuration handler gives a demonstration for using this library’s controllers to manage the LTI Consumers available within the application.\n​ src/routes/admin-config.js /** * Handle LTI Admin Launch * * @param {Object} req - the Express request object * @param {Object} res - the Express response object */ async function AdminConfigHandler(req, res) { let error = null; let message = null; // Get Form Data const data = { lti13: true, client_id: req.body.client_id, platform_id: req.body.platform_id, deployment_id: req.body.deployment_id, keyset_url: req.body.keyset_url, token_url: req.body.token_url, auth_url: req.body.auth_url, }; // Check if any required fields are missing const requiredFields = [ \"client_id\", \"platform_id\", \"deployment_id\", \"keyset_url\", \"token_url\", \"auth_url\", ]; const missingFields = requiredFields.filter( (field) =\u003e !data[field] || data[field].trim() === \"\" ); if (missingFields.length \u003e 0) { error = \"Missing required fields: \" + missingFields.join(\", \"); } else { // Update Consumer try { const returnValue = await lti.controllers.consumer.updateConsumer(1, data); if (!returnValue) { throw new Error(\"Consumer not found\"); } } catch (err) { error = \"Failed to update consumer: \" + err.message; } if (!error) { message = \"Successfully updated consumer.\"; } } // Get Updated LTI Consumer const consumers = await lti.controllers.consumer.getAll(); const consumer = consumers[0].toJSON(); // Get LMS Domain const lmsDomain = process.env.LTI_13_LMS_DOMAIN || \"https://canvas.instructure.com\"; res.render(\"admin.njk\", { title: \"LTI Tool Provider - Admin Configuration View\", consumer: consumer, lmsDomain: lmsDomain, domain: process.env.DOMAIN_NAME, key: process.env.LTI_CONSUMER_KEY, error: error, message: message, }); } This handler receives data provided in the LTI 1.3 configuration form, validates that all items are present (more validation could be performed as desired), and then it uses the Consumer controller provided through the library to update the default LTI Consumer (with ID 1) to include the LTI 1.3 configuration options. The Consumer controller provides additional methods to add and delete additional consumers as desired.\nWarning Be aware that, by providing both a key and secret as part of the provider configuration in the LTI Toolkit configuration (see src/configs/lti.js), all existing LTI consumers will be removed from the database each time the application is launched. So, those options must be removed and LTI Consumers must be configured directly through the controller if multiple consumers are desired.",
    "description": "A fully-featured LTI Tool Provider example can be found in /examples/provider. This document will walk through the details of how that application works.\nEnvironment The application expects the following environment variables (typically loaded from .env):\n​ .env # Express Session Secret SESSION_SECRET=your_session_secret # Log Level # One of error warn info http verbose lti debug sql silly LOG_LEVEL=lti # Application Domain Name DOMAIN_NAME=https://ltidemo.home.russfeld.me # LTI Consumer Key and Secret LTI_CONSUMER_KEY=your_lti_consumer_key LTI_CONSUMER_SECRET=your_lti_consumer_secret # LTI 1.3 LMS Domain LTI_13_LMS_DOMAIN=https://canvas.instructure.com LMS Configuration - LTI 1.0 The settings above can then be used to configure this application in your learning management system (LMS) using LTI 1.0. Refer to your LMS documentation for specific details. An example using Canvas is given below.",
    "tags": [],
    "title": "LTI Provider",
    "uri": "/lti-toolkit/00-general/00-examples/provider/index.html"
  },
  {
    "breadcrumb": "LTI Docs",
    "content": "This page documents the messages sent from an LMS to this tool acting as an LTI 1.3 Tool Provider.\nSequence Diagram Sample LTI Launch Messages Login Message from Canvas { \"iss\": \"https://canvas.home.russfeld.me\", \"login_hint\": \"535fa085f22b4655f48cd5a36a9215f64c062838\", \"client_id\": \"10000000000002\", \"lti_deployment_id\": \"5:d3a2504bba5184799a38f141e8df2335cfa8206d\", \"target_link_uri\": \"https://lpp.home.russfeld.me/lti/provider/launch13\", \"lti_message_hint\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2ZXJpZmllciI6IjBlNGYxMTZhZWZjNWZiYTEyMzI1MWI2MjhhMDM5MDM5NDZjYjYxOGYzNTYzMTI5OGIwMzlkMGVlOTM3ZGQxMGU3ZGVlOTkzNDc0Y2FiZGU0OGNiYjFlZjNhOWY5NGI3OGM3YWZkOTI5ZjZlZjU5MzZkMDIyNjMyMTcyZDllYTY5IiwiY2FudmFzX2RvbWFpbiI6ImNhbnZhcy5ob21lLnJ1c3NmZWxkLm1lIiwiY29udGV4dF90eXBlIjoiQ291cnNlIiwiY29udGV4dF9pZCI6MTAwMDAwMDAwMDAwMDMsImNhbnZhc19sb2NhbGUiOiJlbiIsImluY2x1ZGVfc3RvcmFnZV90YXJnZXQiOnRydWUsImV4cCI6MTc0OTY2MjgwOH0.HyNhJe1cNlkA29tJy9oBxNsUD3jWZdUb_VwZinfVjvc\", \"canvas_environment\": \"prod\", \"canvas_region\": \"not_configured\", \"lti_storage_target\": \"post_message_forwarding\" } Auth Request from LTI Toolkit back to Canvas { \"scope\": \"openid\", \"response_type\": \"id_token\", \"client_id\": \"10000000000002\", \"redirect_uri\": \"https://lpp.home.russfeld.me/lti/provider/redirect13\", \"login_hint\": \"535fa085f22b4655f48cd5a36a9215f64c062838\", \"state\": \"Zp22IH6qgj7YIPgXIkOf_\", \"response_mode\": \"form_post\", \"nonce\": \"pSESxuF1KbfCqvRl5u9HW\", \"prompt\": \"pSESxuF1KbfCqvRl5u9HW\", \"lti_message_hint\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2ZXJpZmllciI6IjBlNGYxMTZhZWZjNWZiYTEyMzI1MWI2MjhhMDM5MDM5NDZjYjYxOGYzNTYzMTI5OGIwMzlkMGVlOTM3ZGQxMGU3ZGVlOTkzNDc0Y2FiZGU0OGNiYjFlZjNhOWY5NGI3OGM3YWZkOTI5ZjZlZjU5MzZkMDIyNjMyMTcyZDllYTY5IiwiY2FudmFzX2RvbWFpbiI6ImNhbnZhcy5ob21lLnJ1c3NmZWxkLm1lIiwiY29udGV4dF90eXBlIjoiQ291cnNlIiwiY29udGV4dF9pZCI6MTAwMDAwMDAwMDAwMDMsImNhbnZhc19sb2NhbGUiOiJlbiIsImluY2x1ZGVfc3RvcmFnZV90YXJnZXQiOnRydWUsImV4cCI6MTc0OTY2MjgwOH0.HyNhJe1cNlkA29tJy9oBxNsUD3jWZdUb_VwZinfVjvc\", } Redirect Message from Canvas { \"utf8\": \"✓\", \"authenticity_token\": \"0tT0C8svDcwBdK19trVo7sVrcT+lSkf6g7Vw8YjJel6W599ypx19/jM75w7+5QKHnTpGVdEOFsvahx+ixpsMbA==\", \"id_token\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IjIwMTgtMDYtMThUMjI6MzM6MjBaIn0.eyJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9tZXNzYWdlX3R5cGUiOiJMdGlSZXNvdXJjZUxpbmtSZXF1ZXN0IiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vdmVyc2lvbiI6IjEuMy4wIiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vcmVzb3VyY2VfbGluayI6eyJpZCI6IjhhYTY0MWQxLWI0ZDQtNGZlYS04YTliLWU5ZmVkZmI2MmIxZSIsImRlc2NyaXB0aW9uIjoiXHUwMDNjcFx1MDAzZUFzc2lnbm1lbnQgRGVzY3JpcHRpb25cdTAwM2MvcFx1MDAzZSIsInRpdGxlIjoiVGVzdCBMVEkgMS4zIEFzc2lnbm1lbnQgTmFtZSJ9LCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS1hZ3MvY2xhaW0vZW5kcG9pbnQiOnsibGluZWl0ZW0iOiJodHRwczovL2NhbnZhcy5ob21lLnJ1c3NmZWxkLm1lL2FwaS9sdGkvY291cnNlcy8zL2xpbmVfaXRlbXMvMSIsInNjb3BlIjpbImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpLWFncy9zY29wZS9saW5laXRlbSIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpLWFncy9zY29wZS9saW5laXRlbS5yZWFkb25seSIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpLWFncy9zY29wZS9yZXN1bHQucmVhZG9ubHkiLCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS1hZ3Mvc2NvcGUvc2NvcmUiLCJodHRwczovL2NhbnZhcy5pbnN0cnVjdHVyZS5jb20vbHRpLWFncy9wcm9ncmVzcy9zY29wZS9zaG93Il0sImxpbmVpdGVtcyI6Imh0dHA6Ly9jYW52YXMuaG9tZS5ydXNzZmVsZC5tZS9hcGkvbHRpL2NvdXJzZXMvMy9saW5lX2l0ZW1zIn0sImF1ZCI6IjEwMDAwMDAwMDAwMDAyIiwiYXpwIjoiMTAwMDAwMDAwMDAwMDIiLCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9kZXBsb3ltZW50X2lkIjoiNTpkM2EyNTA0YmJhNTE4NDc5OWEzOGYxNDFlOGRmMjMzNWNmYTgyMDZkIiwiZXhwIjoxNzQ5NjcyNzc2LCJpYXQiOjE3NDk2NjkxNzYsImlzcyI6Imh0dHBzOi8vY2FudmFzLmhvbWUucnVzc2ZlbGQubWUiLCJub25jZSI6InBTRVN4dUYxS2JmQ3F2Umw1dTlIVyIsInN1YiI6ImFhYzIyNzEzLTI4YjMtNDM5Ny05ZmY5LWEzZDI4ODBlY2UxYSIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL3RhcmdldF9saW5rX3VyaSI6Imh0dHBzOi8vbHBwLmhvbWUucnVzc2ZlbGQubWUvbHRpL3Byb3ZpZGVyL2xhdW5jaDEzIiwicGljdHVyZSI6Imh0dHA6Ly9jYW52YXMuaW5zdHJ1Y3R1cmUuY29tL2ltYWdlcy9tZXNzYWdlcy9hdmF0YXItNTAucG5nIiwiZW1haWwiOiJjYW52YXNhZG1pbkBydXNzZmVsZC5tZSIsIm5hbWUiOiJjYW52YXNhZG1pbkBydXNzZmVsZC5tZSIsImdpdmVuX25hbWUiOiJjYW52YXNhZG1pbkBydXNzZmVsZC5tZSIsImZhbWlseV9uYW1lIjoiIiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vbGlzIjp7InBlcnNvbl9zb3VyY2VkaWQiOiIkUGVyc29uLnNvdXJjZWRJZCIsImNvdXJzZV9vZmZlcmluZ19zb3VyY2VkaWQiOiIkQ291cnNlU2VjdGlvbi5zb3VyY2VkSWQifSwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vY29udGV4dCI6eyJpZCI6ImQzYTI1MDRiYmE1MTg0Nzk5YTM4ZjE0MWU4ZGYyMzM1Y2ZhODIwNmQiLCJsYWJlbCI6IkxUSTEzIiwidGl0bGUiOiJMVEkgMS4zIFRlc3QgQ291cnNlIiwidHlwZSI6WyJodHRwOi8vcHVybC5pbXNnbG9iYWwub3JnL3ZvY2FiL2xpcy92Mi9jb3Vyc2UjQ291cnNlT2ZmZXJpbmciXX0sImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL3Rvb2xfcGxhdGZvcm0iOnsiZ3VpZCI6InpPVUF0a2ZTM2dJOG5oNUlza3psZ0FybzFvQ3gzcng2U0dHYWhpTEw6Y2FudmFzLWxtcyIsIm5hbWUiOiJBTFQrQ1MgTGFiIiwidmVyc2lvbiI6ImNsb3VkIiwicHJvZHVjdF9mYW1pbHlfY29kZSI6ImNhbnZhcyJ9LCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9sYXVuY2hfcHJlc2VudGF0aW9uIjp7ImRvY3VtZW50X3RhcmdldCI6ImlmcmFtZSIsInJldHVybl91cmwiOiJodHRwczovL2NhbnZhcy5ob21lLnJ1c3NmZWxkLm1lL2NvdXJzZXMvMy9hc3NpZ25tZW50cyIsImxvY2FsZSI6ImVuIn0sImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL3BsYXRmb3Jtbm90aWZpY2F0aW9uc2VydmljZSI6eyJzZXJ2aWNlX3ZlcnNpb25zIjpbIjEuMCJdLCJwbGF0Zm9ybV9ub3RpZmljYXRpb25fc2VydmljZV91cmwiOiJodHRwczovL2NhbnZhcy5ob21lLnJ1c3NmZWxkLm1lL2FwaS9sdGkvbm90aWNlLWhhbmRsZXJzLzUiLCJzY29wZSI6WyJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9zY29wZS9ub3RpY2VoYW5kbGVycyJdLCJub3RpY2VfdHlwZXNfc3VwcG9ydGVkIjpbIkx0aUhlbGxvV29ybGROb3RpY2UiLCJMdGlBc3NldFByb2Nlc3NvclN1Ym1pc3Npb25Ob3RpY2UiLCJMdGlDb250ZXh0Q29weU5vdGljZSJdfSwibG9jYWxlIjoiZW4iLCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9yb2xlcyI6WyJodHRwOi8vcHVybC5pbXNnbG9iYWwub3JnL3ZvY2FiL2xpcy92Mi9pbnN0aXR1dGlvbi9wZXJzb24jQWRtaW5pc3RyYXRvciIsImh0dHA6Ly9wdXJsLmltc2dsb2JhbC5vcmcvdm9jYWIvbGlzL3YyL3N5c3RlbS9wZXJzb24jU3lzQWRtaW4iLCJodHRwOi8vcHVybC5pbXNnbG9iYWwub3JnL3ZvY2FiL2xpcy92Mi9zeXN0ZW0vcGVyc29uI1VzZXIiXSwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vY3VzdG9tIjp7ImN1c3RvbTEiOiJ2YWx1ZTEiLCJjdXN0b20yIjoidmFsdWUyIn0sImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpLW5ycHMvY2xhaW0vbmFtZXNyb2xlc2VydmljZSI6eyJjb250ZXh0X21lbWJlcnNoaXBzX3VybCI6Imh0dHBzOi8vY2FudmFzLmhvbWUucnVzc2ZlbGQubWUvYXBpL2x0aS9jb3Vyc2VzLzMvbmFtZXNfYW5kX3JvbGVzIiwic2VydmljZV92ZXJzaW9ucyI6WyIyLjAiXX0sImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL2x0aTExX2xlZ2FjeV91c2VyX2lkIjoiNTM1ZmEwODVmMjJiNDY1NWY0OGNkNWEzNmE5MjE1ZjY0YzA2MjgzOCIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL2x0aTFwMSI6eyJyZXNvdXJjZV9saW5rX2lkIjoiNmE4YWFjYTE2MmJmYzQzOTM4MDRhZmQ0Y2Q1M2NkOTQ0MTNjNDhiYiIsInVzZXJfaWQiOiI1MzVmYTA4NWYyMmI0NjU1ZjQ4Y2Q1YTM2YTkyMTVmNjRjMDYyODM4In0sImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL2V1bGFzZXJ2aWNlIjp7InVybCI6Imh0dHA6Ly9jYW52YXMuaG9tZS5ydXNzZmVsZC5tZS9hcGkvbHRpL2Fzc2V0X3Byb2Nlc3Nvcl9ldWxhcy81Iiwic2NvcGUiOlsiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvc2NvcGUvZXVsYS91c2VyIiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvc2NvcGUvZXVsYS9kZXBsb3ltZW50Il19LCJodHRwczovL3d3dy5pbnN0cnVjdHVyZS5jb20vcGxhY2VtZW50IjpudWxsfQ.U-gWxLRdjeOrV9egBJTdiln90LIGl-gzfSI9inS5TLYdabtiPFv9vmxieUXtcu_XMG9kJuFPUzMVkp2GeqAuRw\", \"state\": \"Zp22IH6qgj7YIPgXIkOf_\", \"lti_storage_target\": \"post_message_forwarding\" } Decoded JWT in Redirect Message from Canvas - Admin Account { \"https://purl.imsglobal.org/spec/lti/claim/message_type\": \"LtiResourceLinkRequest\", \"https://purl.imsglobal.org/spec/lti/claim/version\": \"1.3.0\", \"https://purl.imsglobal.org/spec/lti/claim/resource_link\": { \"id\": \"8aa641d1-b4d4-4fea-8a9b-e9fedfb62b1e\", \"description\": \"\u003cp\u003eAssignment Description\u003c/p\u003e\", \"title\": \"Test LTI 1.3 Assignment Name\" }, \"https://purl.imsglobal.org/spec/lti-ags/claim/endpoint\": { \"lineitem\": \"https://canvas.home.russfeld.me/api/lti/courses/3/line_items/1\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti-ags/scope/lineitem\", \"https://purl.imsglobal.org/spec/lti-ags/scope/lineitem.readonly\", \"https://purl.imsglobal.org/spec/lti-ags/scope/result.readonly\", \"https://purl.imsglobal.org/spec/lti-ags/scope/score\", \"https://canvas.instructure.com/lti-ags/progress/scope/show\" ], \"lineitems\": \"http://canvas.home.russfeld.me/api/lti/courses/3/line_items\" }, \"aud\": \"10000000000002\", \"azp\": \"10000000000002\", \"https://purl.imsglobal.org/spec/lti/claim/deployment_id\": \"5:d3a2504bba5184799a38f141e8df2335cfa8206d\", \"exp\": 1749672776, \"iat\": 1749669176, \"iss\": \"https://canvas.home.russfeld.me\", \"nonce\": \"pSESxuF1KbfCqvRl5u9HW\", \"sub\": \"aac22713-28b3-4397-9ff9-a3d2880ece1a\", \"https://purl.imsglobal.org/spec/lti/claim/target_link_uri\": \"https://lpp.home.russfeld.me/lti/provider/launch13\", \"picture\": \"http://canvas.instructure.com/images/messages/avatar-50.png\", \"email\": \"canvasadmin@russfeld.me\", \"name\": \"canvasadmin@russfeld.me\", \"given_name\": \"canvasadmin@russfeld.me\", \"family_name\": \"\", \"https://purl.imsglobal.org/spec/lti/claim/lis\": { \"person_sourcedid\": \"$Person.sourcedId\", \"course_offering_sourcedid\": \"$CourseSection.sourcedId\" }, \"https://purl.imsglobal.org/spec/lti/claim/context\": { \"id\": \"d3a2504bba5184799a38f141e8df2335cfa8206d\", \"label\": \"LTI13\", \"title\": \"LTI 1.3 Test Course\", \"type\": [ \"http://purl.imsglobal.org/vocab/lis/v2/course#CourseOffering\" ] }, \"https://purl.imsglobal.org/spec/lti/claim/tool_platform\": { \"guid\": \"zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms\", \"name\": \"ALT+CS Lab\", \"version\": \"cloud\", \"product_family_code\": \"canvas\" }, \"https://purl.imsglobal.org/spec/lti/claim/launch_presentation\": { \"document_target\": \"iframe\", \"return_url\": \"https://canvas.home.russfeld.me/courses/3/assignments\", \"locale\": \"en\" }, \"https://purl.imsglobal.org/spec/lti/claim/platformnotificationservice\": { \"service_versions\": [ \"1.0\" ], \"platform_notification_service_url\": \"https://canvas.home.russfeld.me/api/lti/notice-handlers/5\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti/scope/noticehandlers\" ], \"notice_types_supported\": [ \"LtiHelloWorldNotice\", \"LtiAssetProcessorSubmissionNotice\", \"LtiContextCopyNotice\" ] }, \"locale\": \"en\", \"https://purl.imsglobal.org/spec/lti/claim/roles\": [ \"http://purl.imsglobal.org/vocab/lis/v2/institution/person#Administrator\", \"http://purl.imsglobal.org/vocab/lis/v2/system/person#SysAdmin\", \"http://purl.imsglobal.org/vocab/lis/v2/system/person#User\" ], \"https://purl.imsglobal.org/spec/lti/claim/custom\": { \"custom1\": \"value1\", \"custom2\": \"value2\" }, \"https://purl.imsglobal.org/spec/lti-nrps/claim/namesroleservice\": { \"context_memberships_url\": \"https://canvas.home.russfeld.me/api/lti/courses/3/names_and_roles\", \"service_versions\": [ \"2.0\" ] }, \"https://purl.imsglobal.org/spec/lti/claim/lti11_legacy_user_id\": \"535fa085f22b4655f48cd5a36a9215f64c062838\", \"https://purl.imsglobal.org/spec/lti/claim/lti1p1\": { \"resource_link_id\": \"6a8aaca162bfc4393804afd4cd53cd94413c48bb\", \"user_id\": \"535fa085f22b4655f48cd5a36a9215f64c062838\" }, \"https://purl.imsglobal.org/spec/lti/claim/eulaservice\": { \"url\": \"http://canvas.home.russfeld.me/api/lti/asset_processor_eulas/5\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti/scope/eula/user\", \"https://purl.imsglobal.org/spec/lti/scope/eula/deployment\" ] }, \"https://www.instructure.com/placement\": null } Decoded JWT in Redirect Message from Canvas - Teacher Account { \"https://purl.imsglobal.org/spec/lti/claim/message_type\": \"LtiResourceLinkRequest\", \"https://purl.imsglobal.org/spec/lti/claim/version\": \"1.3.0\", \"https://purl.imsglobal.org/spec/lti/claim/resource_link\": { \"id\": \"8aa641d1-b4d4-4fea-8a9b-e9fedfb62b1e\", \"description\": \"\u003cp\u003eAssignment Description\u003c/p\u003e\", \"title\": \"Test LTI 1.3 Assignment Name\" }, \"https://purl.imsglobal.org/spec/lti-ags/claim/endpoint\": { \"lineitem\": \"https://canvas.home.russfeld.me/api/lti/courses/3/line_items/1\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti-ags/scope/lineitem\", \"https://purl.imsglobal.org/spec/lti-ags/scope/lineitem.readonly\", \"https://purl.imsglobal.org/spec/lti-ags/scope/result.readonly\", \"https://purl.imsglobal.org/spec/lti-ags/scope/score\", \"https://canvas.instructure.com/lti-ags/progress/scope/show\" ], \"lineitems\": \"http://canvas.home.russfeld.me/api/lti/courses/3/line_items\" }, \"aud\": \"10000000000002\", \"azp\": \"10000000000002\", \"https://purl.imsglobal.org/spec/lti/claim/deployment_id\": \"7:d3a2504bba5184799a38f141e8df2335cfa8206d\", \"exp\": 1749761809, \"iat\": 1749758209, \"iss\": \"https://canvas.home.russfeld.me\", \"nonce\": \"BPpEE7xw1ie5ny_o-VA5G\", \"sub\": \"e77934e7-4e98-4055-b4b4-3a8431e4f22a\", \"https://purl.imsglobal.org/spec/lti/claim/target_link_uri\": \"https://lpp.home.russfeld.me/lti/provider/launch13\", \"picture\": \"https://canvas.home.russfeld.me/images/thumbnails/2/GJhBgjcBm2BG6aFOlLDZpjEMDRzB5jgUBJYuVqJu\", \"email\": \"canvasteacher@russfeld.me\", \"name\": \"TeacherFirst TeacherLast\", \"given_name\": \"TeacherFirst\", \"family_name\": \"TeacherLast\", \"https://purl.imsglobal.org/spec/lti/claim/lis\": { \"person_sourcedid\": \"7858675309\", \"course_offering_sourcedid\": \"$CourseSection.sourcedId\" }, \"https://purl.imsglobal.org/spec/lti/claim/context\": { \"id\": \"d3a2504bba5184799a38f141e8df2335cfa8206d\", \"label\": \"LTI13\", \"title\": \"LTI 1.3 Test Course\", \"type\": [ \"http://purl.imsglobal.org/vocab/lis/v2/course#CourseOffering\" ] }, \"https://purl.imsglobal.org/spec/lti/claim/tool_platform\": { \"guid\": \"zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms\", \"name\": \"ALT+CS Lab\", \"version\": \"cloud\", \"product_family_code\": \"canvas\" }, \"https://purl.imsglobal.org/spec/lti/claim/launch_presentation\": { \"document_target\": \"iframe\", \"return_url\": \"https://canvas.home.russfeld.me/courses/3/assignments\", \"locale\": \"en\" }, \"https://purl.imsglobal.org/spec/lti/claim/platformnotificationservice\": { \"service_versions\": [ \"1.0\" ], \"platform_notification_service_url\": \"https://canvas.home.russfeld.me/api/lti/notice-handlers/7\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti/scope/noticehandlers\" ], \"notice_types_supported\": [ \"LtiHelloWorldNotice\", \"LtiAssetProcessorSubmissionNotice\", \"LtiContextCopyNotice\" ] }, \"locale\": \"en\", \"https://purl.imsglobal.org/spec/lti/claim/roles\": [ \"http://purl.imsglobal.org/vocab/lis/v2/institution/person#Instructor\", \"http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor\", \"http://purl.imsglobal.org/vocab/lis/v2/system/person#User\" ], \"https://purl.imsglobal.org/spec/lti/claim/custom\": { \"custom1\": \"value1\", \"custom2\": \"value2\" }, \"https://purl.imsglobal.org/spec/lti-nrps/claim/namesroleservice\": { \"context_memberships_url\": \"https://canvas.home.russfeld.me/api/lti/courses/3/names_and_roles\", \"service_versions\": [ \"2.0\" ] }, \"https://purl.imsglobal.org/spec/lti/claim/lti11_legacy_user_id\": \"c0ddd6c90cbe1ef0f32fbce5c3bf654204be186c\", \"https://purl.imsglobal.org/spec/lti/claim/lti1p1\": { \"resource_link_id\": \"6a8aaca162bfc4393804afd4cd53cd94413c48bb\", \"user_id\": \"c0ddd6c90cbe1ef0f32fbce5c3bf654204be186c\", \"oauth_consumer_key\": \"thisisasupersecretkey\", \"oauth_consumer_key_sign\": \"FPR9uW9niYZZTkodpKrJCfjktJ51YJhc6m44c4kzKNk=\" }, \"https://purl.imsglobal.org/spec/lti/claim/eulaservice\": { \"url\": \"http://canvas.home.russfeld.me/api/lti/asset_processor_eulas/7\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti/scope/eula/user\", \"https://purl.imsglobal.org/spec/lti/scope/eula/deployment\" ] }, \"https://www.instructure.com/placement\": null } Decoded JWT in Redirect Message from Canvas - Student Account { \"https://purl.imsglobal.org/spec/lti/claim/message_type\": \"LtiResourceLinkRequest\", \"https://purl.imsglobal.org/spec/lti/claim/version\": \"1.3.0\", \"https://purl.imsglobal.org/spec/lti/claim/resource_link\": { \"id\": \"8aa641d1-b4d4-4fea-8a9b-e9fedfb62b1e\", \"description\": \"\u003cp\u003eAssignment Description\u003c/p\u003e\", \"title\": \"Test LTI 1.3 Assignment Name\" }, \"https://purl.imsglobal.org/spec/lti-ags/claim/endpoint\": { \"lineitem\": \"https://canvas.home.russfeld.me/api/lti/courses/3/line_items/1\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti-ags/scope/lineitem\", \"https://purl.imsglobal.org/spec/lti-ags/scope/lineitem.readonly\", \"https://purl.imsglobal.org/spec/lti-ags/scope/result.readonly\", \"https://purl.imsglobal.org/spec/lti-ags/scope/score\", \"https://canvas.instructure.com/lti-ags/progress/scope/show\" ], \"lineitems\": \"http://canvas.home.russfeld.me/api/lti/courses/3/line_items\" }, \"aud\": \"10000000000002\", \"azp\": \"10000000000002\", \"https://purl.imsglobal.org/spec/lti/claim/deployment_id\": \"7:d3a2504bba5184799a38f141e8df2335cfa8206d\", \"exp\": 1749761684, \"iat\": 1749758084, \"iss\": \"https://canvas.home.russfeld.me\", \"nonce\": \"8TY2f22B2yrw20r9fipF2\", \"sub\": \"848b3a11-c7b6-4c05-9fb3-782a0c34ee43\", \"https://purl.imsglobal.org/spec/lti/claim/target_link_uri\": \"https://lpp.home.russfeld.me/lti/provider/launch13\", \"picture\": \"https://canvas.home.russfeld.me/images/thumbnails/3/fnQIzMRWPAny4JOWMUvz8FiHsvP5Tyk4CRBKmMhm\", \"email\": \"canvasstudent@russfeld.me\", \"name\": \"StudentFirst StudentLast\", \"given_name\": \"StudentFirst\", \"family_name\": \"StudentLast\", \"https://purl.imsglobal.org/spec/lti/claim/lis\": { \"person_sourcedid\": \"835203884\", \"course_offering_sourcedid\": \"$CourseSection.sourcedId\" }, \"https://purl.imsglobal.org/spec/lti/claim/context\": { \"id\": \"d3a2504bba5184799a38f141e8df2335cfa8206d\", \"label\": \"LTI13\", \"title\": \"LTI 1.3 Test Course\", \"type\": [ \"http://purl.imsglobal.org/vocab/lis/v2/course#CourseOffering\" ] }, \"https://purl.imsglobal.org/spec/lti/claim/tool_platform\": { \"guid\": \"zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms\", \"name\": \"ALT+CS Lab\", \"version\": \"cloud\", \"product_family_code\": \"canvas\" }, \"https://purl.imsglobal.org/spec/lti/claim/launch_presentation\": { \"document_target\": \"iframe\", \"return_url\": \"https://canvas.home.russfeld.me/courses/3/assignments\", \"locale\": \"en\" }, \"https://purl.imsglobal.org/spec/lti/claim/platformnotificationservice\": { \"service_versions\": [ \"1.0\" ], \"platform_notification_service_url\": \"https://canvas.home.russfeld.me/api/lti/notice-handlers/7\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti/scope/noticehandlers\" ], \"notice_types_supported\": [ \"LtiHelloWorldNotice\", \"LtiAssetProcessorSubmissionNotice\", \"LtiContextCopyNotice\" ] }, \"locale\": \"en\", \"https://purl.imsglobal.org/spec/lti/claim/roles\": [ \"http://purl.imsglobal.org/vocab/lis/v2/institution/person#Student\", \"http://purl.imsglobal.org/vocab/lis/v2/membership#Learner\", \"http://purl.imsglobal.org/vocab/lis/v2/system/person#User\" ], \"https://purl.imsglobal.org/spec/lti/claim/custom\": { \"custom1\": \"value1\", \"custom2\": \"value2\" }, \"https://purl.imsglobal.org/spec/lti-nrps/claim/namesroleservice\": { \"context_memberships_url\": \"https://canvas.home.russfeld.me/api/lti/courses/3/names_and_roles\", \"service_versions\": [ \"2.0\" ] }, \"https://purl.imsglobal.org/spec/lti/claim/lti11_legacy_user_id\": \"86157096483e6b3a50bfedc6bac902c0b20a824f\", \"https://purl.imsglobal.org/spec/lti/claim/lti1p1\": { \"resource_link_id\": \"6a8aaca162bfc4393804afd4cd53cd94413c48bb\", \"user_id\": \"86157096483e6b3a50bfedc6bac902c0b20a824f\", \"oauth_consumer_key\": \"thisisasupersecretkey\", \"oauth_consumer_key_sign\": \"byxEShzri7Vts17LMSxuG5tNrdr32iAFoBlx5HIStcA=\" }, \"https://purl.imsglobal.org/spec/lti/claim/eulaservice\": { \"url\": \"http://canvas.home.russfeld.me/api/lti/asset_processor_eulas/7\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti/scope/eula/user\", \"https://purl.imsglobal.org/spec/lti/scope/eula/deployment\" ] }, \"https://www.instructure.com/placement\": null } Decoded JWT in Redirect Message from Canvas - Student Account (All LTI Advatage Features Disabled) { \"https://purl.imsglobal.org/spec/lti/claim/message_type\": \"LtiResourceLinkRequest\", \"https://purl.imsglobal.org/spec/lti/claim/version\": \"1.3.0\", \"https://purl.imsglobal.org/spec/lti/claim/resource_link\": { \"id\": \"8aa641d1-b4d4-4fea-8a9b-e9fedfb62b1e\", \"description\": \"\u003cp\u003eAssignment Description\u003c/p\u003e\", \"title\": \"Test LTI 1.3 Assignment Name\" }, \"aud\": \"10000000000002\", \"azp\": \"10000000000002\", \"https://purl.imsglobal.org/spec/lti/claim/deployment_id\": \"7:d3a2504bba5184799a38f141e8df2335cfa8206d\", \"exp\": 1749763062, \"iat\": 1749759462, \"iss\": \"https://canvas.home.russfeld.me\", \"nonce\": \"2yf7hJ1T81gldh6tX2JVG\", \"sub\": \"848b3a11-c7b6-4c05-9fb3-782a0c34ee43\", \"https://purl.imsglobal.org/spec/lti/claim/target_link_uri\": \"https://lpp.home.russfeld.me/lti/provider/launch13\", \"picture\": \"https://canvas.home.russfeld.me/images/thumbnails/3/fnQIzMRWPAny4JOWMUvz8FiHsvP5Tyk4CRBKmMhm\", \"email\": \"canvasstudent@russfeld.me\", \"name\": \"StudentFirst StudentLast\", \"given_name\": \"StudentFirst\", \"family_name\": \"StudentLast\", \"https://purl.imsglobal.org/spec/lti/claim/lis\": { \"person_sourcedid\": \"835203884\", \"course_offering_sourcedid\": \"$CourseSection.sourcedId\" }, \"https://purl.imsglobal.org/spec/lti/claim/context\": { \"id\": \"d3a2504bba5184799a38f141e8df2335cfa8206d\", \"label\": \"LTI13\", \"title\": \"LTI 1.3 Test Course\", \"type\": [ \"http://purl.imsglobal.org/vocab/lis/v2/course#CourseOffering\" ] }, \"https://purl.imsglobal.org/spec/lti/claim/tool_platform\": { \"guid\": \"zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms\", \"name\": \"ALT+CS Lab\", \"version\": \"cloud\", \"product_family_code\": \"canvas\" }, \"https://purl.imsglobal.org/spec/lti/claim/launch_presentation\": { \"document_target\": \"iframe\", \"return_url\": \"https://canvas.home.russfeld.me/courses/3/assignments\", \"locale\": \"en\" }, \"locale\": \"en\", \"https://purl.imsglobal.org/spec/lti/claim/roles\": [ \"http://purl.imsglobal.org/vocab/lis/v2/institution/person#Student\", \"http://purl.imsglobal.org/vocab/lis/v2/membership#Learner\", \"http://purl.imsglobal.org/vocab/lis/v2/system/person#User\" ], \"https://purl.imsglobal.org/spec/lti/claim/custom\": { \"custom1\": \"value1\", \"custom2\": \"value2\" }, \"https://purl.imsglobal.org/spec/lti/claim/lti11_legacy_user_id\": \"86157096483e6b3a50bfedc6bac902c0b20a824f\", \"https://purl.imsglobal.org/spec/lti/claim/lti1p1\": { \"resource_link_id\": \"6a8aaca162bfc4393804afd4cd53cd94413c48bb\", \"user_id\": \"86157096483e6b3a50bfedc6bac902c0b20a824f\", \"oauth_consumer_key\": \"thisisasupersecretkey\", \"oauth_consumer_key_sign\": \"Qu2E9ixZ8J1nu6T7jsE5V8H4J7FZwXjasizBVOnXaL8=\" }, \"https://purl.imsglobal.org/spec/lti/claim/eulaservice\": { \"url\": \"http://canvas.home.russfeld.me/api/lti/asset_processor_eulas/7\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti/scope/eula/user\", \"https://purl.imsglobal.org/spec/lti/scope/eula/deployment\" ] }, \"https://www.instructure.com/placement\": null } Helpful References: https://www.imsglobal.org/spec/lti/v1p3 https://www.imsglobal.org/spec/security/v1p0/ https://openid.net/specs/openid-connect-core-1_0.html https://github.com/Cvmcosta/ltijs - reference implementation",
    "description": "This page documents the messages sent from an LMS to this tool acting as an LTI 1.3 Tool Provider.\nSequence Diagram Sample LTI Launch Messages Login Message from Canvas { \"iss\": \"https://canvas.home.russfeld.me\", \"login_hint\": \"535fa085f22b4655f48cd5a36a9215f64c062838\", \"client_id\": \"10000000000002\", \"lti_deployment_id\": \"5:d3a2504bba5184799a38f141e8df2335cfa8206d\", \"target_link_uri\": \"https://lpp.home.russfeld.me/lti/provider/launch13\", \"lti_message_hint\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2ZXJpZmllciI6IjBlNGYxMTZhZWZjNWZiYTEyMzI1MWI2MjhhMDM5MDM5NDZjYjYxOGYzNTYzMTI5OGIwMzlkMGVlOTM3ZGQxMGU3ZGVlOTkzNDc0Y2FiZGU0OGNiYjFlZjNhOWY5NGI3OGM3YWZkOTI5ZjZlZjU5MzZkMDIyNjMyMTcyZDllYTY5IiwiY2FudmFzX2RvbWFpbiI6ImNhbnZhcy5ob21lLnJ1c3NmZWxkLm1lIiwiY29udGV4dF90eXBlIjoiQ291cnNlIiwiY29udGV4dF9pZCI6MTAwMDAwMDAwMDAwMDMsImNhbnZhc19sb2NhbGUiOiJlbiIsImluY2x1ZGVfc3RvcmFnZV90YXJnZXQiOnRydWUsImV4cCI6MTc0OTY2MjgwOH0.HyNhJe1cNlkA29tJy9oBxNsUD3jWZdUb_VwZinfVjvc\", \"canvas_environment\": \"prod\", \"canvas_region\": \"not_configured\", \"lti_storage_target\": \"post_message_forwarding\" } Auth Request from LTI Toolkit back to Canvas { \"scope\": \"openid\", \"response_type\": \"id_token\", \"client_id\": \"10000000000002\", \"redirect_uri\": \"https://lpp.home.russfeld.me/lti/provider/redirect13\", \"login_hint\": \"535fa085f22b4655f48cd5a36a9215f64c062838\", \"state\": \"Zp22IH6qgj7YIPgXIkOf_\", \"response_mode\": \"form_post\", \"nonce\": \"pSESxuF1KbfCqvRl5u9HW\", \"prompt\": \"pSESxuF1KbfCqvRl5u9HW\", \"lti_message_hint\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2ZXJpZmllciI6IjBlNGYxMTZhZWZjNWZiYTEyMzI1MWI2MjhhMDM5MDM5NDZjYjYxOGYzNTYzMTI5OGIwMzlkMGVlOTM3ZGQxMGU3ZGVlOTkzNDc0Y2FiZGU0OGNiYjFlZjNhOWY5NGI3OGM3YWZkOTI5ZjZlZjU5MzZkMDIyNjMyMTcyZDllYTY5IiwiY2FudmFzX2RvbWFpbiI6ImNhbnZhcy5ob21lLnJ1c3NmZWxkLm1lIiwiY29udGV4dF90eXBlIjoiQ291cnNlIiwiY29udGV4dF9pZCI6MTAwMDAwMDAwMDAwMDMsImNhbnZhc19sb2NhbGUiOiJlbiIsImluY2x1ZGVfc3RvcmFnZV90YXJnZXQiOnRydWUsImV4cCI6MTc0OTY2MjgwOH0.HyNhJe1cNlkA29tJy9oBxNsUD3jWZdUb_VwZinfVjvc\", } Redirect Message from Canvas { \"utf8\": \"✓\", \"authenticity_token\": \"0tT0C8svDcwBdK19trVo7sVrcT+lSkf6g7Vw8YjJel6W599ypx19/jM75w7+5QKHnTpGVdEOFsvahx+ixpsMbA==\", \"id_token\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IjIwMTgtMDYtMThUMjI6MzM6MjBaIn0.eyJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9tZXNzYWdlX3R5cGUiOiJMdGlSZXNvdXJjZUxpbmtSZXF1ZXN0IiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vdmVyc2lvbiI6IjEuMy4wIiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vcmVzb3VyY2VfbGluayI6eyJpZCI6IjhhYTY0MWQxLWI0ZDQtNGZlYS04YTliLWU5ZmVkZmI2MmIxZSIsImRlc2NyaXB0aW9uIjoiXHUwMDNjcFx1MDAzZUFzc2lnbm1lbnQgRGVzY3JpcHRpb25cdTAwM2MvcFx1MDAzZSIsInRpdGxlIjoiVGVzdCBMVEkgMS4zIEFzc2lnbm1lbnQgTmFtZSJ9LCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS1hZ3MvY2xhaW0vZW5kcG9pbnQiOnsibGluZWl0ZW0iOiJodHRwczovL2NhbnZhcy5ob21lLnJ1c3NmZWxkLm1lL2FwaS9sdGkvY291cnNlcy8zL2xpbmVfaXRlbXMvMSIsInNjb3BlIjpbImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpLWFncy9zY29wZS9saW5laXRlbSIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpLWFncy9zY29wZS9saW5laXRlbS5yZWFkb25seSIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpLWFncy9zY29wZS9yZXN1bHQucmVhZG9ubHkiLCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS1hZ3Mvc2NvcGUvc2NvcmUiLCJodHRwczovL2NhbnZhcy5pbnN0cnVjdHVyZS5jb20vbHRpLWFncy9wcm9ncmVzcy9zY29wZS9zaG93Il0sImxpbmVpdGVtcyI6Imh0dHA6Ly9jYW52YXMuaG9tZS5ydXNzZmVsZC5tZS9hcGkvbHRpL2NvdXJzZXMvMy9saW5lX2l0ZW1zIn0sImF1ZCI6IjEwMDAwMDAwMDAwMDAyIiwiYXpwIjoiMTAwMDAwMDAwMDAwMDIiLCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9kZXBsb3ltZW50X2lkIjoiNTpkM2EyNTA0YmJhNTE4NDc5OWEzOGYxNDFlOGRmMjMzNWNmYTgyMDZkIiwiZXhwIjoxNzQ5NjcyNzc2LCJpYXQiOjE3NDk2NjkxNzYsImlzcyI6Imh0dHBzOi8vY2FudmFzLmhvbWUucnVzc2ZlbGQubWUiLCJub25jZSI6InBTRVN4dUYxS2JmQ3F2Umw1dTlIVyIsInN1YiI6ImFhYzIyNzEzLTI4YjMtNDM5Ny05ZmY5LWEzZDI4ODBlY2UxYSIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL3RhcmdldF9saW5rX3VyaSI6Imh0dHBzOi8vbHBwLmhvbWUucnVzc2ZlbGQubWUvbHRpL3Byb3ZpZGVyL2xhdW5jaDEzIiwicGljdHVyZSI6Imh0dHA6Ly9jYW52YXMuaW5zdHJ1Y3R1cmUuY29tL2ltYWdlcy9tZXNzYWdlcy9hdmF0YXItNTAucG5nIiwiZW1haWwiOiJjYW52YXNhZG1pbkBydXNzZmVsZC5tZSIsIm5hbWUiOiJjYW52YXNhZG1pbkBydXNzZmVsZC5tZSIsImdpdmVuX25hbWUiOiJjYW52YXNhZG1pbkBydXNzZmVsZC5tZSIsImZhbWlseV9uYW1lIjoiIiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vbGlzIjp7InBlcnNvbl9zb3VyY2VkaWQiOiIkUGVyc29uLnNvdXJjZWRJZCIsImNvdXJzZV9vZmZlcmluZ19zb3VyY2VkaWQiOiIkQ291cnNlU2VjdGlvbi5zb3VyY2VkSWQifSwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vY29udGV4dCI6eyJpZCI6ImQzYTI1MDRiYmE1MTg0Nzk5YTM4ZjE0MWU4ZGYyMzM1Y2ZhODIwNmQiLCJsYWJlbCI6IkxUSTEzIiwidGl0bGUiOiJMVEkgMS4zIFRlc3QgQ291cnNlIiwidHlwZSI6WyJodHRwOi8vcHVybC5pbXNnbG9iYWwub3JnL3ZvY2FiL2xpcy92Mi9jb3Vyc2UjQ291cnNlT2ZmZXJpbmciXX0sImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL3Rvb2xfcGxhdGZvcm0iOnsiZ3VpZCI6InpPVUF0a2ZTM2dJOG5oNUlza3psZ0FybzFvQ3gzcng2U0dHYWhpTEw6Y2FudmFzLWxtcyIsIm5hbWUiOiJBTFQrQ1MgTGFiIiwidmVyc2lvbiI6ImNsb3VkIiwicHJvZHVjdF9mYW1pbHlfY29kZSI6ImNhbnZhcyJ9LCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9sYXVuY2hfcHJlc2VudGF0aW9uIjp7ImRvY3VtZW50X3RhcmdldCI6ImlmcmFtZSIsInJldHVybl91cmwiOiJodHRwczovL2NhbnZhcy5ob21lLnJ1c3NmZWxkLm1lL2NvdXJzZXMvMy9hc3NpZ25tZW50cyIsImxvY2FsZSI6ImVuIn0sImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL3BsYXRmb3Jtbm90aWZpY2F0aW9uc2VydmljZSI6eyJzZXJ2aWNlX3ZlcnNpb25zIjpbIjEuMCJdLCJwbGF0Zm9ybV9ub3RpZmljYXRpb25fc2VydmljZV91cmwiOiJodHRwczovL2NhbnZhcy5ob21lLnJ1c3NmZWxkLm1lL2FwaS9sdGkvbm90aWNlLWhhbmRsZXJzLzUiLCJzY29wZSI6WyJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9zY29wZS9ub3RpY2VoYW5kbGVycyJdLCJub3RpY2VfdHlwZXNfc3VwcG9ydGVkIjpbIkx0aUhlbGxvV29ybGROb3RpY2UiLCJMdGlBc3NldFByb2Nlc3NvclN1Ym1pc3Npb25Ob3RpY2UiLCJMdGlDb250ZXh0Q29weU5vdGljZSJdfSwibG9jYWxlIjoiZW4iLCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9yb2xlcyI6WyJodHRwOi8vcHVybC5pbXNnbG9iYWwub3JnL3ZvY2FiL2xpcy92Mi9pbnN0aXR1dGlvbi9wZXJzb24jQWRtaW5pc3RyYXRvciIsImh0dHA6Ly9wdXJsLmltc2dsb2JhbC5vcmcvdm9jYWIvbGlzL3YyL3N5c3RlbS9wZXJzb24jU3lzQWRtaW4iLCJodHRwOi8vcHVybC5pbXNnbG9iYWwub3JnL3ZvY2FiL2xpcy92Mi9zeXN0ZW0vcGVyc29uI1VzZXIiXSwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vY3VzdG9tIjp7ImN1c3RvbTEiOiJ2YWx1ZTEiLCJjdXN0b20yIjoidmFsdWUyIn0sImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpLW5ycHMvY2xhaW0vbmFtZXNyb2xlc2VydmljZSI6eyJjb250ZXh0X21lbWJlcnNoaXBzX3VybCI6Imh0dHBzOi8vY2FudmFzLmhvbWUucnVzc2ZlbGQubWUvYXBpL2x0aS9jb3Vyc2VzLzMvbmFtZXNfYW5kX3JvbGVzIiwic2VydmljZV92ZXJzaW9ucyI6WyIyLjAiXX0sImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL2x0aTExX2xlZ2FjeV91c2VyX2lkIjoiNTM1ZmEwODVmMjJiNDY1NWY0OGNkNWEzNmE5MjE1ZjY0YzA2MjgzOCIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL2x0aTFwMSI6eyJyZXNvdXJjZV9saW5rX2lkIjoiNmE4YWFjYTE2MmJmYzQzOTM4MDRhZmQ0Y2Q1M2NkOTQ0MTNjNDhiYiIsInVzZXJfaWQiOiI1MzVmYTA4NWYyMmI0NjU1ZjQ4Y2Q1YTM2YTkyMTVmNjRjMDYyODM4In0sImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL2V1bGFzZXJ2aWNlIjp7InVybCI6Imh0dHA6Ly9jYW52YXMuaG9tZS5ydXNzZmVsZC5tZS9hcGkvbHRpL2Fzc2V0X3Byb2Nlc3Nvcl9ldWxhcy81Iiwic2NvcGUiOlsiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvc2NvcGUvZXVsYS91c2VyIiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvc2NvcGUvZXVsYS9kZXBsb3ltZW50Il19LCJodHRwczovL3d3dy5pbnN0cnVjdHVyZS5jb20vcGxhY2VtZW50IjpudWxsfQ.U-gWxLRdjeOrV9egBJTdiln90LIGl-gzfSI9inS5TLYdabtiPFv9vmxieUXtcu_XMG9kJuFPUzMVkp2GeqAuRw\", \"state\": \"Zp22IH6qgj7YIPgXIkOf_\", \"lti_storage_target\": \"post_message_forwarding\" } Decoded JWT in Redirect Message from Canvas - Admin Account { \"https://purl.imsglobal.org/spec/lti/claim/message_type\": \"LtiResourceLinkRequest\", \"https://purl.imsglobal.org/spec/lti/claim/version\": \"1.3.0\", \"https://purl.imsglobal.org/spec/lti/claim/resource_link\": { \"id\": \"8aa641d1-b4d4-4fea-8a9b-e9fedfb62b1e\", \"description\": \"\u003cp\u003eAssignment Description\u003c/p\u003e\", \"title\": \"Test LTI 1.3 Assignment Name\" }, \"https://purl.imsglobal.org/spec/lti-ags/claim/endpoint\": { \"lineitem\": \"https://canvas.home.russfeld.me/api/lti/courses/3/line_items/1\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti-ags/scope/lineitem\", \"https://purl.imsglobal.org/spec/lti-ags/scope/lineitem.readonly\", \"https://purl.imsglobal.org/spec/lti-ags/scope/result.readonly\", \"https://purl.imsglobal.org/spec/lti-ags/scope/score\", \"https://canvas.instructure.com/lti-ags/progress/scope/show\" ], \"lineitems\": \"http://canvas.home.russfeld.me/api/lti/courses/3/line_items\" }, \"aud\": \"10000000000002\", \"azp\": \"10000000000002\", \"https://purl.imsglobal.org/spec/lti/claim/deployment_id\": \"5:d3a2504bba5184799a38f141e8df2335cfa8206d\", \"exp\": 1749672776, \"iat\": 1749669176, \"iss\": \"https://canvas.home.russfeld.me\", \"nonce\": \"pSESxuF1KbfCqvRl5u9HW\", \"sub\": \"aac22713-28b3-4397-9ff9-a3d2880ece1a\", \"https://purl.imsglobal.org/spec/lti/claim/target_link_uri\": \"https://lpp.home.russfeld.me/lti/provider/launch13\", \"picture\": \"http://canvas.instructure.com/images/messages/avatar-50.png\", \"email\": \"canvasadmin@russfeld.me\", \"name\": \"canvasadmin@russfeld.me\", \"given_name\": \"canvasadmin@russfeld.me\", \"family_name\": \"\", \"https://purl.imsglobal.org/spec/lti/claim/lis\": { \"person_sourcedid\": \"$Person.sourcedId\", \"course_offering_sourcedid\": \"$CourseSection.sourcedId\" }, \"https://purl.imsglobal.org/spec/lti/claim/context\": { \"id\": \"d3a2504bba5184799a38f141e8df2335cfa8206d\", \"label\": \"LTI13\", \"title\": \"LTI 1.3 Test Course\", \"type\": [ \"http://purl.imsglobal.org/vocab/lis/v2/course#CourseOffering\" ] }, \"https://purl.imsglobal.org/spec/lti/claim/tool_platform\": { \"guid\": \"zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms\", \"name\": \"ALT+CS Lab\", \"version\": \"cloud\", \"product_family_code\": \"canvas\" }, \"https://purl.imsglobal.org/spec/lti/claim/launch_presentation\": { \"document_target\": \"iframe\", \"return_url\": \"https://canvas.home.russfeld.me/courses/3/assignments\", \"locale\": \"en\" }, \"https://purl.imsglobal.org/spec/lti/claim/platformnotificationservice\": { \"service_versions\": [ \"1.0\" ], \"platform_notification_service_url\": \"https://canvas.home.russfeld.me/api/lti/notice-handlers/5\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti/scope/noticehandlers\" ], \"notice_types_supported\": [ \"LtiHelloWorldNotice\", \"LtiAssetProcessorSubmissionNotice\", \"LtiContextCopyNotice\" ] }, \"locale\": \"en\", \"https://purl.imsglobal.org/spec/lti/claim/roles\": [ \"http://purl.imsglobal.org/vocab/lis/v2/institution/person#Administrator\", \"http://purl.imsglobal.org/vocab/lis/v2/system/person#SysAdmin\", \"http://purl.imsglobal.org/vocab/lis/v2/system/person#User\" ], \"https://purl.imsglobal.org/spec/lti/claim/custom\": { \"custom1\": \"value1\", \"custom2\": \"value2\" }, \"https://purl.imsglobal.org/spec/lti-nrps/claim/namesroleservice\": { \"context_memberships_url\": \"https://canvas.home.russfeld.me/api/lti/courses/3/names_and_roles\", \"service_versions\": [ \"2.0\" ] }, \"https://purl.imsglobal.org/spec/lti/claim/lti11_legacy_user_id\": \"535fa085f22b4655f48cd5a36a9215f64c062838\", \"https://purl.imsglobal.org/spec/lti/claim/lti1p1\": { \"resource_link_id\": \"6a8aaca162bfc4393804afd4cd53cd94413c48bb\", \"user_id\": \"535fa085f22b4655f48cd5a36a9215f64c062838\" }, \"https://purl.imsglobal.org/spec/lti/claim/eulaservice\": { \"url\": \"http://canvas.home.russfeld.me/api/lti/asset_processor_eulas/5\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti/scope/eula/user\", \"https://purl.imsglobal.org/spec/lti/scope/eula/deployment\" ] }, \"https://www.instructure.com/placement\": null } Decoded JWT in Redirect Message from Canvas - Teacher Account { \"https://purl.imsglobal.org/spec/lti/claim/message_type\": \"LtiResourceLinkRequest\", \"https://purl.imsglobal.org/spec/lti/claim/version\": \"1.3.0\", \"https://purl.imsglobal.org/spec/lti/claim/resource_link\": { \"id\": \"8aa641d1-b4d4-4fea-8a9b-e9fedfb62b1e\", \"description\": \"\u003cp\u003eAssignment Description\u003c/p\u003e\", \"title\": \"Test LTI 1.3 Assignment Name\" }, \"https://purl.imsglobal.org/spec/lti-ags/claim/endpoint\": { \"lineitem\": \"https://canvas.home.russfeld.me/api/lti/courses/3/line_items/1\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti-ags/scope/lineitem\", \"https://purl.imsglobal.org/spec/lti-ags/scope/lineitem.readonly\", \"https://purl.imsglobal.org/spec/lti-ags/scope/result.readonly\", \"https://purl.imsglobal.org/spec/lti-ags/scope/score\", \"https://canvas.instructure.com/lti-ags/progress/scope/show\" ], \"lineitems\": \"http://canvas.home.russfeld.me/api/lti/courses/3/line_items\" }, \"aud\": \"10000000000002\", \"azp\": \"10000000000002\", \"https://purl.imsglobal.org/spec/lti/claim/deployment_id\": \"7:d3a2504bba5184799a38f141e8df2335cfa8206d\", \"exp\": 1749761809, \"iat\": 1749758209, \"iss\": \"https://canvas.home.russfeld.me\", \"nonce\": \"BPpEE7xw1ie5ny_o-VA5G\", \"sub\": \"e77934e7-4e98-4055-b4b4-3a8431e4f22a\", \"https://purl.imsglobal.org/spec/lti/claim/target_link_uri\": \"https://lpp.home.russfeld.me/lti/provider/launch13\", \"picture\": \"https://canvas.home.russfeld.me/images/thumbnails/2/GJhBgjcBm2BG6aFOlLDZpjEMDRzB5jgUBJYuVqJu\", \"email\": \"canvasteacher@russfeld.me\", \"name\": \"TeacherFirst TeacherLast\", \"given_name\": \"TeacherFirst\", \"family_name\": \"TeacherLast\", \"https://purl.imsglobal.org/spec/lti/claim/lis\": { \"person_sourcedid\": \"7858675309\", \"course_offering_sourcedid\": \"$CourseSection.sourcedId\" }, \"https://purl.imsglobal.org/spec/lti/claim/context\": { \"id\": \"d3a2504bba5184799a38f141e8df2335cfa8206d\", \"label\": \"LTI13\", \"title\": \"LTI 1.3 Test Course\", \"type\": [ \"http://purl.imsglobal.org/vocab/lis/v2/course#CourseOffering\" ] }, \"https://purl.imsglobal.org/spec/lti/claim/tool_platform\": { \"guid\": \"zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms\", \"name\": \"ALT+CS Lab\", \"version\": \"cloud\", \"product_family_code\": \"canvas\" }, \"https://purl.imsglobal.org/spec/lti/claim/launch_presentation\": { \"document_target\": \"iframe\", \"return_url\": \"https://canvas.home.russfeld.me/courses/3/assignments\", \"locale\": \"en\" }, \"https://purl.imsglobal.org/spec/lti/claim/platformnotificationservice\": { \"service_versions\": [ \"1.0\" ], \"platform_notification_service_url\": \"https://canvas.home.russfeld.me/api/lti/notice-handlers/7\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti/scope/noticehandlers\" ], \"notice_types_supported\": [ \"LtiHelloWorldNotice\", \"LtiAssetProcessorSubmissionNotice\", \"LtiContextCopyNotice\" ] }, \"locale\": \"en\", \"https://purl.imsglobal.org/spec/lti/claim/roles\": [ \"http://purl.imsglobal.org/vocab/lis/v2/institution/person#Instructor\", \"http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor\", \"http://purl.imsglobal.org/vocab/lis/v2/system/person#User\" ], \"https://purl.imsglobal.org/spec/lti/claim/custom\": { \"custom1\": \"value1\", \"custom2\": \"value2\" }, \"https://purl.imsglobal.org/spec/lti-nrps/claim/namesroleservice\": { \"context_memberships_url\": \"https://canvas.home.russfeld.me/api/lti/courses/3/names_and_roles\", \"service_versions\": [ \"2.0\" ] }, \"https://purl.imsglobal.org/spec/lti/claim/lti11_legacy_user_id\": \"c0ddd6c90cbe1ef0f32fbce5c3bf654204be186c\", \"https://purl.imsglobal.org/spec/lti/claim/lti1p1\": { \"resource_link_id\": \"6a8aaca162bfc4393804afd4cd53cd94413c48bb\", \"user_id\": \"c0ddd6c90cbe1ef0f32fbce5c3bf654204be186c\", \"oauth_consumer_key\": \"thisisasupersecretkey\", \"oauth_consumer_key_sign\": \"FPR9uW9niYZZTkodpKrJCfjktJ51YJhc6m44c4kzKNk=\" }, \"https://purl.imsglobal.org/spec/lti/claim/eulaservice\": { \"url\": \"http://canvas.home.russfeld.me/api/lti/asset_processor_eulas/7\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti/scope/eula/user\", \"https://purl.imsglobal.org/spec/lti/scope/eula/deployment\" ] }, \"https://www.instructure.com/placement\": null } Decoded JWT in Redirect Message from Canvas - Student Account { \"https://purl.imsglobal.org/spec/lti/claim/message_type\": \"LtiResourceLinkRequest\", \"https://purl.imsglobal.org/spec/lti/claim/version\": \"1.3.0\", \"https://purl.imsglobal.org/spec/lti/claim/resource_link\": { \"id\": \"8aa641d1-b4d4-4fea-8a9b-e9fedfb62b1e\", \"description\": \"\u003cp\u003eAssignment Description\u003c/p\u003e\", \"title\": \"Test LTI 1.3 Assignment Name\" }, \"https://purl.imsglobal.org/spec/lti-ags/claim/endpoint\": { \"lineitem\": \"https://canvas.home.russfeld.me/api/lti/courses/3/line_items/1\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti-ags/scope/lineitem\", \"https://purl.imsglobal.org/spec/lti-ags/scope/lineitem.readonly\", \"https://purl.imsglobal.org/spec/lti-ags/scope/result.readonly\", \"https://purl.imsglobal.org/spec/lti-ags/scope/score\", \"https://canvas.instructure.com/lti-ags/progress/scope/show\" ], \"lineitems\": \"http://canvas.home.russfeld.me/api/lti/courses/3/line_items\" }, \"aud\": \"10000000000002\", \"azp\": \"10000000000002\", \"https://purl.imsglobal.org/spec/lti/claim/deployment_id\": \"7:d3a2504bba5184799a38f141e8df2335cfa8206d\", \"exp\": 1749761684, \"iat\": 1749758084, \"iss\": \"https://canvas.home.russfeld.me\", \"nonce\": \"8TY2f22B2yrw20r9fipF2\", \"sub\": \"848b3a11-c7b6-4c05-9fb3-782a0c34ee43\", \"https://purl.imsglobal.org/spec/lti/claim/target_link_uri\": \"https://lpp.home.russfeld.me/lti/provider/launch13\", \"picture\": \"https://canvas.home.russfeld.me/images/thumbnails/3/fnQIzMRWPAny4JOWMUvz8FiHsvP5Tyk4CRBKmMhm\", \"email\": \"canvasstudent@russfeld.me\", \"name\": \"StudentFirst StudentLast\", \"given_name\": \"StudentFirst\", \"family_name\": \"StudentLast\", \"https://purl.imsglobal.org/spec/lti/claim/lis\": { \"person_sourcedid\": \"835203884\", \"course_offering_sourcedid\": \"$CourseSection.sourcedId\" }, \"https://purl.imsglobal.org/spec/lti/claim/context\": { \"id\": \"d3a2504bba5184799a38f141e8df2335cfa8206d\", \"label\": \"LTI13\", \"title\": \"LTI 1.3 Test Course\", \"type\": [ \"http://purl.imsglobal.org/vocab/lis/v2/course#CourseOffering\" ] }, \"https://purl.imsglobal.org/spec/lti/claim/tool_platform\": { \"guid\": \"zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms\", \"name\": \"ALT+CS Lab\", \"version\": \"cloud\", \"product_family_code\": \"canvas\" }, \"https://purl.imsglobal.org/spec/lti/claim/launch_presentation\": { \"document_target\": \"iframe\", \"return_url\": \"https://canvas.home.russfeld.me/courses/3/assignments\", \"locale\": \"en\" }, \"https://purl.imsglobal.org/spec/lti/claim/platformnotificationservice\": { \"service_versions\": [ \"1.0\" ], \"platform_notification_service_url\": \"https://canvas.home.russfeld.me/api/lti/notice-handlers/7\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti/scope/noticehandlers\" ], \"notice_types_supported\": [ \"LtiHelloWorldNotice\", \"LtiAssetProcessorSubmissionNotice\", \"LtiContextCopyNotice\" ] }, \"locale\": \"en\", \"https://purl.imsglobal.org/spec/lti/claim/roles\": [ \"http://purl.imsglobal.org/vocab/lis/v2/institution/person#Student\", \"http://purl.imsglobal.org/vocab/lis/v2/membership#Learner\", \"http://purl.imsglobal.org/vocab/lis/v2/system/person#User\" ], \"https://purl.imsglobal.org/spec/lti/claim/custom\": { \"custom1\": \"value1\", \"custom2\": \"value2\" }, \"https://purl.imsglobal.org/spec/lti-nrps/claim/namesroleservice\": { \"context_memberships_url\": \"https://canvas.home.russfeld.me/api/lti/courses/3/names_and_roles\", \"service_versions\": [ \"2.0\" ] }, \"https://purl.imsglobal.org/spec/lti/claim/lti11_legacy_user_id\": \"86157096483e6b3a50bfedc6bac902c0b20a824f\", \"https://purl.imsglobal.org/spec/lti/claim/lti1p1\": { \"resource_link_id\": \"6a8aaca162bfc4393804afd4cd53cd94413c48bb\", \"user_id\": \"86157096483e6b3a50bfedc6bac902c0b20a824f\", \"oauth_consumer_key\": \"thisisasupersecretkey\", \"oauth_consumer_key_sign\": \"byxEShzri7Vts17LMSxuG5tNrdr32iAFoBlx5HIStcA=\" }, \"https://purl.imsglobal.org/spec/lti/claim/eulaservice\": { \"url\": \"http://canvas.home.russfeld.me/api/lti/asset_processor_eulas/7\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti/scope/eula/user\", \"https://purl.imsglobal.org/spec/lti/scope/eula/deployment\" ] }, \"https://www.instructure.com/placement\": null } Decoded JWT in Redirect Message from Canvas - Student Account (All LTI Advatage Features Disabled) { \"https://purl.imsglobal.org/spec/lti/claim/message_type\": \"LtiResourceLinkRequest\", \"https://purl.imsglobal.org/spec/lti/claim/version\": \"1.3.0\", \"https://purl.imsglobal.org/spec/lti/claim/resource_link\": { \"id\": \"8aa641d1-b4d4-4fea-8a9b-e9fedfb62b1e\", \"description\": \"\u003cp\u003eAssignment Description\u003c/p\u003e\", \"title\": \"Test LTI 1.3 Assignment Name\" }, \"aud\": \"10000000000002\", \"azp\": \"10000000000002\", \"https://purl.imsglobal.org/spec/lti/claim/deployment_id\": \"7:d3a2504bba5184799a38f141e8df2335cfa8206d\", \"exp\": 1749763062, \"iat\": 1749759462, \"iss\": \"https://canvas.home.russfeld.me\", \"nonce\": \"2yf7hJ1T81gldh6tX2JVG\", \"sub\": \"848b3a11-c7b6-4c05-9fb3-782a0c34ee43\", \"https://purl.imsglobal.org/spec/lti/claim/target_link_uri\": \"https://lpp.home.russfeld.me/lti/provider/launch13\", \"picture\": \"https://canvas.home.russfeld.me/images/thumbnails/3/fnQIzMRWPAny4JOWMUvz8FiHsvP5Tyk4CRBKmMhm\", \"email\": \"canvasstudent@russfeld.me\", \"name\": \"StudentFirst StudentLast\", \"given_name\": \"StudentFirst\", \"family_name\": \"StudentLast\", \"https://purl.imsglobal.org/spec/lti/claim/lis\": { \"person_sourcedid\": \"835203884\", \"course_offering_sourcedid\": \"$CourseSection.sourcedId\" }, \"https://purl.imsglobal.org/spec/lti/claim/context\": { \"id\": \"d3a2504bba5184799a38f141e8df2335cfa8206d\", \"label\": \"LTI13\", \"title\": \"LTI 1.3 Test Course\", \"type\": [ \"http://purl.imsglobal.org/vocab/lis/v2/course#CourseOffering\" ] }, \"https://purl.imsglobal.org/spec/lti/claim/tool_platform\": { \"guid\": \"zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms\", \"name\": \"ALT+CS Lab\", \"version\": \"cloud\", \"product_family_code\": \"canvas\" }, \"https://purl.imsglobal.org/spec/lti/claim/launch_presentation\": { \"document_target\": \"iframe\", \"return_url\": \"https://canvas.home.russfeld.me/courses/3/assignments\", \"locale\": \"en\" }, \"locale\": \"en\", \"https://purl.imsglobal.org/spec/lti/claim/roles\": [ \"http://purl.imsglobal.org/vocab/lis/v2/institution/person#Student\", \"http://purl.imsglobal.org/vocab/lis/v2/membership#Learner\", \"http://purl.imsglobal.org/vocab/lis/v2/system/person#User\" ], \"https://purl.imsglobal.org/spec/lti/claim/custom\": { \"custom1\": \"value1\", \"custom2\": \"value2\" }, \"https://purl.imsglobal.org/spec/lti/claim/lti11_legacy_user_id\": \"86157096483e6b3a50bfedc6bac902c0b20a824f\", \"https://purl.imsglobal.org/spec/lti/claim/lti1p1\": { \"resource_link_id\": \"6a8aaca162bfc4393804afd4cd53cd94413c48bb\", \"user_id\": \"86157096483e6b3a50bfedc6bac902c0b20a824f\", \"oauth_consumer_key\": \"thisisasupersecretkey\", \"oauth_consumer_key_sign\": \"Qu2E9ixZ8J1nu6T7jsE5V8H4J7FZwXjasizBVOnXaL8=\" }, \"https://purl.imsglobal.org/spec/lti/claim/eulaservice\": { \"url\": \"http://canvas.home.russfeld.me/api/lti/asset_processor_eulas/7\", \"scope\": [ \"https://purl.imsglobal.org/spec/lti/scope/eula/user\", \"https://purl.imsglobal.org/spec/lti/scope/eula/deployment\" ] }, \"https://www.instructure.com/placement\": null } Helpful References: https://www.imsglobal.org/spec/lti/v1p3 https://www.imsglobal.org/spec/security/v1p0/ https://openid.net/specs/openid-connect-core-1_0.html https://github.com/Cvmcosta/ltijs - reference implementation",
    "tags": [],
    "title": "LTI 1.3 Tool Provider",
    "uri": "/lti-toolkit/02-lti/02-lti13-tool/index.html"
  },
  {
    "breadcrumb": "LTI Docs",
    "content": "The LTI Toolkit constructs a launchData object from each incoming LTI launch that contains the following information. Each attribute is documented with the original source of that attribute from both an LTI 1.0 and LTI 1.3 launch request. To simplify things, the baseURL and agsURL in the descriptions below have been replaced with variables that carry these values:\nbaseURL = \"https://purl.imsglobal.org/spec/lti/claim/\" agsURL = \"https://purl.imsglobal.org/spec/lti-ags/claim/\" LTI Launch Data Object launch_type - the type of LTI launch LTI 1.0: \"lti1.0\" LTI 1.3: \"lti1.3\" tool_consumer_key - the locally-generated key used to identify the tool consumer (either the OAuth Key for LTI 1.0 or the provided Key in the Login URL for LTI 1.3) LTI 1.0: thisisasupersecretkey LTI 1.3: thisisasupersecretkey course_id - the unique ID of the course LTI 1.0: context_id LTI 1.3: [baseUrl + \"context\"].id course_label - the short title of the course (e.g. \"CIS 101\") LTI 1.0: context_label LTI 1.3: [baseUrl + \"context\"].label course_name - the full title of the course (e.g \"Computer Programming\") LTI 1.0: context_title LTI 1.3: [baseUrl + \"context\"].title assignment_id - the unique ID of the assignment LTI 1.0: resource_link_id LTI 1.3: [baseUrl + \"lti1p1\"].resource_link_id assignment_lti_id - the unique LTI ID of the assignment LTI 1.0: ext_lti_assignment_id LTI 1.3: [baseUrl + \"resource_link\"].id assignment_name - the name of the assignment (e.g. \"Programming Lab 1\") LTI 1.0: resource_link_title LTI 1.3: [baseUrl + \"resource_link\"].title return_url - the URL to return students to after finishing the assignment LTI 1.0: launch_presentation_return_url LTI 1.3: [baseUrl + \"launch_presentation\"].return_url outcome_url - the URL to submit grades to LTI 1.0: lis_outcome_service_url LTI 1.3: [agsUrl + \"endpoint\"].lineitem outcome_id - the ID of the outcome to submit (only present on student launches) LTI 1.0: lis_result_sourcedid LTI 1.3: null outcome_ags - information for the LTI Assignment \u0026 Grade Services (AGS) LTI 1.0: null LTI 1.3: launchResult[agsUrl + \"endpoint\"] user_lis_id - the unique ID of the student for LTI 1.0 LTI 1.0: user_id LTI 1.3: [baseUrl + \"lti1p1\"].user_id user_lis13_id - the unique ID of the student for LTI 1.3 LTI 1.0: null LTI 1.3: launchResult.sub user_email - the email address of the student LTI 1.0: lis_person_contact_email_primary LTI 1.3: email user_name - the full name of the student (e.g. \"Willie Wildcat\") LTI 1.0: lis_person_name_full LTI 1.3: name user_given_name - the given name (first name) of the student (e.g. \"Willie\") LTI 1.0: lis_person_name_given LTI 1.3: given_name user_family_name - the famly name (last name or surname) of the student (e.g. \"Wildcat\") LTI 1.0: lis_person_name_family LTI 1.3: family_name user_image - the URL of the profile image of the user LTI 1.0: user_image LTI 1.3: picture user_roles - the roles assigned to the user LTI 1.0: role LTI 1.3: [baseUrl + \"roles\"] custom - any custom parameters provided to the system (in LTI 1.0, they MUST be prefixed with lpp to be detected) LTI 1.0: search for any attributes prefixed with lpp_ LTI 1.3: [baseUrl + \"custom\"] Four additional items are stored in the consumer database by the library itself, but aren’t passed to the user’s handleLaunch function:\ntool_consumer_product - the tool consumer product name (e.g. \"canvas\") LTI 1.0: tool_consumer_info_product_family_code LTI 1.3: [baseUrl + \"tool_platform\"].product_family_code tool_consumer_guid - the unique GUID of the tool consumer instance LTI 1.0: tool_consumer_instance_guid LTI 1.3: [baseUrl + \"tool_platform\"].guid tool_consumer_name - the name of the tool consumer instance (e.g. \"ALT+CS Canvas\") LTI 1.0: tool_consumer_instance_name LTI 1.3: [baseUrl + \"tool_platform\"].name tool_consumer_version - the version of the tool consumer instance LTI 1.0: tool_consumer_info_version LTI 1.3: [baseUrl + \"tool_platform\"].version LTI Launch Examples LTI 1.0 Example Sent to the handleLaunch endpoint:\n{ launch_type: 'lti1.0', tool_consumer_key: 'thisisasupersecretkey', course_id: '4dde05e8ca1973bcca9bffc13e1548820eee93a3', course_label: 'LTI10', course_name: 'LTI 1.0 Test Course', assignment_id: 'ae06e3eb8ea83588f0a1c5897b98830dc93f47d8', assignment_lti_id: '599692b2-3abe-4ca2-a6c8-2323ef57189d', assignment_name: 'Test LTI 1.0 Assignment Name', return_url: 'https://canvas.home.russfeld.me/courses/1/assignments', outcome_url: 'https://canvas.home.russfeld.me/api/lti/v1/tools/1/grade_passback', outcome_id: '1-1-1-2-c14957047fa8fd73a6aa4d7ec543574aff29597b', outcome_ags: null, user_lis_id: '86157096483e6b3a50bfedc6bac902c0b20a824f', user_email: 'canvasstudent@russfeld.me', user_name: 'StudentFirst StudentLast', user_given_name: 'StudentFirst', user_family_name: 'StudentLast', user_image: 'https://canvas.home.russfeld.me/images/thumbnails/3/fnQIzMRWPAny4JOWMUvz8FiHsvP5Tyk4CRBKmMhm', user_roles: 'Learner', custom: { custom_1: 'value_1', custom_2: 'value_2' } } Stored in the database:\n{ tool_consumer_product: 'canvas', tool_consumer_guid: 'zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms', tool_consumer_name: 'ALT+CS Lab', tool_consumer_version: 'cloud', } LTI 1.0 Example Sent to the handleLaunch endpoint:\n{ launch_type: 'lti1.3', course_id: 'd3a2504bba5184799a38f141e8df2335cfa8206d', course_label: 'LTI13', course_name: 'LTI 1.3 Test Course', assignment_id: '6a8aaca162bfc4393804afd4cd53cd94413c48bb', assignment_lti_id: '8aa641d1-b4d4-4fea-8a9b-e9fedfb62b1e', assignment_name: 'Test LTI 1.3 Assignment Name', return_url: 'https://canvas.home.russfeld.me/courses/3/assignments', outcome_url: null, outcome_id: null, outcome_ags: '{\"lineitem\":\"https://canvas.home.russfeld.me/api/lti/courses/3/line_items/1\",\"scope\":[\"https://purl.imsglobal.org/spec/lti-ags/scope/lineitem\",\"https://purl.imsglobal.org/spec/lti-ags/scope/lineitem.readonly\",\"https://purl.imsglobal.org/spec/lti-ags/scope/result.readonly\",\"https://purl.imsglobal.org/spec/lti-ags/scope/score\",\"https://canvas.instructure.com/lti-ags/progress/scope/show\"],\"lineitems\":\"http://canvas.home.russfeld.me/api/lti/courses/3/line_items\"}', user_lis_id: '86157096483e6b3a50bfedc6bac902c0b20a824f', user_email: 'canvasstudent@russfeld.me', user_name: 'StudentFirst StudentLast', user_given_name: 'StudentFirst', user_family_name: 'StudentLast', user_image: 'https://canvas.home.russfeld.me/images/thumbnails/3/fnQIzMRWPAny4JOWMUvz8FiHsvP5Tyk4CRBKmMhm', user_roles: [ 'http://purl.imsglobal.org/vocab/lis/v2/institution/person#Student', 'http://purl.imsglobal.org/vocab/lis/v2/membership#Learner', 'http://purl.imsglobal.org/vocab/lis/v2/system/person#User' ], custom: { custom1: 'value1', custom2: 'value2' } } Stored in the database:\n{ tool_consumer_product: 'canvas', tool_consumer_guid: 'zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms', tool_consumer_name: 'ALT+CS Lab', tool_consumer_version: 'cloud', } Helpful References: LTI 1.0: https://www.imsglobal.org/specs/ltiv1p1/implementation-guide LTI 1.3: https://www.imsglobal.org/spec/lti/v1p3#required-message-claims Roles: https://www.imsglobal.org/spec/lti/v1p3#role-vocabularies",
    "description": "The LTI Toolkit constructs a launchData object from each incoming LTI launch that contains the following information. Each attribute is documented with the original source of that attribute from both an LTI 1.0 and LTI 1.3 launch request. To simplify things, the baseURL and agsURL in the descriptions below have been replaced with variables that carry these values:\nbaseURL = \"https://purl.imsglobal.org/spec/lti/claim/\" agsURL = \"https://purl.imsglobal.org/spec/lti-ags/claim/\" LTI Launch Data Object launch_type - the type of LTI launch LTI 1.0: \"lti1.0\" LTI 1.3: \"lti1.3\" tool_consumer_key - the locally-generated key used to identify the tool consumer (either the OAuth Key for LTI 1.0 or the provided Key in the Login URL for LTI 1.3) LTI 1.0: thisisasupersecretkey LTI 1.3: thisisasupersecretkey course_id - the unique ID of the course LTI 1.0: context_id LTI 1.3: [baseUrl + \"context\"].id course_label - the short title of the course (e.g. \"CIS 101\") LTI 1.0: context_label LTI 1.3: [baseUrl + \"context\"].label course_name - the full title of the course (e.g \"Computer Programming\") LTI 1.0: context_title LTI 1.3: [baseUrl + \"context\"].title assignment_id - the unique ID of the assignment LTI 1.0: resource_link_id LTI 1.3: [baseUrl + \"lti1p1\"].resource_link_id assignment_lti_id - the unique LTI ID of the assignment LTI 1.0: ext_lti_assignment_id LTI 1.3: [baseUrl + \"resource_link\"].id assignment_name - the name of the assignment (e.g. \"Programming Lab 1\") LTI 1.0: resource_link_title LTI 1.3: [baseUrl + \"resource_link\"].title return_url - the URL to return students to after finishing the assignment LTI 1.0: launch_presentation_return_url LTI 1.3: [baseUrl + \"launch_presentation\"].return_url outcome_url - the URL to submit grades to LTI 1.0: lis_outcome_service_url LTI 1.3: [agsUrl + \"endpoint\"].lineitem outcome_id - the ID of the outcome to submit (only present on student launches) LTI 1.0: lis_result_sourcedid LTI 1.3: null outcome_ags - information for the LTI Assignment \u0026 Grade Services (AGS) LTI 1.0: null LTI 1.3: launchResult[agsUrl + \"endpoint\"] user_lis_id - the unique ID of the student for LTI 1.0 LTI 1.0: user_id LTI 1.3: [baseUrl + \"lti1p1\"].user_id user_lis13_id - the unique ID of the student for LTI 1.3 LTI 1.0: null LTI 1.3: launchResult.sub user_email - the email address of the student LTI 1.0: lis_person_contact_email_primary LTI 1.3: email user_name - the full name of the student (e.g. \"Willie Wildcat\") LTI 1.0: lis_person_name_full LTI 1.3: name user_given_name - the given name (first name) of the student (e.g. \"Willie\") LTI 1.0: lis_person_name_given LTI 1.3: given_name user_family_name - the famly name (last name or surname) of the student (e.g. \"Wildcat\") LTI 1.0: lis_person_name_family LTI 1.3: family_name user_image - the URL of the profile image of the user LTI 1.0: user_image LTI 1.3: picture user_roles - the roles assigned to the user LTI 1.0: role LTI 1.3: [baseUrl + \"roles\"] custom - any custom parameters provided to the system (in LTI 1.0, they MUST be prefixed with lpp to be detected) LTI 1.0: search for any attributes prefixed with lpp_ LTI 1.3: [baseUrl + \"custom\"] Four additional items are stored in the consumer database by the library itself, but aren’t passed to the user’s handleLaunch function:",
    "tags": [],
    "title": "LTI Launch Data",
    "uri": "/lti-toolkit/02-lti/03-launchdata/index.html"
  },
  {
    "breadcrumb": "LTI Docs",
    "content": "When using the LTI Toolkit as an LTI Tool Consumer (LMS), it will send LTI Launch Requests using this format.\nSample LTI 1.0 Tool Launch { \"oauth_consumer_key\": \"Kyfb4eihmljr2ehgq\", \"oauth_signature_method\": \"HMAC-SHA1\", \"oauth_timestamp\": \"1768590571\", \"oauth_nonce\": \"_yX_tiCIcAV-pGE3Lq0PS\", \"oauth_version\": \"1.0\", \"context_id\": \"thisisasectionkey\", \"context_label\": \"PL Default\", \"context_title\": \"PrairieLearn Default Section\", \"launch_presentation_document_target\": \"iframe\", \"launch_presentation_locale\": \"en\", \"launch_presentation_return_url\": \"https://lpp.home.russfeld.me/student/1\", \"lis_outcome_service_url\": \"https://lpp.home.russfeld.me/lti/consumer/grade_passback\", \"lis_result_sourcedid\": \"thisisasectionkey:thisisalessonkey:n7StL49uxddH2Gf5aBqoC:hqTqbHFOw1IoSA4Qf6R_A\", \"lis_person_contact_email_primary\": \"canvasstudent@russfeld.me\", \"lis_person_name_family\": \"StudentLast\", \"lis_person_name_full\": \"StudentFirst StudentLast\", \"lis_person_name_given\": \"StudentFirst\", \"lti_message_type\": \"basic-lti-launch-request\", \"lti_version\": \"LTI-1p0\", \"oauth_callback\": \"about:blank\", \"resource_link_id\": \"thisisalessonkey\", \"resource_link_title\": \"Introduction to Variables in Python\", \"roles\": \"Learner\", \"tool_consumer_info_product_family_code\": \"learningpathplatform\", \"tool_consumer_info_version\": \"cloud\", \"tool_consumer_instance_contact_email\": \"russfeld@ksu.edu\", \"tool_consumer_instance_guid\": \"devplatform\", \"tool_consumer_instance_name\": \"Learning Path Platform\", \"user_id\": \"n7StL49uxddH2Gf5aBqoC\", \"user_image\": \"http://canvas.instructure.com/images/messages/avatar-50.png\", \"oauth_signature\": \"DzeROfQzBafyvblTAZeeM+n4ryA=\" }",
    "description": "When using the LTI Toolkit as an LTI Tool Consumer (LMS), it will send LTI Launch Requests using this format.\nSample LTI 1.0 Tool Launch { \"oauth_consumer_key\": \"Kyfb4eihmljr2ehgq\", \"oauth_signature_method\": \"HMAC-SHA1\", \"oauth_timestamp\": \"1768590571\", \"oauth_nonce\": \"_yX_tiCIcAV-pGE3Lq0PS\", \"oauth_version\": \"1.0\", \"context_id\": \"thisisasectionkey\", \"context_label\": \"PL Default\", \"context_title\": \"PrairieLearn Default Section\", \"launch_presentation_document_target\": \"iframe\", \"launch_presentation_locale\": \"en\", \"launch_presentation_return_url\": \"https://lpp.home.russfeld.me/student/1\", \"lis_outcome_service_url\": \"https://lpp.home.russfeld.me/lti/consumer/grade_passback\", \"lis_result_sourcedid\": \"thisisasectionkey:thisisalessonkey:n7StL49uxddH2Gf5aBqoC:hqTqbHFOw1IoSA4Qf6R_A\", \"lis_person_contact_email_primary\": \"canvasstudent@russfeld.me\", \"lis_person_name_family\": \"StudentLast\", \"lis_person_name_full\": \"StudentFirst StudentLast\", \"lis_person_name_given\": \"StudentFirst\", \"lti_message_type\": \"basic-lti-launch-request\", \"lti_version\": \"LTI-1p0\", \"oauth_callback\": \"about:blank\", \"resource_link_id\": \"thisisalessonkey\", \"resource_link_title\": \"Introduction to Variables in Python\", \"roles\": \"Learner\", \"tool_consumer_info_product_family_code\": \"learningpathplatform\", \"tool_consumer_info_version\": \"cloud\", \"tool_consumer_instance_contact_email\": \"russfeld@ksu.edu\", \"tool_consumer_instance_guid\": \"devplatform\", \"tool_consumer_instance_name\": \"Learning Path Platform\", \"user_id\": \"n7StL49uxddH2Gf5aBqoC\", \"user_image\": \"http://canvas.instructure.com/images/messages/avatar-50.png\", \"oauth_signature\": \"DzeROfQzBafyvblTAZeeM+n4ryA=\" }",
    "tags": [],
    "title": "LTI 1.0 Tool Consumer",
    "uri": "/lti-toolkit/02-lti/04-lti10-consumer/index.html"
  },
  {
    "breadcrumb": "",
    "content": "",
    "description": "",
    "tags": [],
    "title": "Categories",
    "uri": "/lti-toolkit/categories/index.html"
  },
  {
    "breadcrumb": "",
    "content": "This project is yet another toolkit for developing LTI (Learning Tools Interoperability) applications. It can act both as an LTI Tool Provider (a service integrated with a learning management system) using either LTI 1.0 or LTI 1.3, and it can also act as an LTI Tool Consumer (a learning management system) using LTI 1.0.\nLimitations\nOnly supports JWKS keyset URLs for LTI 1.3 connections, not manually entered keys. (This best supports the typical Canvas use-case) Does not cache authentication keys received from LTI Consumers (LMSs) via LTI 1.3 - it will always request a new key (this is simple but inefficient) LTI 1.3 is not implemeneted iwthin the LTI Tool Consumer features (therefore, it can only connect to other LTI Tool Providers using LTI 1.0 at this time) LTI 1.0 connections to external LTI Tool Providers don’t currently support custom variables Does not support anonymous students or test students in LTI Launch Requests (requires Public privacy level) Not currently tested or certified against the 1EdTech LTI Certification Tool Not currently tested against LTI Tool Consumers other than Instructure Canvas Does not currently send errors back to LTI Tool Provider when grades are received but cannot be posted Getting Started The package is currently not published to NPM but can be installed directly from GitHub:\nnpm install github:alt-cs-lab/lti-toolkit See the Examples section for detailed example projects using this tool.\nConfiguration A minimal configuration example for LTI 1.0:\n// Import LTI Toolkit import LTIToolkit from \"lti-toolkit\" // LTI Launch Handler Function import LTILaunch from \"../routes/lti-launch.js\"; // Initialize LTI Toolkit const lti = await LTIToolkit({ // Domain name for this application domain_name: \"https://app.domain.tld\", // Logging Level // One of error warn info http verbose lti debug sql silly log_level: \"lti\", // LTI Tool Provider Configuration provider: { // Incoming LTI Launch Handler Function handleLaunch: LTILaunch, // LTI 1.0 Consumer Key and Shared Secret // for single LTI consumer setup key: \"your_lti_key\", secret: \"your_lti_secret\" } }); The LTI Toolkit library is initialized by providing a configuration options object with the following options:\n{ // REQUIRED // Domain Name // The fully qualified domain name for the application // Must use HTTPS for most other LTI apps to work domain_name: \"https://app.domain.tld\", // OPTIONAL // Logging Level for built-in Winston instance // One of error warn info http verbose lti debug sql silly // Default: info (or error in testing) log_level: \"info\", // -OR- // Logger Object // An external instance of Winston (or similar) for unified logging // Default: built-in Winston instance logger: winston_instance, // OPTIONAL // Database Storage Filename // A filename for the built-in SQLite database // Use \":memory:\" to create an in-memory database // Default: lti-toolkit.db db_storage: \"lti-toolkit.db\", // -OR- // Database Object // An external instance of Sequelize ORM for a database // Default: built-in Sequelize instance using SQLite database: sequelize_instance // REQUIRED // One or both of provider or consumer must be configured // OPTIONAL // LTI Tool Provider Configuration provider: { // REQUIRED // LTI Launch Handler // User-provided function to handle LTI Launches // Params: LTI Launch Data, LTI Consumer Sequelize Object, and Express request // Return: URL string to redirect browser to after successful launch handleLaunch: LTILaunchHandler // OPTIONAL Single LTI 1.0 Consumer Setup // Both key and secret must be provided // Will configure a simple LTI 1.0 Consumer on launch // All other consumers will be removed from the database on launch // LTI 1.0 Key key: \"your_lti_key\", // LTI 1.0 Secret secret: \"your_lti_secret\" } // OPTIONAL // LTI Tool Consumer Configuration consumer: { // REQUIRED // LTI Grade Handler // User-provided async function to receive LTI Grades // Params: SectionKey, LessonKey, UserKey, AssignmentKey, Score // Function should resolve when grade is posted postProviderGrade: LTIGradeHandler, // REQUIRED // LTI Tool Consumer Admin Email // Email address for system administrator admin_email: \"administrator@app.domain.tld\", // REQUIRED // LTI Tool Consumer Deployment Name // Name of the LTI deployment deployment_name: \"LTI Toolkit Testing Application\", // REQUIRED // LTI Tool Consumer Deployment ID // Unique ID of the LTI Deployment deployment_id: \"lti-toolkit-testing-app\", } // OPTIONAL // Test Mode Flag // Indicates if the application is running in test mode // Useful for unit testing only // Default: false test: false } Usage The initialized LTI Toolkit is a complex object containing the following items:\n{ // Express routers for handling incoming routes routers: { // LTI Tool Provider router // Returned if provider is configured provider: { \"/launch10\", \"/launch13\", \"/redirect13\", \"/login13/:key\", \"/key13\", \"/deeplink13\", \"/editor13\", \"/navigate13\" }, // LTI Tool Consumer Router // Returned if consumer is configured consumer: { \"/grade_passback\" } }, // Controller Interfaces controllers: { // LTI Controller Instance lti: { // Generate LTI 1.0 Form Data to connect to // external LTI Tool Provider generateLTI10FormData(), // Post Grade back to LTI Tool Consumer postGrade() }, // LTI Provider Controller Instance // Returned if provider is configured provider: { getAll(), getSecret(), updateProvider(), createProvider(), deleteProvider() }, // LTI Coonsumer Controller Instance // Returned if consumer is configured consumer: { getAll(), createConsumer(), updateConsumer(), deleteConsumer(), getSecret(), updateSecret() } }, // Sequelize Database Models models: { OauthNonce, Consumer, ConsumerKey, ConsumerLogin, Provider, ProviderKey, }, // Test Utilities // Returned if test mode is configured test: { // Utility function to initialize expiration of logins and nonces initializeExpiration, // Sequelize Database instsance db, // LTI 1.0 Utilities lti10, // LTI 1.3 Utilities lti13, } } Dependencies Care has been taken to minimize the amount of dependencies but balanced against simplifying the code and using reasonable libraries where appropriate. The core dependencies are listed below:\nNode.js 22 LTS - developed and tested using Node 22 LTS express - core web framework for handling routing and parsing express-xml-bodyparser - parse incoming XML bodies (LTI 1.0 grade passback) jsonwebtoken - used to decode LTI 1.3 authentication tokens jwks-rsa - used to request and decode JWKS signing keys for LTI 1.3 ky - simple HTTP client for sending requests back to the LTI 1.3 Tool Consumer (LMS) nanoid - library used to generate unique string identifiers nunjucks - template library used to render forms as part of the LTI 1.3 authentication process sequelize - object-relational mapper (ORM) for interfacing with databases sqlite3 - default file-based database engine umzug - database migration and seeding tool winston - logging library xml2js - XML parser for LTI 1.0 connections Documentation This documentation site provides many useful guides for using this tool!\nExamples - detailed example projects Database - detailed database schema Dev Setup - setting up a development environment Installing Canvas - guide for setting up Canvas in Docker with Traefik LTI Docs - detailed LTI protocol examples and diagrams",
    "description": "This project is yet another toolkit for developing LTI (Learning Tools Interoperability) applications. It can act both as an LTI Tool Provider (a service integrated with a learning management system) using either LTI 1.0 or LTI 1.3, and it can also act as an LTI Tool Consumer (a learning management system) using LTI 1.0.\nLimitations\nOnly supports JWKS keyset URLs for LTI 1.3 connections, not manually entered keys. (This best supports the typical Canvas use-case) Does not cache authentication keys received from LTI Consumers (LMSs) via LTI 1.3 - it will always request a new key (this is simple but inefficient) LTI 1.3 is not implemeneted iwthin the LTI Tool Consumer features (therefore, it can only connect to other LTI Tool Providers using LTI 1.0 at this time) LTI 1.0 connections to external LTI Tool Providers don’t currently support custom variables Does not support anonymous students or test students in LTI Launch Requests (requires Public privacy level) Not currently tested or certified against the 1EdTech LTI Certification Tool Not currently tested against LTI Tool Consumers other than Instructure Canvas Does not currently send errors back to LTI Tool Provider when grades are received but cannot be posted Getting Started The package is currently not published to NPM but can be installed directly from GitHub:",
    "tags": [],
    "title": "LTI-Toolkit",
    "uri": "/lti-toolkit/index.html"
  },
  {
    "breadcrumb": "",
    "content": "",
    "description": "",
    "tags": [],
    "title": "Tags",
    "uri": "/lti-toolkit/tags/index.html"
  }
]
