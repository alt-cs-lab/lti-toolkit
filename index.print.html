<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="print">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.148.1">
    <meta name="generator" content="Relearn 8.0.0">
    <meta name="description" content="This project is yet another toolkit for developing LTI (Learning Tools Interoperability) applications. It can act both as an LTI Tool Provider (a service integrated with a learning management system) using either LTI 1.0 or LTI 1.3, and it can also act as an LTI Tool Consumer (a learning management system) using LTI 1.0.
Limitations
Only supports JWKS keyset URLs for LTI 1.3 connections, not manually entered keys. (This best supports the typical Canvas use-case) Does not cache authentication keys received from LTI Consumers (LMSs) via LTI 1.3 - it will always request a new key (this is simple but inefficient) LTI 1.3 is not implemeneted iwthin the LTI Tool Consumer features (therefore, it can only connect to other LTI Tool Providers using LTI 1.0 at this time) LTI 1.0 connections to external LTI Tool Providers donâ€™t currently support custom variables Does not support anonymous students or test students in LTI Launch Requests (requires Public privacy level) Not currently tested or certified against the 1EdTech LTI Certification Tool Not currently tested against LTI Tool Consumers other than Instructure Canvas Does not currently send errors back to LTI Tool Provider when grades are received but cannot be posted Getting Started The package is currently not published to NPM but can be installed directly from GitHub:">
    <meta name="author" content="K-State ALT&#43;CS Lab">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://alt.cs.ksu.edu/lti-toolkit/images/hero.png">
    <meta name="twitter:title" content="LTI-Toolkit :: LTI Toolkit">
    <meta name="twitter:description" content="This project is yet another toolkit for developing LTI (Learning Tools Interoperability) applications. It can act both as an LTI Tool Provider (a service integrated with a learning management system) using either LTI 1.0 or LTI 1.3, and it can also act as an LTI Tool Consumer (a learning management system) using LTI 1.0.
Limitations
Only supports JWKS keyset URLs for LTI 1.3 connections, not manually entered keys. (This best supports the typical Canvas use-case) Does not cache authentication keys received from LTI Consumers (LMSs) via LTI 1.3 - it will always request a new key (this is simple but inefficient) LTI 1.3 is not implemeneted iwthin the LTI Tool Consumer features (therefore, it can only connect to other LTI Tool Providers using LTI 1.0 at this time) LTI 1.0 connections to external LTI Tool Providers donâ€™t currently support custom variables Does not support anonymous students or test students in LTI Launch Requests (requires Public privacy level) Not currently tested or certified against the 1EdTech LTI Certification Tool Not currently tested against LTI Tool Consumers other than Instructure Canvas Does not currently send errors back to LTI Tool Provider when grades are received but cannot be posted Getting Started The package is currently not published to NPM but can be installed directly from GitHub:">
    <meta property="og:url" content="https://alt.cs.ksu.edu/lti-toolkit/index.html">
    <meta property="og:site_name" content="LTI Toolkit">
    <meta property="og:title" content="LTI-Toolkit :: LTI Toolkit">
    <meta property="og:description" content="This project is yet another toolkit for developing LTI (Learning Tools Interoperability) applications. It can act both as an LTI Tool Provider (a service integrated with a learning management system) using either LTI 1.0 or LTI 1.3, and it can also act as an LTI Tool Consumer (a learning management system) using LTI 1.0.
Limitations
Only supports JWKS keyset URLs for LTI 1.3 connections, not manually entered keys. (This best supports the typical Canvas use-case) Does not cache authentication keys received from LTI Consumers (LMSs) via LTI 1.3 - it will always request a new key (this is simple but inefficient) LTI 1.3 is not implemeneted iwthin the LTI Tool Consumer features (therefore, it can only connect to other LTI Tool Providers using LTI 1.0 at this time) LTI 1.0 connections to external LTI Tool Providers donâ€™t currently support custom variables Does not support anonymous students or test students in LTI Launch Requests (requires Public privacy level) Not currently tested or certified against the 1EdTech LTI Certification Tool Not currently tested against LTI Tool Consumers other than Instructure Canvas Does not currently send errors back to LTI Tool Provider when grades are received but cannot be posted Getting Started The package is currently not published to NPM but can be installed directly from GitHub:">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://alt.cs.ksu.edu/lti-toolkit/images/hero.png">
    <meta itemprop="name" content="LTI-Toolkit :: LTI Toolkit">
    <meta itemprop="description" content="This project is yet another toolkit for developing LTI (Learning Tools Interoperability) applications. It can act both as an LTI Tool Provider (a service integrated with a learning management system) using either LTI 1.0 or LTI 1.3, and it can also act as an LTI Tool Consumer (a learning management system) using LTI 1.0.
Limitations
Only supports JWKS keyset URLs for LTI 1.3 connections, not manually entered keys. (This best supports the typical Canvas use-case) Does not cache authentication keys received from LTI Consumers (LMSs) via LTI 1.3 - it will always request a new key (this is simple but inefficient) LTI 1.3 is not implemeneted iwthin the LTI Tool Consumer features (therefore, it can only connect to other LTI Tool Providers using LTI 1.0 at this time) LTI 1.0 connections to external LTI Tool Providers donâ€™t currently support custom variables Does not support anonymous students or test students in LTI Launch Requests (requires Public privacy level) Not currently tested or certified against the 1EdTech LTI Certification Tool Not currently tested against LTI Tool Consumers other than Instructure Canvas Does not currently send errors back to LTI Tool Provider when grades are received but cannot be posted Getting Started The package is currently not published to NPM but can be installed directly from GitHub:">
    <meta itemprop="dateModified" content="2026-01-24T20:00:36+00:00">
    <meta itemprop="wordCount" content="1099">
    <meta itemprop="image" content="https://alt.cs.ksu.edu/lti-toolkit/images/hero.png">
    <title>LTI-Toolkit :: LTI Toolkit</title>
    <link href="https://alt.cs.ksu.edu/lti-toolkit/index.html" rel="canonical" type="text/html" title="LTI-Toolkit :: LTI Toolkit">
    <link href="/lti-toolkit/index.xml" rel="alternate" type="application/rss+xml" title="LTI-Toolkit :: LTI Toolkit">
    <link href="/lti-toolkit/index.lti.js" rel="alternate" type="text/javascript" title="LTI-Toolkit :: LTI Toolkit">
    <link href="/lti-toolkit/css/auto-complete/auto-complete.min.css?1769287359" rel="stylesheet">
    <script src="/lti-toolkit/js/auto-complete/auto-complete.min.js?1769287359" defer></script>
    <script src="/lti-toolkit/js/search-lunr.min.js?1769287359" defer></script>
    <script src="/lti-toolkit/js/search.min.js?1769287359" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/lti-toolkit/searchindex.en.js?1769287359";
    </script>
    <script src="/lti-toolkit/js/lunr/lunr.min.js?1769287359" defer></script>
    <script src="/lti-toolkit/js/lunr/lunr.stemmer.support.min.js?1769287359" defer></script>
    <script src="/lti-toolkit/js/lunr/lunr.multi.min.js?1769287359" defer></script>
    <script src="/lti-toolkit/js/lunr/lunr.en.min.js?1769287359" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/lti-toolkit/fonts/fontawesome/css/fontawesome-all.min.css?1769287359" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/lti-toolkit/fonts/fontawesome/css/fontawesome-all.min.css?1769287359" rel="stylesheet"></noscript>
    <link href="/lti-toolkit/css/perfect-scrollbar/perfect-scrollbar.min.css?1769287359" rel="stylesheet">
    <link href="/lti-toolkit/css/theme.min.css?1769287359" rel="stylesheet">
    <link href="/lti-toolkit/css/format-print.min.css?1769287359" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/index.html';
      window.relearn.relBasePath='.';
      window.relearn.relBaseUri='..';
      window.relearn.absBaseUri='https:\/\/alt.cs.ksu.edu\/lti-toolkit';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=false;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'auto', 'light-theme', 'dark-theme' ];
      window.relearn.customvariantname = "my-custom-variant";
      // [x] russfeld
      window.relearn.writeVariant=true;
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          
          if (window.relearn.writeVariant) {
            window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
          }
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
    <link href="/lti-toolkit/css/custom.css?1769287359" rel="stylesheet">
  </head>
  <body class="mobile-support print" data-url="/lti-toolkit/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#getting-started">Getting Started</a></li>
    <li><a href="#configuration">Configuration</a></li>
    <li><a href="#usage">Usage</a></li>
    <li><a href="#dependencies">Dependencies</a></li>
    <li><a href="#documentation">Documentation</a></li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class="a11y-only"><span itemprop="name">LTI-Toolkit</span><meta itemprop="position" content="1"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-edit" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://github.com/alt-cs-lab/lti-toolkit/edit/main/docs/content/_index.md" rel="external" target="_blank" title="Edit (CTRL+ALT+w)"><i class="fa-fw fas fa-pen"></i></a>
            </div>
            <div class="topbar-button topbar-button-print" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/lti-toolkit/index.print.html" title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a>
            </div>
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><span class="topbar-control"><i class="fa-fw fas fa-chevron-left"></i></span>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/lti-toolkit/00-general/index.html" title="Documentation (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable page" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="lti-toolkit">LTI-Toolkit</h1>

<p>This project is yet another toolkit for developing <a href="https://www.1edtech.org/standards/lti" rel="external" target="_blank">LTI (Learning Tools Interoperability)</a> applications. It can act both as an LTI Tool Provider (a service integrated with a learning management system) using either LTI 1.0 or LTI 1.3, and it can also act as an LTI Tool Consumer (a learning management system) using LTI 1.0.</p>
<p><strong>Limitations</strong></p>
<ul>
<li>Only supports JWKS keyset URLs for LTI 1.3 connections, not manually entered keys. (This best supports the typical Canvas use-case)</li>
<li>Does not cache authentication keys received from LTI Consumers (LMSs) via LTI 1.3 - it will always request a new key (this is simple but inefficient)</li>
<li>LTI 1.3 is not implemeneted iwthin the LTI Tool Consumer features (therefore, it can only connect to other LTI Tool Providers using LTI 1.0 at this time)</li>
<li>LTI 1.0 connections to external LTI Tool Providers don&rsquo;t currently support custom variables</li>
<li>Does not support anonymous students or test students in LTI Launch Requests (requires Public privacy level)</li>
<li>Not currently tested or certified against the <a href="https://build.1edtech.org/" rel="external" target="_blank">1EdTech LTI Certification Tool</a></li>
<li>Not currently tested against LTI Tool Consumers other than <a href="https://www.instructure.com/solutions/learning-management/k12" rel="external" target="_blank">Instructure Canvas</a></li>
<li>Does not currently send errors back to LTI Tool Provider when grades are received but cannot be posted</li>
</ul>
<h2 id="getting-started">Getting Started</h2>
<p>The package is currently not published to NPM but can be installed directly from GitHub:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm install github:alt-cs-lab/lti-toolkit</span></span></code></pre></div>
<p>See the <a href="/lti-toolkit/00-general/00-examples/index.html">Examples</a> section for detailed example projects using this tool.</p>
<h2 id="configuration">Configuration</h2>
<p>A minimal configuration example for LTI 1.0:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// Import LTI Toolkit
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">LTIToolkit</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;lti-toolkit&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// LTI Launch Handler Function
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">LTILaunch</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;../routes/lti-launch.js&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Initialize LTI Toolkit
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">lti</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">LTIToolkit</span>({
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Domain name for this application
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">domain_name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;https://app.domain.tld&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Logging Level
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// One of error warn info http verbose lti debug sql silly
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">log_level</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;lti&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// LTI Tool Provider Configuration
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">provider</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Incoming LTI Launch Handler Function
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">handleLaunch</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">LTILaunch</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// LTI 1.0 Consumer Key and Shared Secret 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// for single LTI consumer setup
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;your_lti_key&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">secret</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;your_lti_secret&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>});</span></span></code></pre></div>
<p>The LTI Toolkit library is initialized by providing a configuration options object with the following options:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// REQUIRED
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Domain Name
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// The fully qualified domain name for the application
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Must use HTTPS for most other LTI apps to work
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">domain_name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;https://app.domain.tld&#34;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// OPTIONAL 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Logging Level for built-in Winston instance
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// One of error warn info http verbose lti debug sql silly
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Default: info (or error in testing)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">log_level</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;info&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// -OR-
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Logger Object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// An external instance of Winston (or similar) for unified logging
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Default: built-in Winston instance
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">logger</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">winston_instance</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// OPTIONAL
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Database Storage Filename
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// A filename for the built-in SQLite database
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Use &#34;:memory:&#34; to create an in-memory database
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Default: lti-toolkit.db
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">db_storage</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;lti-toolkit.db&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// -OR-
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Database Object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// An external instance of Sequelize ORM for a database
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Default: built-in Sequelize instance using SQLite
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">database</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">sequelize_instance</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// REQUIRED
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// One or both of provider or consumer must be configured
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// OPTIONAL
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// LTI Tool Provider Configuration
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">provider</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// REQUIRED
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// LTI Launch Handler
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// User-provided function to handle LTI Launches
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// Params: LTI Launch Data, LTI Consumer Sequelize Object, and Express request
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// Return: URL string to redirect browser to after successful launch
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">handleLaunch</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">LTILaunchHandler</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// OPTIONAL Single LTI 1.0 Consumer Setup
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// Both key and secret must be provided
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// Will configure a simple LTI 1.0 Consumer on launch
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// All other consumers will be removed from the database on launch
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// LTI 1.0 Key
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;your_lti_key&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// LTI 1.0 Secret
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">secret</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;your_lti_secret&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// OPTIONAL
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// LTI Tool Consumer Configuration
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">consumer</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// REQUIRED
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// LTI Grade Handler
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// User-provided async function to receive LTI Grades
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// Params: SectionKey, LessonKey, UserKey, AssignmentKey, Score
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// Function should resolve when grade is posted 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">postProviderGrade</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">LTIGradeHandler</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// REQUIRED
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// LTI Tool Consumer Admin Email
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// Email address for system administrator
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">admin_email</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;administrator@app.domain.tld&#34;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// REQUIRED
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// LTI Tool Consumer Deployment Name
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// Name of the LTI deployment
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">deployment_name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;LTI Toolkit Testing Application&#34;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// REQUIRED
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// LTI Tool Consumer Deployment ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// Unique ID of the LTI Deployment
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">deployment_id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;lti-toolkit-testing-app&#34;</span>,
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// OPTIONAL
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Test Mode Flag
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Indicates if the application is running in test mode
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Useful for unit testing only
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Default: false
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">test</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h2 id="usage">Usage</h2>
<p>The initialized LTI Toolkit is a complex object containing the following items:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Express routers for handling incoming routes
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">routers</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// LTI Tool Provider router
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// Returned if provider is configured
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">provider</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;/launch10&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;/launch13&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;/redirect13&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;/login13/:key&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;/key13&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;/deeplink13&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;/editor13&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;/navigate13&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// LTI Tool Consumer Router
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// Returned if consumer is configured
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">consumer</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;/grade_passback&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Controller Interfaces
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">controllers</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// LTI Controller Instance
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">lti</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Generate LTI 1.0 Form Data to connect to
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#75715e">// external LTI Tool Provider
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">generateLTI10FormData</span>(),
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Post Grade back to LTI Tool Consumer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">postGrade</span>()
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// LTI Provider Controller Instance
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// Returned if provider is configured
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">provider</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">getAll</span>(),
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">getSecret</span>(),
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">updateProvider</span>(),
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">createProvider</span>(),
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">deleteProvider</span>()
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// LTI Coonsumer Controller Instance
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// Returned if consumer is configured
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">consumer</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">getAll</span>(),
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">createConsumer</span>(),
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">updateConsumer</span>(),
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">deleteConsumer</span>(),
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">getSecret</span>(),
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">updateSecret</span>()
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Sequelize Database Models
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">models</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">OauthNonce</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Consumer</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ConsumerKey</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ConsumerLogin</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Provider</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ProviderKey</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Test Utilities
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Returned if test mode is configured
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">test</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Utility function to initialize expiration of logins and nonces
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">initializeExpiration</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Sequelize Database instsance
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">db</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// LTI 1.0 Utilities
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">lti10</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// LTI 1.3 Utilities
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">lti13</span>,
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h2 id="dependencies">Dependencies</h2>
<p>Care has been taken to minimize the amount of dependencies but balanced against simplifying the code and using reasonable libraries where appropriate. The core dependencies are listed below:</p>
<ul>
<li><a href="https://nodejs.org/en/blog/release/v22.11.0" rel="external" target="_blank">Node.js 22 LTS</a> - developed and tested using Node 22 LTS</li>
<li><a href="https://www.npmjs.com/package/express" rel="external" target="_blank">express</a> - core web framework for handling routing and parsing</li>
<li><a href="https://www.npmjs.com/package/express-xml-bodyparser" rel="external" target="_blank">express-xml-bodyparser</a> - parse incoming XML bodies (LTI 1.0 grade passback)</li>
<li><a href="https://www.npmjs.com/package/jsonwebtoken" rel="external" target="_blank">jsonwebtoken</a> - used to decode LTI 1.3 authentication tokens</li>
<li><a href="https://www.npmjs.com/package/jwks-rsa" rel="external" target="_blank">jwks-rsa</a> - used to request and decode JWKS signing keys for LTI 1.3</li>
<li><a href="https://www.npmjs.com/package/ky" rel="external" target="_blank">ky</a> - simple HTTP client for sending requests back to the LTI 1.3 Tool Consumer (LMS)</li>
<li><a href="https://www.npmjs.com/package/nanoid" rel="external" target="_blank">nanoid</a> - library used to generate unique string identifiers</li>
<li><a href="https://www.npmjs.com/package/nunjucks" rel="external" target="_blank">nunjucks</a> - template library used to render forms as part of the LTI 1.3 authentication process</li>
<li><a href="https://www.npmjs.com/package/sequelize" rel="external" target="_blank">sequelize</a> - object-relational mapper (ORM) for interfacing with databases</li>
<li><a href="https://www.npmjs.com/package/sqlite3" rel="external" target="_blank">sqlite3</a> - default file-based database engine</li>
<li><a href="https://www.npmjs.com/package/umzug" rel="external" target="_blank">umzug</a> - database migration and seeding tool</li>
<li><a href="https://www.npmjs.com/package/winston" rel="external" target="_blank">winston</a> - logging library</li>
<li><a href="https://www.npmjs.com/package/xml2js" rel="external" target="_blank">xml2js</a> - XML parser for LTI 1.0 connections</li>
</ul>
<h2 id="documentation">Documentation</h2>
<p>This documentation site provides many useful guides for using this tool!</p>
<ul>
<li><a href="/lti-toolkit/00-general/00-examples/index.html">Examples</a> - detailed example projects</li>
<li><a href="/lti-toolkit/00-general/01-database/index.html">Database</a> - detailed database schema</li>
<li><a href="/lti-toolkit/01-setup/index.html">Dev Setup</a> - setting up a development environment</li>
<li><a href="/lti-toolkit/01-setup/01-canvas/index.html">Installing Canvas</a> - guide for setting up Canvas in Docker with Traefik</li>
<li><a href="/lti-toolkit/02-lti/index.html">LTI Docs</a> - detailed LTI protocol examples and diagrams</li>
</ul>

  <footer class="footline">
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of LTI-Toolkit</h1>
<article class="default">
  <header class="headline">
  </header>

<h1 id="documentation">Documentation</h1>

<p>General Documentation for the LTI Toolkit</p>
<ul class="children children-li children-sort-">
  <li class="children-title"><a href="/lti-toolkit/00-general/00-examples/index.html">Examples</a></li>
  <li class="children-title"><a href="/lti-toolkit/00-general/01-database/index.html">Database Schema</a></li>
</ul>

  <footer class="footline">
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of Documentation</h1>
<article class="default">
  <header class="headline">
  </header>

<h1 id="examples">Examples</h1>

<p>LTI Toolkit Example Project Documentation</p>
<ul class="children children-li children-sort-">
  <li class="children-title"><a href="/lti-toolkit/00-general/00-examples/provider/index.html">LTI Provider</a></li>
</ul>

  <footer class="footline">
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of Examples</h1>
<article class="default">
  <header class="headline">
  </header>

<h1 id="lti-provider">LTI Provider</h1>

<p>A fully-featured LTI Tool Provider example can be found in <code>/examples/provider</code>. This document will walk through the details of how that application works.</p>
<h2 id="environment">Environment</h2>
<p>The application expects the following environment variables (typically loaded from <code>.env</code>):</p>
<div class="tab-panel" data-tab-group="ed43a3f8809523876e5d9c796e8b96cd">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="env"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('ed43a3f8809523876e5d9c796e8b96cd','env')"
    >
      <span class="tab-nav-text">.env</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="env"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-env" data-lang="env"><span style="display:flex;"><span><span style="color:#75715e"># Express Session Secret</span>
</span></span><span style="display:flex;"><span>SESSION_SECRET<span style="color:#f92672">=</span>your_session_secret
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Log Level</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># One of error warn info http verbose lti debug sql silly</span>
</span></span><span style="display:flex;"><span>LOG_LEVEL<span style="color:#f92672">=</span>lti
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Application Domain Name</span>
</span></span><span style="display:flex;"><span>DOMAIN_NAME<span style="color:#f92672">=</span>https://ltidemo.home.russfeld.me
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># LTI Consumer Key and Secret</span>
</span></span><span style="display:flex;"><span>LTI_CONSUMER_KEY<span style="color:#f92672">=</span>your_lti_consumer_key
</span></span><span style="display:flex;"><span>LTI_CONSUMER_SECRET<span style="color:#f92672">=</span>your_lti_consumer_secret
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># LTI 1.3 LMS Domain</span>
</span></span><span style="display:flex;"><span>LTI_13_LMS_DOMAIN<span style="color:#f92672">=</span>https://canvas.instructure.com</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><h2 id="lms-configuration---lti-10">LMS Configuration - LTI 1.0</h2>
<p>The settings above can then be used to configure this application in your learning management system (LMS) using LTI 1.0. Refer to your LMS documentation for specific details. An example using Canvas is given below.</p>
<ul>
<li><strong>Consumer Key</strong> - <code>LTI_CONSUMER_KEY</code> from the app environment</li>
<li><strong>Shared Secret</strong> - <code>LTI_CONSUMER_SECRET</code> from the app environment</li>
<li><strong>Launch URL</strong> - <code>DOMAIN_NAME</code> from the app environment followed by <code>/lti/provider/launch10</code> by default. The URL can be configured in <code>app.js</code> as described below.</li>
<li><strong>Domain</strong> - typically the <code>DOMAIN_NAME</code> from the app environment without the <code>https://</code> at the front</li>
<li><strong>Privacy Level</strong> - must be <strong>Public</strong> (the library does not currently support anonymous students)</li>
</ul>
<p><a href="#R-image-8d9571d23230dd73b289a1b3c5d35745" class="lightbox-link"><img alt="LTI 1.0 Configuration in Canvas" class="border lazy lightbox figure-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti10.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8d9571d23230dd73b289a1b3c5d35745"><img alt="LTI 1.0 Configuration in Canvas" class="border lazy lightbox lightbox-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti10.png"></a></p>
<p>Once the application has been added to the course, an assignment can be created to direct students to the Launch URL used above.</p>
<p><a href="#R-image-8c4c7ebcba7933a0dae76286556c2d3a" class="lightbox-link"><img alt="LTI 1.0 Assignment Configuration in Canvas" class="border lazy lightbox figure-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti10assign.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8c4c7ebcba7933a0dae76286556c2d3a"><img alt="LTI 1.0 Assignment Configuration in Canvas" class="border lazy lightbox lightbox-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti10assign.png"></a></p>
<p>To access the rest of the application, students and teachers should use the assignment configured in the learning management system to perform an LTI Launch as described below.</p>
<h2 id="lti-toolkit-configuration">LTI Toolkit Configuration</h2>
<p>The <code>src/configs/lti.js</code> file contains a minimal configuration for the LTI Toolkit for use as an LTI 1.0 Tool Provider:</p>
<div class="tab-panel" data-tab-group="9eca555456e53b366011256f16decc57">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="srcconfigsltijs"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('9eca555456e53b366011256f16decc57','srcconfigsltijs')"
    >
      <span class="tab-nav-text">src/configs/lti.js</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="srcconfigsltijs"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @file Configuration information for LTI Toolkit
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @exports lti an LTI Toolkit instance configured for this app
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Import LTI Toolkit
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">LTIToolkit</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;lti-toolkit&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// LTI Launch Handler
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">LTILaunch</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;../routes/lti-launch.js&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Initialize LTI Toolkit
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">lti</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">LTIToolkit</span>({
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Domain name for this application
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">domain_name</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">DOMAIN_NAME</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Logging Level
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">log_level</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">LOG_LEVEL</span> <span style="color:#f92672">||</span> <span style="color:#e6db74">&#34;silly&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Use In-memory database for testing
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">db_storage</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;:memory:&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">provider</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Incoming LTI Launch Handler
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">handleLaunch</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">LTILaunch</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// LTI 1.0 Consumer Key and Shared Secret
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// for single LTI consumer setup
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">LTI_CONSUMER_KEY</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">secret</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">LTI_CONSUMER_SECRET</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">lti</span>;</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><p>It configures a default LTI 1.0 Tool Provider using the domain, key and secret provided in the environment. It also configures the log level and tells the system to use an in-memory database instance. Finally, it directs the library ro the <code>LTILaunch</code> function provided by one of the routes as the handler for incoming LTI Launch Requests.</p>
<h2 id="integrating-application-routes">Integrating Application Routes</h2>
<p>The <code>app.js</code> file creates a basic <a href="https://www.npmjs.com/package/express" rel="external" target="_blank">Express</a> application with a minimal set of libraries and configuration.</p>
<div class="tab-panel" data-tab-group="26c6be1b807671c3d8f7ee51acacbf03">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="appjs"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('26c6be1b807671c3d8f7ee51acacbf03','appjs')"
    >
      <span class="tab-nav-text">app.js</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="appjs"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// Import LTI configuration
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">lti</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;./configs/lti.js&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Other imports here
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Create Express application
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">express</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Other configuration here
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Add LTI Toolkit Routes
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>(<span style="color:#e6db74">&#34;/lti/provider&#34;</span>, <span style="color:#a6e22e">lti</span>.<span style="color:#a6e22e">routers</span>.<span style="color:#a6e22e">provider</span>);</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><p>The details of that file are omitted (<em>read the source, you must</em>), but the notable configuration is shown above. The configured LTI Toolkit is imported, and then the LTI Provider Router is connected to the application at the <code>/lti/provider</code> path. So, any incoming requests sent to that URL will be passed to the LTI Toolkit for handling. This matches the route used when configuring the tool in Canvas as shown above.</p>
<h2 id="lti-launch-handler">LTI Launch Handler</h2>
<p>The LTI Launch Handler function will receive three parameters:</p>
<ul>
<li><code>launchData</code> - an instance of the <a href="/lti-toolkit/02-lti/03-launchdata/index.html">LTI Launch Data</a></li>
<li><code>consumer</code> - a Sequelize instance of an <a href="/lti-toolkit/00-general/01-database/index.html#lti-consumers">LTI Consumer</a> from the database</li>
<li><code>req</code> - the incoming Express request object</li>
</ul>
<p>In the example project, we use the following LTI Launch Handler:</p>
<div class="tab-panel" data-tab-group="d529bfab57eaba0b41c77cf955800348">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="srcrouteslti-launchjs"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('d529bfab57eaba0b41c77cf955800348','srcrouteslti-launchjs')"
    >
      <span class="tab-nav-text">src/routes/lti-launch.js</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="srcrouteslti-launchjs"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Handle an incoming LTI Launch Request
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {Object} launchData - an LTI Launch Data object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {Object} consumer - the LTI consumer object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {Object} req - the Express request object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @returns {String} a URL to redirect the user to after launch
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">LTILaunch</span>(<span style="color:#a6e22e">launchData</span>, <span style="color:#a6e22e">consumer</span>, <span style="color:#a6e22e">req</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// We will store the LTI Launch Data and Consumer in the session for later use
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">session</span>.<span style="color:#a6e22e">ltiLaunchData</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">launchData</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">session</span>.<span style="color:#a6e22e">ltiConsumer</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">consumer</span>.<span style="color:#a6e22e">toJSON</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Determine if the user is a teacher or student
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">isStudent</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">parseRoles</span>(<span style="color:#a6e22e">launchData</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Record data in local data store
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">updateDataStore</span>(<span style="color:#a6e22e">launchData</span>, <span style="color:#a6e22e">isStudent</span>, <span style="color:#a6e22e">req</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Redirect user based on role
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isStudent</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;/student&#34;</span>;
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;/instructor&#34;</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><p>Notice that we serialize the <code>consumer</code> parameter to JSON since it is provided as a Sequelize object instance.</p>
<p>This handler users two helper functions. The first will parse the incoming roles in the <code>launchData</code> object:</p>
<div class="tab-panel" data-tab-group="92aa0cda407c6d212d03587141e73ef9">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="srcrouteslti-launchjs"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('92aa0cda407c6d212d03587141e73ef9','srcrouteslti-launchjs')"
    >
      <span class="tab-nav-text">src/routes/lti-launch.js</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="srcrouteslti-launchjs"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Parse LTI roles to determine user type
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {Object} launchData - the LTI Launch Data object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @returns {Boolean} &#39;true&#39; if user is a student, &#39;false&#39; otherwise
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">parseRoles</span>(<span style="color:#a6e22e">launchData</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">launch_type</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;lti1.0&#34;</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// See https://www.imsglobal.org/specs/ltiv1p0/implementation-guide#toc-9
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#75715e">// LTI 1.0 roles are a long string
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">user_roles</span>.<span style="color:#a6e22e">includes</span>(<span style="color:#e6db74">&#34;Learner&#34;</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">launch_type</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;lti1.3&#34;</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// See https://www.imsglobal.org/spec/lti/v1p3#role-vocabularies
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#75715e">// LTI 1.3 roles are an array of strings
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">user_roles</span>.<span style="color:#a6e22e">some</span>((<span style="color:#a6e22e">role</span>) =&gt; <span style="color:#a6e22e">role</span>.<span style="color:#a6e22e">includes</span>(<span style="color:#e6db74">&#34;Learner&#34;</span>))) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Unknown LTI version
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#34;Unknown LTI launch type:&#34;</span>, <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">launch_type</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#34;Error parsing roles:&#34;</span>, <span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#34;Roles data:&#34;</span>, <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">user_roles</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><p>It will simply return <code>true</code> if the role is a student, otherwise it will treat the role as an instructor. This may or may not be desired behavior for a production application.</p>
<p>Finally, it also stores data about the incoming <code>launchData</code> in a shared data structure that is only stored in memory.</p>
<div class="tab-panel" data-tab-group="30fde65ea5bf818a3c2bb77a0e663f5d">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="srcrouteslti-launchjs"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('30fde65ea5bf818a3c2bb77a0e663f5d','srcrouteslti-launchjs')"
    >
      <span class="tab-nav-text">src/routes/lti-launch.js</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="srcrouteslti-launchjs"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Update local data store
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {Object} launchData - the LTI Launch Data object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {Boolean} isStudent - &#39;true&#39; if user is a student, &#39;false&#39; otherwise
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {Object} req - the Express request object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">updateDataStore</span>(<span style="color:#a6e22e">launchData</span>, <span style="color:#a6e22e">isStudent</span>, <span style="color:#a6e22e">req</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// This is a placeholder function for updating a local data store
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// In a real application, you would implement logic to store
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// relevant launch data in your database or other storage system
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">courses</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">locals</span>.<span style="color:#a6e22e">dataStore</span>.<span style="color:#a6e22e">courses</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">courseId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">course_id</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">courses</span>[<span style="color:#a6e22e">courseId</span>]) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">courses</span>[<span style="color:#a6e22e">courseId</span>] <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">course_name</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">label</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">course_label</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">assignments</span><span style="color:#f92672">:</span> {},
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">assignments</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">courses</span>[<span style="color:#a6e22e">courseId</span>].<span style="color:#a6e22e">assignments</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">assignmentId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">assignment_id</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">assignments</span>[<span style="color:#a6e22e">assignmentId</span>]) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">assignments</span>[<span style="color:#a6e22e">assignmentId</span>] <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">assignment_name</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">lti_id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">assignment_lti_id</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">grade_url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">outcome_url</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">grades</span><span style="color:#f92672">:</span> {},
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isStudent</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">userName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">user_name</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">userId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">user_lis_id</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">userId13</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">user_lis13_id</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">outcomeId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">outcome_id</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">assignments</span>[<span style="color:#a6e22e">assignmentId</span>].<span style="color:#a6e22e">grades</span>[<span style="color:#a6e22e">userId</span>] <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">userName</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">lis_id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">userId</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">lis13_id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">userId13</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">outcome_id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">outcomeId</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">score</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><p>In practice, this would be replaced with appropriate code and logic to store this data in a database or other storage mechanism for the application. However, this data structure is instructive as it shows a minimal set of data that could be stored in order to track courses, assignments, students, and grades.</p>
<h2 id="student-grade-passback">Student Grade Passback</h2>
<p>Once a student&rsquo;s grade has been determined, it can be passed back to the learning management system (LMS) using the LTI Controller&rsquo;s <code>postGrade</code> method:</p>
<div class="tab-panel" data-tab-group="b402fb94211c5cccccc075a451a0ceb5">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="srcroutesstudent-gradejs"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('b402fb94211c5cccccc075a451a0ceb5','srcroutesstudent-gradejs')"
    >
      <span class="tab-nav-text">src/routes/student-grade.js</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="srcroutesstudent-gradejs"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Handle LTI Student Grade Postback
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {Object} req - the Express request object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {Object} res - the Express response object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">StudentGradeHandler</span>(<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Get LTI Launch Data and Consumer from session
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">launchData</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">session</span>.<span style="color:#a6e22e">ltiLaunchData</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">consumer</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">session</span>.<span style="color:#a6e22e">ltiConsumer</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">error</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">message</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Get grade from form submission
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">grade</span> <span style="color:#f92672">=</span> parseFloat(<span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">grade</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (isNaN(<span style="color:#a6e22e">grade</span>) <span style="color:#f92672">||</span> <span style="color:#a6e22e">grade</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">grade</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">error</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Invalid grade value. Must be between 0 and 1.&#34;</span>;
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Post grade back to the LTI Provider
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// Build Grade Object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">gradeObject</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// LTI Consumer ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">consumer_id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">consumer</span>.<span style="color:#a6e22e">id</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// LTI 1.0 Outcome Information
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">grade_url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">outcome_url</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">lms_grade_id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">outcome_id</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Grade value between 0.0 and 1.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">score</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">grade</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// LTI 1.3 User ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">user_lis13_id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">user_lis13_id</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Helpful Debugging Information
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">debug</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// User Name
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">user</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">user_name</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// User ID (LTI 1.0 and LTI 1.3)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">user_id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">user_lis_id</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; (&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">user_lis13_id</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;)&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Assignment Name
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">assignment</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">assignment_name</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Assignment ID (LTI 1.0 and LTI 1.3)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">assignment_id</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">assignment_id</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;(&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">launchData</span>.<span style="color:#a6e22e">assignment_lti_id</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;)&#34;</span>,
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">lti</span>.<span style="color:#a6e22e">controllers</span>.<span style="color:#a6e22e">lti</span>.<span style="color:#a6e22e">postGrade</span>(<span style="color:#a6e22e">gradeObject</span>)) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">message</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`Successfully posted grade of </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">grade</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> back to the LMS.`</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Record grade in local data store
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">updateDataStoreWithGrade</span>(<span style="color:#a6e22e">launchData</span>, <span style="color:#a6e22e">grade</span>, <span style="color:#a6e22e">req</span>);
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">error</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Failed to post grade back to the LMS.&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Render student view with LTI Launch Data
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">render</span>(<span style="color:#e6db74">&#34;student.njk&#34;</span>, {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;LTI Tool Provider - Student View&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">message</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">error</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">error</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">launchData</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">launchData</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">consumer</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">consumer</span>,
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><p>This method constructs the grade object required by the <code>postGrade</code> method using data from the LTI Launch Data and the LTI Consumer originally provided to the LTI Launch Handler. In this example, those values are read directly from the user&rsquo;s session.</p>
<h2 id="instructor-grade-passback">Instructor Grade Passback</h2>
<p>A more advanced example of submitting grades could involve the instructor providing grades after a student has completed an assignment:</p>
<div class="tab-panel" data-tab-group="6dab44500ed6f5daae2878c61c66cdb5">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="srcroutesinstructor-gradejs"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('6dab44500ed6f5daae2878c61c66cdb5','srcroutesinstructor-gradejs')"
    >
      <span class="tab-nav-text">src/routes/instructor-grade.js</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="srcroutesinstructor-gradejs"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Handle LTI Instructor Grade Postback
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {Object} req - the Express request object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {Object} res - the Express response object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">InstructorGradeHandler</span>(<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Get LTI Launch Data and Consumer from session
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">launchData</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">session</span>.<span style="color:#a6e22e">ltiLaunchData</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">consumer</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">session</span>.<span style="color:#a6e22e">ltiConsumer</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">error</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">message</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Get form data
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">courseId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">course</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">assignmentId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">assignment</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">userId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">user</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">grade</span> <span style="color:#f92672">=</span> parseFloat(<span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">grade</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Get assignment and user info from local data store
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// This is a placeholder function for updating a local data store
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// In a real application, you would implement logic to store
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// relevant grade data in your database or other storage system
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">courses</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">locals</span>.<span style="color:#a6e22e">dataStore</span>.<span style="color:#a6e22e">courses</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">assignments</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">courses</span>[<span style="color:#a6e22e">courseId</span>].<span style="color:#a6e22e">assignments</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (isNaN(<span style="color:#a6e22e">grade</span>) <span style="color:#f92672">||</span> <span style="color:#a6e22e">grade</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">grade</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">error</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Invalid grade value. Must be between 0 and 1.&#34;</span>;
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Post grade back to the LTI Provider
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// Build Grade Object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">gradeObject</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// LTI Consumer ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">consumer_id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">consumer</span>.<span style="color:#a6e22e">id</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// LTI 1.0 Outcome Information
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">grade_url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">assignments</span>[<span style="color:#a6e22e">assignmentId</span>].<span style="color:#a6e22e">grade_url</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">lms_grade_id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">assignments</span>[<span style="color:#a6e22e">assignmentId</span>].<span style="color:#a6e22e">grades</span>[<span style="color:#a6e22e">userId</span>].<span style="color:#a6e22e">outcome_id</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Grade value between 0.0 and 1.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">score</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">grade</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// LTI 1.3 User ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">user_lis13_id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">assignments</span>[<span style="color:#a6e22e">assignmentId</span>].<span style="color:#a6e22e">grades</span>[<span style="color:#a6e22e">userId</span>].<span style="color:#a6e22e">lis13_id</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Helpful Debugging Information
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">debug</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// User Name
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">user</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">assignments</span>[<span style="color:#a6e22e">assignmentId</span>].<span style="color:#a6e22e">grades</span>[<span style="color:#a6e22e">userId</span>].<span style="color:#a6e22e">name</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// User ID (LTI 1.0 and LTI 1.3)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">user_id</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">assignments</span>[<span style="color:#a6e22e">assignmentId</span>].<span style="color:#a6e22e">grades</span>[<span style="color:#a6e22e">userId</span>].<span style="color:#a6e22e">lis_id</span> <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34; (&#34;</span> <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">assignments</span>[<span style="color:#a6e22e">assignmentId</span>].<span style="color:#a6e22e">grades</span>[<span style="color:#a6e22e">userId</span>].<span style="color:#a6e22e">lis13_id</span> <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;)&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Assignment Name
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">assignment</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">assignments</span>[<span style="color:#a6e22e">assignmentId</span>].<span style="color:#a6e22e">name</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Assignment ID (LTI 1.0 and LTI 1.3)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">assignment_id</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">assignmentId</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;(&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">assignments</span>[<span style="color:#a6e22e">assignmentId</span>].<span style="color:#a6e22e">lti_id</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;)&#34;</span>,
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">lti</span>.<span style="color:#a6e22e">controllers</span>.<span style="color:#a6e22e">lti</span>.<span style="color:#a6e22e">postGrade</span>(<span style="color:#a6e22e">gradeObject</span>)) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">message</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`Successfully posted grade of </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">grade</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> back to the LMS.`</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Record grade in local data store
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">assignments</span>[<span style="color:#a6e22e">assignmentId</span>].<span style="color:#a6e22e">grades</span>[<span style="color:#a6e22e">userId</span>].<span style="color:#a6e22e">score</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">grade</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">error</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Failed to post grade back to the LMS.&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Render instructor view with LTI Launch Data
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">render</span>(<span style="color:#e6db74">&#34;instructor.njk&#34;</span>, {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;LTI Tool Provider - Instructor View&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">message</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">error</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">error</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">courses</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">locals</span>.<span style="color:#a6e22e">dataStore</span>.<span style="color:#a6e22e">courses</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">launchData</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">launchData</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">consumer</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">consumer</span>,
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><p>In this example, the same data required to build a grade object is read from the shared data structure stored in memory. Again, in practice, this data would be read from a database or another storage mechanism, but this code should be instructive.</p>
<h2 id="lti-13-configuration">LTI 1.3 Configuration</h2>
<p>Configuring an application to use the LTI 1.3 protocol is a bit more complex, and requires several steps in both the learning management system (LMS) as well as this tool. Detailed instructions and configuration information can be found at the <code>/admin</code> route in the example application, and also are discussed below.</p>
<h3 id="step-1---add-an-lti-13-application-in-the-lms">Step 1 - Add an LTI 1.3 Application in the LMS</h3>
<p>The first step is to add an LTI 1.3 application to the learning management system. In Canvas, this requires administrator access, so you may have to work with your Canvas administrator to accomplish this step. In Canvas, go to the Admin panel for the account used and find the Developer Keys page, then add a new LTI Key.</p>
<ul>
<li><strong>Redirect URIs</strong>: <code>DOMAIN_NAME</code> from the app environment followed by <code>/lti/provider/redirect13</code> by default.</li>
<li><strong>Target Link URIs</strong>: <code>DOMAIN_NAME</code> from the app environment followed by <code>/lti/provider/launch13</code> by default.</li>
<li><strong>OpenID Connect Initiation Url</strong>: <code>DOMAIN_NAME</code> from the app environment followed by <code>/lti/provider/login13/</code> and then the <code>LTI_CONSUMER_KEY</code> from the app environment by default.</li>
<li><strong>JWK Method</strong>: Public JWK URL (this library only supports JWKS via URL)</li>
<li><strong>Public JWK URL</strong>: <code>DOMAIN_NAME</code> from the app environment followed by <code>/lti/provider/key13</code> by default.</li>
</ul>
<p>The base of these URLs can be configured in <code>app.js</code> as discussed above.</p>
<p><a href="#R-image-a1e0eef68480342a28fa5e0b89863cd2" class="lightbox-link"><img alt="LTI 1.3 Key Configuration in Canvas" class="border lazy lightbox figure-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti13admin1.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a1e0eef68480342a28fa5e0b89863cd2"><img alt="LTI 1.3 Key Configuration in Canvas" class="border lazy lightbox lightbox-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti13admin1.png"></a></p>
<p>In the LTI Advantage Services configuration, at a minimum the &ldquo;Can create and update submission results for assignments associated with the tool&rdquo; must be selected, which will allow this application to send grades back to the learning management system.</p>
<p><a href="#R-image-87958a6d98c6286c32e0793a252ab9a0" class="lightbox-link"><img alt="LTI 1.3 Advantage Services in Canvas" class="border lazy lightbox figure-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti13admin2.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-87958a6d98c6286c32e0793a252ab9a0"><img alt="LTI 1.3 Advantage Services in Canvas" class="border lazy lightbox lightbox-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti13admin2.png"></a></p>
<p>At the bottom, the privacy level must be set to <strong>PUBLIC</strong> to get student information (this library does not support anonymous students).</p>
<p><a href="#R-image-b223737c695cc8aeea4d4ebae2126e6a" class="lightbox-link"><img alt="LTI 1.3 Privacy Configuration in Canvas" class="border lazy lightbox figure-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti13admin3.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b223737c695cc8aeea4d4ebae2126e6a"><img alt="LTI 1.3 Privacy Configuration in Canvas" class="border lazy lightbox lightbox-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti13admin3.png"></a></p>
<p>Once the LTI Key is created, a Client ID is provided by Canvas. Make a note of this value for later. Also, make sure the LTI Key is enabled here.</p>
<p><a href="#R-image-883f6ef3d127ff12ed8bc427a8108039" class="lightbox-link"><img alt="LTI 1.3 Client ID in Canvas" class="border lazy lightbox figure-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti13admin4.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-883f6ef3d127ff12ed8bc427a8108039"><img alt="LTI 1.3 Client ID in Canvas" class="border lazy lightbox lightbox-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti13admin4.png"></a></p>
<h3 id="step-2---add-lti-13-application-to-a-course">Step 2 - Add LTI 1.3 Application to a Course</h3>
<p>Once the LTI 1.3 Key is created, the application can be added to a course within the learning management system. In Canvas, this can be found on the Settings of a course on the Apps tab. Click the button to add a new application, and enter the Client ID from Step 1 above.</p>
<p><a href="#R-image-69f906626bbb19067996ee0dc6c4f9ae" class="lightbox-link"><img alt="LTI 1.3 Add App to Course in Canvas" class="border lazy lightbox figure-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti13course1.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-69f906626bbb19067996ee0dc6c4f9ae"><img alt="LTI 1.3 Add App to Course in Canvas" class="border lazy lightbox lightbox-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti13course1.png"></a></p>
<p>Once the application has been added to the course, click the menu next to the application and display the Deployment ID for the application. Save this value for later.</p>
<p><a href="#R-image-422c0f4803d981e369a1a0f9c5552f23" class="lightbox-link"><img alt="LTI 1.3 Deployment ID in Canvas" class="border lazy lightbox figure-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti13course2.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-422c0f4803d981e369a1a0f9c5552f23"><img alt="LTI 1.3 Deployment ID in Canvas" class="border lazy lightbox lightbox-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti13course2.png"></a></p>
<h3 id="step-3---configure-lti-13-settings">Step 3 - Configure LTI 1.3 Settings</h3>
<p>Back in the LTI Provider Demo application, click the link on the homepage or navigate to the <code>/admin</code> page to access the LTI 1.3 configuration. On this page, enter the LTI 1.3 configuration information for your learning management system. Examples below are shown for Canvas using the configuration provided in the steps above.</p>
<ul>
<li><strong>LTI 1.3 Client ID:</strong> From Step 1 Above</li>
<li><strong>LTI 1.3 Platform ID:</strong> This is usually just the URL of the LMS</li>
<li><strong>LTI 1.3 Deployment ID:</strong> From Step 2 Above</li>
<li><strong>LTI 1.3 JWKS Keyset URL:</strong> For Canvas, <code>/api/lti/security/jwks</code></li>
<li><strong>LTI 1.3 Token URL:</strong> For Canvas, <code>/login/oauth2/token</code></li>
<li><strong>LTI 1.3 Auth URL:</strong> For Canvas, <code>/api/lti/authorize_redirect</code></li>
</ul>
<p><a href="#R-image-13ecce8216d21fe483373b30f8b3bdc9" class="lightbox-link"><img alt="LTI 1.3 Consumer Configuration" class="border lazy lightbox figure-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti13app1.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-13ecce8216d21fe483373b30f8b3bdc9"><img alt="LTI 1.3 Consumer Configuration" class="border lazy lightbox lightbox-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti13app1.png"></a></p>
<h3 id="step-4---configure-lms-assignment">Step 4 - Configure LMS Assignment</h3>
<p>In Canvas, configure an assignment that uses an external URL (similar to working with LTI 1.0 Applications as shown below). This time, it will use the Target Link URI configured in Step 1 - typically the <code>DOMAIN_NAME</code> from the environment followed by <code>/lti/provider/launch13</code>.</p>
<p><a href="#R-image-ffd346f51c14285a490c98fb37a7ef2d" class="lightbox-link"><img alt="LTI 1.3 Assignment Configuration" class="border lazy lightbox figure-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti13assign1.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ffd346f51c14285a490c98fb37a7ef2d"><img alt="LTI 1.3 Assignment Configuration" class="border lazy lightbox lightbox-image" loading="lazy" src="/lti-toolkit/00-general/00-examples/provider/images/lti13assign1.png"></a></p>
<p>From this point onward, students and teachers can access the LTI Demo Application through this Canvas assignment to perform an LTI 1.3 Launch.</p>
<h2 id="managing-lti-consumers">Managing LTI Consumers</h2>
<p>Within the sample application, the Admin Configuration handler gives a demonstration for using this library&rsquo;s controllers to manage the LTI Consumers available within the application.</p>
<div class="tab-panel" data-tab-group="dc564a072979f3a9653dd871c10791e2">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="srcroutesadmin-configjs"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('dc564a072979f3a9653dd871c10791e2','srcroutesadmin-configjs')"
    >
      <span class="tab-nav-text">src/routes/admin-config.js</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="srcroutesadmin-configjs"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Handle LTI Admin Launch
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {Object} req - the Express request object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {Object} res - the Express response object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">AdminConfigHandler</span>(<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">error</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">message</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Get Form Data
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">lti13</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">client_id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">client_id</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">platform_id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">platform_id</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">deployment_id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">deployment_id</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">keyset_url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">keyset_url</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">token_url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">token_url</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">auth_url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">auth_url</span>,
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Check if any required fields are missing
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">requiredFields</span> <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;client_id&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;platform_id&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;deployment_id&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;keyset_url&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;token_url&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;auth_url&#34;</span>,
</span></span><span style="display:flex;"><span>  ];
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">missingFields</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">requiredFields</span>.<span style="color:#a6e22e">filter</span>(
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">field</span>) =&gt; <span style="color:#f92672">!</span><span style="color:#a6e22e">data</span>[<span style="color:#a6e22e">field</span>] <span style="color:#f92672">||</span> <span style="color:#a6e22e">data</span>[<span style="color:#a6e22e">field</span>].<span style="color:#a6e22e">trim</span>() <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">missingFields</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">error</span> <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;Missing required fields: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">missingFields</span>.<span style="color:#a6e22e">join</span>(<span style="color:#e6db74">&#34;, &#34;</span>);
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Update Consumer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">returnValue</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">lti</span>.<span style="color:#a6e22e">controllers</span>.<span style="color:#a6e22e">consumer</span>.<span style="color:#a6e22e">updateConsumer</span>(<span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">data</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">returnValue</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#34;Consumer not found&#34;</span>);
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">err</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">error</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Failed to update consumer: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">message</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">message</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Successfully updated consumer.&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Get Updated LTI Consumer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">consumers</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">lti</span>.<span style="color:#a6e22e">controllers</span>.<span style="color:#a6e22e">consumer</span>.<span style="color:#a6e22e">getAll</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">consumer</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">consumers</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">toJSON</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Get LMS Domain
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">lmsDomain</span> <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">LTI_13_LMS_DOMAIN</span> <span style="color:#f92672">||</span> <span style="color:#e6db74">&#34;https://canvas.instructure.com&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">render</span>(<span style="color:#e6db74">&#34;admin.njk&#34;</span>, {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;LTI Tool Provider - Admin Configuration View&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">consumer</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">consumer</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">lmsDomain</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">lmsDomain</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">domain</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">DOMAIN_NAME</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">LTI_CONSUMER_KEY</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">error</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">error</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">message</span>,
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><p>This handler receives data provided in the LTI 1.3 configuration form, validates that all items are present (more validation could be performed as desired), and then it uses the Consumer controller provided through the library to update the default LTI Consumer (with ID <code>1</code>) to include the LTI 1.3 configuration options. The Consumer controller provides additional methods to add and delete additional consumers as desired.</p>

<details open class=" box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Warning
  </summary>
  <div class="box-content">
<p>Be aware that, by providing both a <code>key</code> and <code>secret</code> as part of the <code>provider</code> configuration in the LTI Toolkit configuration (see <code>src/configs/lti.js</code>), all existing LTI consumers will be removed from the database each time the application is launched. So, those options must be removed and LTI Consumers must be configured directly through the controller if multiple consumers are desired.</p>
  </div>
</details>

  <footer class="footline">
  </footer>
</article>
          </section>
<article class="default">
  <header class="headline">
  </header>

<h1 id="database-schema">Database Schema</h1>

<p><a href="#R-image-5fb3d2e71040f6333f1529fb0e4a17a5" class="lightbox-link"><img alt="Database Diagram" class="border lazy lightbox figure-image" loading="lazy" src="/lti-toolkit/00-general/01-database/images/database.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5fb3d2e71040f6333f1529fb0e4a17a5"><img alt="Database Diagram" class="border lazy lightbox lightbox-image" loading="lazy" src="/lti-toolkit/00-general/01-database/images/database.png"></a></p>
<h2 id="system-managed-tables">System Managed Tables</h2>
<h3 id="lti_migrations">lti_migrations</h3>
<p>This is the migrations table managed by <a href="https://github.com/sequelize/umzug" rel="external" target="_blank">Umzug</a>. It tracks any changes that must be made to the database schema as future versions are released.</p>
<h2 id="lti-consumers">LTI Consumers</h2>
<h3 id="lti_consumers">lti_consumers</h3>
<p>This table stores data about LTI Consumers connected to this system.</p>
<ul>
<li><code>id</code> - autogenerated database ID field</li>
<li><code>name</code> - user-friendly name of the LTI Consumer</li>
<li><code>lti13</code> - boolean value representing if the LTI Consumer supports LTI 1.3 connections</li>
<li><code>key</code> - <span class="badge cstyle default"><span class="badge-content">Both</span></span> autogenerated internal key used to identify the LTI Consumer
<ul>
<li>This key is used in lieu of the database ID to prevent guessing attacks against sequential values. The key is generated using <a href="https://www.npmjs.com/package/nanoid" rel="external" target="_blank">nanoid</a></li>
</ul>
</li>
<li><code>client_id</code> - <span class="badge cstyle default"><span class="badge-content">LTI 1.3</span></span> client ID provided by the LTI Consumer</li>
<li><code>platform_id</code> - <span class="badge cstyle default"><span class="badge-content">LTI 1.3</span></span> platform ID of the LTI Consumer</li>
<li><code>deployment_id</code> - <span class="badge cstyle default"><span class="badge-content">LTI 1.3</span></span> deployment ID from the LTI Consumer</li>
<li><code>keyset_url</code> - <span class="badge cstyle default"><span class="badge-content">LTI 1.3</span></span> JWKS keyset URL for the LTI Consumer</li>
<li><code>token_url</code> - <span class="badge cstyle default"><span class="badge-content">LTI 1.3</span></span> Token URL for the LTI Consumer</li>
<li><code>auth_url</code> - <span class="badge cstyle default"><span class="badge-content">LTI 1.3</span></span> Authentication URL for the LTI Consumer</li>
<li><code>tc_product</code> - <span class="badge cstyle default"><span class="badge-content">Both</span></span> <span class="badge cstyle default"><span class="badge-content">Auto</span></span> Product Information for the LTI Consumer</li>
<li><code>tc_version</code> - <span class="badge cstyle default"><span class="badge-content">Both</span></span> <span class="badge cstyle default"><span class="badge-content">Auto</span></span> Version of the LTI Consumer</li>
<li><code>tc_guid</code> - <span class="badge cstyle default"><span class="badge-content">Both</span></span> <span class="badge cstyle default"><span class="badge-content">Auto</span></span> GUID of the LTI Consumer</li>
<li><code>tc_name</code> - <span class="badge cstyle default"><span class="badge-content">Both</span></span> <span class="badge cstyle default"><span class="badge-content">Auto</span></span> Name of the LTI Consumer</li>
<li><code>createdAt</code> - <span class="badge cstyle default"><span class="badge-content">Auto</span></span> creation timestamp</li>
<li><code>updatedAt</code> - <span class="badge cstyle default"><span class="badge-content">Auto</span></span> last updated timestamp</li>
</ul>
<h3 id="lti_consumer_keys">lti_consumer_keys</h3>
<p>This table stores the secrets associated with an LTI Consumer. It is stored in a separate table to prevent accidental modification through the <code>Consumer</code> model directly.</p>
<ul>
<li><code>key</code> - <span class="badge cstyle default"><span class="badge-content">Auto</span></span> autogenerated internal key used to identify the LTI Consumer</li>
<li><code>secret</code> - <span class="badge cstyle default"><span class="badge-content">LTI 1.0</span></span> shared secret with the LTI Consumer</li>
<li><code>public</code> - <span class="badge cstyle default"><span class="badge-content">LTI 1.3</span></span> public key used in connections with the LTI Consumer</li>
<li><code>private</code> - <span class="badge cstyle default"><span class="badge-content">LTI 1.3</span></span> paired private key used in connections with the LTI Consumer</li>
</ul>
<h3 id="lti_consumer_logins">lti_consumer_logins</h3>
<p>This table stores login requests from LTI Consumers via the LTI 1.3 protocol. Entries in this table are automatically expired after 15-20 minutes (check every 5 minutes, entries older than 15 minutes are removed)</p>
<ul>
<li><code>key</code> - <span class="badge cstyle default"><span class="badge-content">Auto</span></span> autogenerated internal key used to identify the LTI Consumer</li>
<li><code>state</code> - <span class="badge cstyle default"><span class="badge-content">Auto</span></span> autogenerated internal state shared with the LTI Consumer. Generated using <a href="https://www.npmjs.com/package/nanoid" rel="external" target="_blank">nanoid</a></li>
<li><code>nonce</code> - <span class="badge cstyle default"><span class="badge-content">Auto</span></span> autogenerated internal nonce shared with the LTI Consumer. Generated using <a href="https://www.npmjs.com/package/nanoid" rel="external" target="_blank">nanoid</a></li>
<li><code>iss</code> - Issuer of the login request from the LTI Consumer</li>
<li><code>client_id</code> - client ID provided by the LTI Consumer</li>
<li><code>keyset_url</code> - JWKS keyset URL for the LTI Consumer</li>
<li><code>createdAt</code> - <span class="badge cstyle default"><span class="badge-content">Auto</span></span> creation timestamp</li>
<li><code>updatedAt</code> - <span class="badge cstyle default"><span class="badge-content">Auto</span></span> last updated timestamp</li>
</ul>
<h3 id="lti_oauth_nonces">lti_oauth_nonces</h3>
<p>This table stores nonces provided by the LTI Consumer via the LTI 1.0 protocol. Entries in this table are automatically expired after 15-20 minutes (check every 5 minutes, entries older than 15 minutes are removed)</p>
<ul>
<li><code>key</code> - <span class="badge cstyle default"><span class="badge-content">Auto</span></span> autogenerated internal key used to identify the LTI Consumer</li>
<li><code>nonce</code> - nonce value provided by the LTI Consumer in the connection.</li>
<li><code>createdAt</code> - <span class="badge cstyle default"><span class="badge-content">Auto</span></span> creation timestamp</li>
<li><code>updatedAt</code> - <span class="badge cstyle default"><span class="badge-content">Auto</span></span> last updated timestamp</li>
</ul>
<h2 id="lti-providers">LTI Providers</h2>
<h3 id="lti_providers">lti_providers</h3>
<p>This table stores information about LTI Tool Providers connected to this system.</p>
<ul>
<li><code>id</code> - autogenerated database ID field</li>
<li><code>name</code> - user-friendly name of the LTI Tool Provider</li>
<li><code>lti13</code> - boolean value representing if the LTI Tool Provider supports LTI 1.3 connections.
<ul>
<li><strong>LTI 1.3 is currently not implemented for LTI Tool Providers</strong></li>
</ul>
</li>
<li><code>key</code> - <span class="badge cstyle default"><span class="badge-content">Both</span></span> autogenerated internal key used to identify the LTI Tool Provider
<ul>
<li>This key is used in lieu of the database ID to prevent guessing attacks against sequential values. The key is generated using <a href="https://www.npmjs.com/package/nanoid" rel="external" target="_blank">nanoid</a></li>
</ul>
</li>
<li><code>launch_url</code> - <span class="badge cstyle default"><span class="badge-content">LTI 1.0</span></span> the launch URL for LTI 1.0 connections to the LTI Tool Provider</li>
<li><code>domain</code> - <span class="badge cstyle default"><span class="badge-content">LTI 1.0</span></span> the base domain name of the LTI Tool Provider</li>
<li><code>custom</code> - <span class="badge cstyle default"><span class="badge-content">LTI 1.0</span></span> custom launch variables provided as part of the LTI 1.0 connection to the LTI Tool Provider
<ul>
<li><strong>Custom Variables are not currently implemented</strong></li>
</ul>
</li>
<li><code>createdAt</code> - <span class="badge cstyle default"><span class="badge-content">Auto</span></span> creation timestamp</li>
<li><code>updatedAt</code> - <span class="badge cstyle default"><span class="badge-content">Auto</span></span> last updated timestamp</li>
</ul>
<h3 id="lti_provider_keys">lti_provider_keys</h3>
<p>This table stores the secrets associated with an LTI Tool Provider. It is stored in a separate table to prevent accidental modification through the <code>Provider</code> model directly.</p>
<ul>
<li><code>key</code> - <span class="badge cstyle default"><span class="badge-content">Auto</span></span> autogenerated internal key used to identify the LTI Tool Provider</li>
<li><code>secret</code> - <span class="badge cstyle default"><span class="badge-content">LTI 1.0</span></span> shared secret with the LTI Tool Provider</li>
</ul>

  <footer class="footline">
  </footer>
</article>
          </section>
<article class="default">
  <header class="headline">
  </header>

<h1 id="dev-setup">Dev Setup</h1>

<p>Development Environment Setup</p>

  <footer class="footline">
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of Dev Setup</h1>
<article class="default">
  <header class="headline">
  </header>

<h1 id="developing">Developing</h1>

<p>Development guide coming soon!</p>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
  </header>

<h1 id="installing-canvas">Installing Canvas</h1>

<h2 id="references">References</h2>
<ul>
<li><a href="https://github.com/instructure/canvas-lms/wiki/Quick-Start" rel="external" target="_blank">https://github.com/instructure/canvas-lms/wiki/Quick-Start</a></li>
<li><a href="https://github.com/instructure/canvas-lms/blob/master/doc/docker/developing_with_docker.md" rel="external" target="_blank">https://github.com/instructure/canvas-lms/blob/master/doc/docker/developing_with_docker.md</a></li>
</ul>
<h2 id="requirements">Requirements</h2>
<p>This was configured for my local development machine. It has the following already installed/configured:</p>
<ul>
<li>Ubuntu 24.04 LTS</li>
<li>Docker: <a href="https://docs.docker.com/engine/install/ubuntu/" rel="external" target="_blank">https://docs.docker.com/engine/install/ubuntu/</a>
<ul>
<li>The local user account was already added to the <code>docker</code> group</li>
</ul>
</li>
<li>A working Traefik proxy configured for <code>home.russfeld.me</code> with Let&rsquo;s Encrypt SSL certificates enabled: <a href="https://traefik.io/traefik/" rel="external" target="_blank">https://traefik.io/traefik/</a></li>
<li>A world-routable DNS name <code>home.russfeld.me</code> directed to the IP address of the system
<ul>
<li>Since this is running at home, it is port-forwarded through my local router and I use a Dynamic DNS system to keep this up to date</li>
<li>A world-routable DNS name is required when testing some external LTI tools - <code>localhost</code> <strong>will not</strong> work</li>
<li>Other options might be <a href="https://ngrok.com/" rel="external" target="_blank">ngrok</a> or another VPN</li>
</ul>
</li>
</ul>
<p>There may have been other tools installed earlier that I did not account for here.</p>
<h2 id="steps">Steps</h2>
<ol>
<li>Clone Repository</li>
</ol>
<div class="tab-panel" data-tab-group="85c841f0ac1cccf1305c01707e4b3757">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="terminal"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('85c841f0ac1cccf1305c01707e4b3757','terminal')"
    >
      <span class="tab-nav-text">terminal</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="terminal"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ git clone git@github.com:instructure/canvas-lms.git</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><ol start="2">
<li>Modify Setup Script</li>
</ol>
<p>The setup script insists that Docker Compose be installed separately; it is now part of the default Docker installation on Ubuntu and does not appear as a separate item on my system. So, it can be removed from the setup script.</p>
<div class="tab-panel" data-tab-group="995a7c405cae325111255985041435b2">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="scriptcommonoslinuxdev_setupsh"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('995a7c405cae325111255985041435b2','scriptcommonoslinuxdev_setupsh')"
    >
      <span class="tab-nav-text">script/common/os/linux/dev_setup.sh</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="scriptcommonoslinuxdev_setupsh"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-diff" data-lang="diff"><span style="display:flex;"><span>#!/bin/bash
</span></span><span style="display:flex;"><span>source script/common/utils/common.sh
</span></span><span style="display:flex;"><span>source script/common/os/linux/impl.sh
</span></span><span style="display:flex;"><span>source script/common/utils/dory_setup.sh
</span></span><span style="display:flex;"><span><span style="color:#f92672">- dependencies=&#39;docker,docker-compose 1.20.0&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#f92672"></span><span style="color:#a6e22e">+ dependencies=&#39;docker&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e"></span>DOCKER_COMMAND=&#34;docker compose&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>message &#34;It looks like you&#39;re using Linux. Let&#39;s set that up.&#34;
</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><ol start="3">
<li>Export Environment Settings</li>
</ol>
<p>My development environment seems to require these settings:</p>
<div class="tab-panel" data-tab-group="797dbdede3ff91410c40d0f379a60cd5">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="terminal"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('797dbdede3ff91410c40d0f379a60cd5','terminal')"
    >
      <span class="tab-nav-text">terminal</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="terminal"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ export DOCKER_BUILDKIT<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>$ export COMPOSE_DOCKER_CLI_BUILD<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span></span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><ol start="4">
<li>Set Gemfile Permissions</li>
</ol>
<p>There are several file permission errors that will crop up during the build. The best fix is to give Canvas user permission to all files in the build folder via <code>setfacl</code>:</p>
<div class="tab-panel" data-tab-group="a96717af9ba78901cb0e02099ae1340b">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="terminal"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('a96717af9ba78901cb0e02099ae1340b','terminal')"
    >
      <span class="tab-nav-text">terminal</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="terminal"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ setfacl -Rm u:9999:rwX,g:9999:rwX .
</span></span><span style="display:flex;"><span>$ setfacl -dRm u:9999:rwX,g:9999:rwX .</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><p><strong>Discussion:</strong></p>
<ul>
<li><a href="https://github.com/instructure/canvas-lms/issues/1221" rel="external" target="_blank">https://github.com/instructure/canvas-lms/issues/1221</a></li>
<li><a href="https://github.com/instructure/canvas-lms/issues/1649" rel="external" target="_blank">https://github.com/instructure/canvas-lms/issues/1649</a> <em>(I used this solution)</em></li>
<li><a href="https://github.com/instructure/canvas-lms/issues/2199" rel="external" target="_blank">https://github.com/instructure/canvas-lms/issues/2199</a></li>
</ul>
<ol start="5">
<li>Run Setup Script</li>
</ol>
<div class="tab-panel" data-tab-group="45122b160073d8915eea0a8f94037cb1">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="terminal"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('45122b160073d8915eea0a8f94037cb1','terminal')"
    >
      <span class="tab-nav-text">terminal</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="terminal"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ./script/docker_dev_setup.sh</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><p>Setup options:</p>
<ul>
<li>Would you like to skip dory? <strong>yes</strong> <em>(we will use Traefik)</em></li>
<li>OK to run &lsquo;cp docker-compose/config/*.yml config/&rsquo;? <strong>yes</strong> <em>(you may not want to do this a second time if you&rsquo;ve made edits)</em></li>
<li>Do you want to drop and create new or migrate existing? <strong>drop</strong> <em>(you may want to use <strong>migrate</strong> on future runs)</em></li>
<li>What email address will the site administrator account use? <strong><a href="mailto:canvasadmin@russfeld.me" rel="external" target="_blank">canvasadmin@russfeld.me</a></strong></li>
<li>What password will the site administrator use? <strong>[random password here]</strong></li>
<li>What do you want users to see as the account name? This should probably be the name of your organization. <strong>ALT+CS Lab</strong></li>
<li>To help our developers better serve you, Instructure would like to collect some usage data about your Canvas installation. You can change this setting at any time. <strong>3. Opt out completely</strong></li>
</ul>
<ol start="6">
<li>Notes from the end of the installation process:</li>
</ol>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>  Running Canvas:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    docker compose up -d
</span></span><span style="display:flex;"><span>    open http://canvas.docker
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Running the tests:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    docker compose run --rm web bundle exec rspec
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   Running Selenium tests:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    add docker-compose/selenium.override.yml in the .env file
</span></span><span style="display:flex;"><span>      echo &#39;:docker-compose/selenium.override.yml&#39; &gt;&gt; .env
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    build the selenium container
</span></span><span style="display:flex;"><span>      docker compose up -d selenium-hub
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    run selenium
</span></span><span style="display:flex;"><span>      docker compose run --rm web bundle exec rspec spec/selenium
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Virtual network remote desktop sharing to selenium container
</span></span><span style="display:flex;"><span>      for Firefox:
</span></span><span style="display:flex;"><span>        $ open vnc://secret:secret@seleniumff.docker
</span></span><span style="display:flex;"><span>      for chrome:
</span></span><span style="display:flex;"><span>        $ open vnc://secret:secret@seleniumch.docker:5901
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  I&#39;m stuck. Where can I go for help?
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    FAQ:           https://github.com/instructure/canvas-lms/wiki/FAQ
</span></span><span style="display:flex;"><span>    Dev &amp; Friends: http://instructure.github.io/
</span></span><span style="display:flex;"><span>    Canvas Guides: https://guides.instructure.com/
</span></span><span style="display:flex;"><span>    Vimeo channel: https://vimeo.com/canvaslms
</span></span><span style="display:flex;"><span>    API docs:      https://canvas.instructure.com/doc/api/index.html
</span></span><span style="display:flex;"><span>    Mailing list:  http://groups.google.com/group/canvas-lms-users
</span></span><span style="display:flex;"><span>    IRC:           https://web.libera.chat/#canvas-lms
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Please do not open a GitHub issue until you have tried asking for help on
</span></span><span style="display:flex;"><span>    the mailing list or IRC - GitHub issues are for verified bugs only.
</span></span><span style="display:flex;"><span>    Thanks and good luck!
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  \o/ Success!</span></span></code></pre></div>
<ol start="7">
<li>Edit Configuration Files</li>
</ol>
<p><strong>Domain Configuration</strong></p>
<div class="tab-panel" data-tab-group="e7dbc658565bdd3bdccd7e48fc87c4c8">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="configdomainyml"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('e7dbc658565bdd3bdccd7e48fc87c4c8','configdomainyml')"
    >
      <span class="tab-nav-text">config/domain.yml</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="configdomainyml"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#f92672">production</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">domain</span>: <span style="color:#e6db74">&#34;canvas.home.russfeld.me&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">test</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">domain</span>: <span style="color:#ae81ff">localhost</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">development</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">domain</span>: <span style="color:#e6db74">&#34;canvas.home.russfeld.me&#34;</span></span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><p><strong>Email Configuration</strong></p>
<div class="tab-panel" data-tab-group="f3718d4b1e01eefdd3965b148526393b">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="configoutgoing_mailyml"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('f3718d4b1e01eefdd3965b148526393b','configoutgoing_mailyml')"
    >
      <span class="tab-nav-text">config/outgoing_mail.yml</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="configoutgoing_mailyml"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#f92672">production</span>: <span style="color:#75715e">&amp;production</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">address</span>: <span style="color:#ae81ff">mailcatcher</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">port</span>: <span style="color:#ae81ff">1025</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">domain</span>: <span style="color:#ae81ff">canvas.home.russfeld.me</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">outgoing_address</span>: <span style="color:#ae81ff">canvas@russfeld.me</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">default_name</span>: <span style="color:#ae81ff">ALT+CS Lab Canvas</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">development</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;&lt;</span>: <span style="color:#75715e">*production</span></span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><p><strong>Security Configuration</strong></p>
<div class="tab-panel" data-tab-group="2a095ce05c7b701a6d9c8255809a7c49">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="configsecurityyml"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('2a095ce05c7b701a6d9c8255809a7c49','configsecurityyml')"
    >
      <span class="tab-nav-text">config/security.yml</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="configsecurityyml"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#f92672">production</span>: <span style="color:#75715e">&amp;default</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">encryption_key</span>: <span style="color:#ae81ff">&lt;%= ENV[&#34;ENCRYPTION_KEY&#34;] %&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">lti_iss</span>: <span style="color:#e6db74">&#39;https://canvas.home.russfeld.me&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">development</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;&lt;</span>: <span style="color:#75715e">*default</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">test</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;&lt;</span>: <span style="color:#75715e">*default</span></span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><ol start="8">
<li>Enable Mailcatcher</li>
</ol>
<p>Enable the Mailcatcher service by adding it to the .env file:</p>
<div class="tab-panel" data-tab-group="187b24c24702d231c447a2682629c12f">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="env"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('187b24c24702d231c447a2682629c12f','env')"
    >
      <span class="tab-nav-text">.env</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="env"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-env" data-lang="env"><span style="display:flex;"><span>COMPOSE_FILE<span style="color:#f92672">=</span>docker-compose.yml:docker-compose.override.yml:docker-compose/mailcatcher.override.yml</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><p><strong>Discussion</strong></p>
<ul>
<li><a href="https://github.com/instructure/canvas-lms/blob/master/doc/docker/developing_with_docker.md#mail-catcher" rel="external" target="_blank">https://github.com/instructure/canvas-lms/blob/master/doc/docker/developing_with_docker.md#mail-catcher</a></li>
</ul>
<ol start="9">
<li>Update Docker Compose Files</li>
</ol>
<p>This will set the Traefik tags for each container and other options.</p>
<p><strong>Main Docker Compose</strong></p>
<div class="tab-panel" data-tab-group="5d6d46accdc6dc53ca517bcd23302c24">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="docker-composeoverrideyml"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('5d6d46accdc6dc53ca517bcd23302c24','docker-composeoverrideyml')"
    >
      <span class="tab-nav-text">docker-compose.override.yml</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="docker-composeoverrideyml"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-diff" data-lang="diff"><span style="display:flex;"><span>web:
</span></span><span style="display:flex;"><span>    &lt;&lt;: *BASE
</span></span><span style="display:flex;"><span>    environment:
</span></span><span style="display:flex;"><span>      &lt;&lt;: *BASE-ENV
</span></span><span style="display:flex;"><span><span style="color:#f92672">-     VIRTUAL_HOST: .canvas.docker
</span></span></span><span style="display:flex;"><span><span style="color:#f92672"></span><span style="color:#a6e22e">+     VIRTUAL_HOST: .canvas.home.russfeld.me
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e"></span>      HTTPS_METHOD: noredirect
</span></span><span style="display:flex;"><span>      # AR_QUERY_TRACE: &#39;true&#39;
</span></span><span style="display:flex;"><span>      # AR_QUERY_TRACE_TYPE: &#39;all&#39; # &#39;all&#39;, &#39;write&#39;, or &#39;read&#39;
</span></span><span style="display:flex;"><span>      # AR_QUERY_TRACE_LINES: 10
</span></span><span style="display:flex;"><span>      # DISABLE_N_PLUS_ONE_DETECTION: &#39;false&#39;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">+   # @russfeld
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+   networks:
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     - traefik
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     - default
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+   labels:
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     # +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     # Traefik Labels - see https://doc.traefik.io/traefik/routing/providers/docker/
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     # Traefik Enable
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     - &#34;traefik.enable=true&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     # Docker Network
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     - &#34;traefik.docker.network=traefik&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     # Routing Rule
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     - &#34;traefik.http.routers.canvas.rule=Host(`canvas.home.russfeld.me`)&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     # Enable TLS
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     - &#34;traefik.http.routers.canvas.tls=true&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     # TLS Certificate Resolver
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     - &#34;traefik.http.routers.canvas.tls.certresolver=letsencrypt&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     # +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">+#Bottom of the file
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+networks:
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+ traefik:
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+   external: true
</span></span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><p><strong>Mailcatcher Docker Compose</strong></p>
<div class="tab-panel" data-tab-group="9ee20f035b073d3ea50b11e45ea97736">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="docker-composemailcatcheroverrideyml"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('9ee20f035b073d3ea50b11e45ea97736','docker-composemailcatcheroverrideyml')"
    >
      <span class="tab-nav-text">docker-compose/mailcatcher.override.yml</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="docker-composemailcatcheroverrideyml"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-diff" data-lang="diff"><span style="display:flex;"><span>services:
</span></span><span style="display:flex;"><span>  web:
</span></span><span style="display:flex;"><span>    links:
</span></span><span style="display:flex;"><span>      - mailcatcher
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  mailcatcher:
</span></span><span style="display:flex;"><span>    image: instructure/mailcatcher
</span></span><span style="display:flex;"><span>    environment:
</span></span><span style="display:flex;"><span><span style="color:#f92672">-     VIRTUAL_HOST: mail.canvas.docker
</span></span></span><span style="display:flex;"><span><span style="color:#f92672"></span><span style="color:#a6e22e">+     VIRTUAL_HOST: mail.home.russfeld.me
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e"></span>      VIRTUAL_PORT: 8080
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">+   # @russfeld
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+   networks:
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     - traefik
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     - default
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+   labels:
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     # +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     # Traefik Labels - see https://doc.traefik.io/traefik/routing/providers/docker/
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     # Traefik Enable
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     - &#34;traefik.enable=true&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     # Docker Network
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     - &#34;traefik.docker.network=traefik&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     # Routing Rule
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     - &#34;traefik.http.routers.mailcatcher.rule=Host(`mail.home.russfeld.me`)&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     # Change Port
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     - &#34;traefik.http.services.mailcatcher.loadbalancer.server.port=8080&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     # Enable TLS
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     - &#34;traefik.http.routers.mailcatcher.tls=true&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     # TLS Certificate Resolver
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     - &#34;traefik.http.routers.mailcatcher.tls.certresolver=letsencrypt&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+     # +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">+#Bottom of the file
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+networks:
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+ traefik:
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">+   external: true
</span></span></span></code></pre></div>
      </div>
    </div>
  </div>
</div><ol start="10">
<li>Start the Server</li>
</ol>
<div class="tab-panel" data-tab-group="cef75eae10fe9c8bd5dc5f84b1553fc0">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="terminal"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('cef75eae10fe9c8bd5dc5f84b1553fc0','terminal')"
    >
      <span class="tab-nav-text">terminal</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="terminal"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ docker compose up -d</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div>
  <footer class="footline">
  </footer>
</article>
          </section>
<article class="default">
  <header class="headline">
  </header>

<h1 id="lti-docs">LTI Docs</h1>

<p>LTI Protocol Notes &amp; Documentation</p>
<p>When developing this project, I couldn&rsquo;t find any good detailed examples for what these messages actually looked like in practice, especially the ones coming from <a href="https://www.instructure.com/solutions/learning-management/k12" rel="external" target="_blank">Instructure Canvas</a>. So, as I worked on this project, I carefully stored and documented these protocol messages. They can also be mostly exposed from this tool by enabling the <code>silly</code> logging level.</p>
<ul class="children children-li children-sort-">
  <li class="children-title"><a href="/lti-toolkit/02-lti/01-lti10-tool/index.html">LTI 1.0 Tool Provider</a></li>
  <li class="children-title"><a href="/lti-toolkit/02-lti/02-lti13-tool/index.html">LTI 1.3 Tool Provider</a></li>
  <li class="children-title"><a href="/lti-toolkit/02-lti/03-launchdata/index.html">LTI Launch Data</a></li>
  <li class="children-title"><a href="/lti-toolkit/02-lti/04-lti10-consumer/index.html">LTI 1.0 Tool Consumer</a></li>
</ul>

  <footer class="footline">
  </footer>
</article>
          <section>
            <h1 class="a11y-only">Subsections of LTI Docs</h1>
<article class="default">
  <header class="headline">
  </header>

<h1 id="lti-10-tool-provider">LTI 1.0 Tool Provider</h1>

<p>This page documents the messages sent from an LMS to this tool acting as an LTI 1.0 Tool Provider.</p>
<h2 id="sequence-diagram">Sequence Diagram</h2>
<p><a href="#R-image-b09f5ebc87d294634562030d52203430" class="lightbox-link"><img alt="Sequence Diagram" class="border lazy lightbox figure-image" loading="lazy" src="/lti-toolkit/02-lti/01-lti10-tool/images/lti_10_seq.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b09f5ebc87d294634562030d52203430"><img alt="Sequence Diagram" class="border lazy lightbox lightbox-image" loading="lazy" src="/lti-toolkit/02-lti/01-lti10-tool/images/lti_10_seq.png"></a></p>
<h2 id="sample-lti-launch-messages">Sample LTI Launch Messages</h2>
<h3 id="lti-10-launch-from-canvas---admin-account">LTI 1.0 Launch from Canvas - Admin Account</h3>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_consumer_key&#34;</span>: <span style="color:#e6db74">&#34;thisisasupersecretkey&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_signature_method&#34;</span>: <span style="color:#e6db74">&#34;HMAC-SHA1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_timestamp&#34;</span>: <span style="color:#e6db74">&#34;1749754327&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_nonce&#34;</span>: <span style="color:#e6db74">&#34;JUcK2ZIwc5I9SJsDDwAeODA76PgtBHMYyHgPQ8YvEEw&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_version&#34;</span>: <span style="color:#e6db74">&#34;1.0&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;context_id&#34;</span>: <span style="color:#e6db74">&#34;d3a2504bba5184799a38f141e8df2335cfa8206d&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;context_label&#34;</span>: <span style="color:#e6db74">&#34;LTI13&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;context_title&#34;</span>: <span style="color:#e6db74">&#34;LTI 1.3 Test Course&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_api_domain&#34;</span>: <span style="color:#e6db74">&#34;canvas.home.russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_assignment_id&#34;</span>: <span style="color:#e6db74">&#34;2&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_assignment_points_possible&#34;</span>: <span style="color:#e6db74">&#34;100&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_assignment_title&#34;</span>: <span style="color:#e6db74">&#34;Test LTI 1.3 Assignment Name&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_course_id&#34;</span>: <span style="color:#e6db74">&#34;3&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_enrollment_state&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_module_id&#34;</span>: <span style="color:#e6db74">&#34;$Canvas.module.id&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_module_item_id&#34;</span>: <span style="color:#e6db74">&#34;2&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_user_id&#34;</span>: <span style="color:#e6db74">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_user_login_id&#34;</span>: <span style="color:#e6db74">&#34;canvasadmin@russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_workflow_state&#34;</span>: <span style="color:#e6db74">&#34;available&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_ims_lis_basic_outcome_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/api/lti/v1/tools/6/ext_grade_passback&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_lti_assignment_id&#34;</span>: <span style="color:#e6db74">&#34;8aa641d1-b4d4-4fea-8a9b-e9fedfb62b1e&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_outcome_data_values_accepted&#34;</span>: <span style="color:#e6db74">&#34;url,text&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_outcome_result_total_score_accepted&#34;</span>: <span style="color:#e6db74">&#34;true&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_outcome_submission_needs_additional_review_accepted&#34;</span>: <span style="color:#e6db74">&#34;true&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_outcome_submission_prioritize_non_tool_grade_accepted&#34;</span>: <span style="color:#e6db74">&#34;true&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_outcome_submission_submitted_at_accepted&#34;</span>: <span style="color:#e6db74">&#34;true&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_outcomes_tool_placement_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/api/lti/v1/turnitin/outcomes_placement/6&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_roles&#34;</span>: <span style="color:#e6db74">&#34;urn:lti:instrole:ims/lis/Administrator,urn:lti:sysrole:ims/lis/SysAdmin,urn:lti:sysrole:ims/lis/User&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;launch_presentation_document_target&#34;</span>: <span style="color:#e6db74">&#34;iframe&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;launch_presentation_locale&#34;</span>: <span style="color:#e6db74">&#34;en&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;launch_presentation_return_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/courses/3/assignments&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_outcome_service_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/api/lti/v1/tools/6/grade_passback&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_person_contact_email_primary&#34;</span>: <span style="color:#e6db74">&#34;canvasadmin@russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_person_name_family&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_person_name_full&#34;</span>: <span style="color:#e6db74">&#34;canvasadmin@russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_person_name_given&#34;</span>: <span style="color:#e6db74">&#34;canvasadmin@russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lti_message_type&#34;</span>: <span style="color:#e6db74">&#34;basic-lti-launch-request&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lti_version&#34;</span>: <span style="color:#e6db74">&#34;LTI-1p0&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_callback&#34;</span>: <span style="color:#e6db74">&#34;about:blank&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;resource_link_id&#34;</span>: <span style="color:#e6db74">&#34;6a8aaca162bfc4393804afd4cd53cd94413c48bb&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;resource_link_title&#34;</span>: <span style="color:#e6db74">&#34;Test LTI 1.3 Assignment Name&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;roles&#34;</span>: <span style="color:#e6db74">&#34;urn:lti:instrole:ims/lis/Administrator,urn:lti:sysrole:ims/lis/SysAdmin&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_info_product_family_code&#34;</span>: <span style="color:#e6db74">&#34;canvas&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_info_version&#34;</span>: <span style="color:#e6db74">&#34;cloud&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_instance_contact_email&#34;</span>: <span style="color:#e6db74">&#34;canvas@russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_instance_guid&#34;</span>: <span style="color:#e6db74">&#34;zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_instance_name&#34;</span>: <span style="color:#e6db74">&#34;ALT+CS Lab&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;user_id&#34;</span>: <span style="color:#e6db74">&#34;535fa085f22b4655f48cd5a36a9215f64c062838&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;user_image&#34;</span>: <span style="color:#e6db74">&#34;http://canvas.instructure.com/images/messages/avatar-50.png&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_signature&#34;</span>: <span style="color:#e6db74">&#34;lrWfY8y049li0gJBEM//4hwgUy8=&#34;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="lti-10-launch-from-canvas---teacher-account">LTI 1.0 Launch from Canvas - Teacher Account</h3>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_consumer_key&#34;</span>: <span style="color:#e6db74">&#34;thisisasupersecretkey&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_signature_method&#34;</span>: <span style="color:#e6db74">&#34;HMAC-SHA1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_timestamp&#34;</span>: <span style="color:#e6db74">&#34;1749756799&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_nonce&#34;</span>: <span style="color:#e6db74">&#34;aVAIWQpIfbCZAtCr5FP0ruPHY4522yzGwhtFLNIA4&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_version&#34;</span>: <span style="color:#e6db74">&#34;1.0&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;context_id&#34;</span>: <span style="color:#e6db74">&#34;4dde05e8ca1973bcca9bffc13e1548820eee93a3&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;context_label&#34;</span>: <span style="color:#e6db74">&#34;LTI10&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;context_title&#34;</span>: <span style="color:#e6db74">&#34;LTI 1.0 Test Course&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_1&#34;</span>: <span style="color:#e6db74">&#34;value_1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_2&#34;</span>: <span style="color:#e6db74">&#34;value_2&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_api_domain&#34;</span>: <span style="color:#e6db74">&#34;canvas.home.russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_assignment_id&#34;</span>: <span style="color:#e6db74">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_assignment_points_possible&#34;</span>: <span style="color:#e6db74">&#34;100&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_assignment_title&#34;</span>: <span style="color:#e6db74">&#34;Test LTI 1.0 Assignment Name&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_course_id&#34;</span>: <span style="color:#e6db74">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_enrollment_state&#34;</span>: <span style="color:#e6db74">&#34;active&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_module_id&#34;</span>: <span style="color:#e6db74">&#34;$Canvas.module.id&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_module_item_id&#34;</span>: <span style="color:#e6db74">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_user_id&#34;</span>: <span style="color:#e6db74">&#34;3&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_user_login_id&#34;</span>: <span style="color:#e6db74">&#34;canvasteacher@russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_workflow_state&#34;</span>: <span style="color:#e6db74">&#34;available&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_ims_lis_basic_outcome_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/api/lti/v1/tools/1/ext_grade_passback&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_lti_assignment_id&#34;</span>: <span style="color:#e6db74">&#34;599692b2-3abe-4ca2-a6c8-2323ef57189d&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_outcome_data_values_accepted&#34;</span>: <span style="color:#e6db74">&#34;url,text&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_outcome_result_total_score_accepted&#34;</span>: <span style="color:#e6db74">&#34;true&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_outcome_submission_needs_additional_review_accepted&#34;</span>: <span style="color:#e6db74">&#34;true&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_outcome_submission_prioritize_non_tool_grade_accepted&#34;</span>: <span style="color:#e6db74">&#34;true&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_outcome_submission_submitted_at_accepted&#34;</span>: <span style="color:#e6db74">&#34;true&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_outcomes_tool_placement_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/api/lti/v1/turnitin/outcomes_placement/1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_roles&#34;</span>: <span style="color:#e6db74">&#34;urn:lti:instrole:ims/lis/Instructor,urn:lti:role:ims/lis/Instructor,urn:lti:sysrole:ims/lis/User&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;launch_presentation_document_target&#34;</span>: <span style="color:#e6db74">&#34;iframe&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;launch_presentation_locale&#34;</span>: <span style="color:#e6db74">&#34;en&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;launch_presentation_return_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/courses/1/assignments&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_outcome_service_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/api/lti/v1/tools/1/grade_passback&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_person_contact_email_primary&#34;</span>: <span style="color:#e6db74">&#34;canvasteacher@russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_person_name_family&#34;</span>: <span style="color:#e6db74">&#34;TeacherLast&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_person_name_full&#34;</span>: <span style="color:#e6db74">&#34;TeacherFirst TeacherLast&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_person_name_given&#34;</span>: <span style="color:#e6db74">&#34;TeacherFirst&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_person_sourcedid&#34;</span>: <span style="color:#e6db74">&#34;7858675309&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lti_message_type&#34;</span>: <span style="color:#e6db74">&#34;basic-lti-launch-request&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lti_version&#34;</span>: <span style="color:#e6db74">&#34;LTI-1p0&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_callback&#34;</span>: <span style="color:#e6db74">&#34;about:blank&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;resource_link_id&#34;</span>: <span style="color:#e6db74">&#34;ae06e3eb8ea83588f0a1c5897b98830dc93f47d8&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;resource_link_title&#34;</span>: <span style="color:#e6db74">&#34;Test LTI 1.0 Assignment Name&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;roles&#34;</span>: <span style="color:#e6db74">&#34;Instructor&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_info_product_family_code&#34;</span>: <span style="color:#e6db74">&#34;canvas&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_info_version&#34;</span>: <span style="color:#e6db74">&#34;cloud&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_instance_contact_email&#34;</span>: <span style="color:#e6db74">&#34;canvas@russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_instance_guid&#34;</span>: <span style="color:#e6db74">&#34;zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_instance_name&#34;</span>: <span style="color:#e6db74">&#34;ALT+CS Lab&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;user_id&#34;</span>: <span style="color:#e6db74">&#34;c0ddd6c90cbe1ef0f32fbce5c3bf654204be186c&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;user_image&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/images/thumbnails/2/GJhBgjcBm2BG6aFOlLDZpjEMDRzB5jgUBJYuVqJu&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_signature&#34;</span>: <span style="color:#e6db74">&#34;99TXj++LWMqCjKfHcCE7KFt9aZk=&#34;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="lti-10-launch-from-canvas---student-account">LTI 1.0 Launch from Canvas - Student Account</h3>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_consumer_key&#34;</span>: <span style="color:#e6db74">&#34;thisisasupersecretkey&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_signature_method&#34;</span>: <span style="color:#e6db74">&#34;HMAC-SHA1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_timestamp&#34;</span>: <span style="color:#e6db74">&#34;1749756960&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_nonce&#34;</span>: <span style="color:#e6db74">&#34;MBh6cnqdWZBavuubUyf66SHaMlylmIVbjkbLa4HDLZA&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_version&#34;</span>: <span style="color:#e6db74">&#34;1.0&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;context_id&#34;</span>: <span style="color:#e6db74">&#34;4dde05e8ca1973bcca9bffc13e1548820eee93a3&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;context_label&#34;</span>: <span style="color:#e6db74">&#34;LTI10&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;context_title&#34;</span>: <span style="color:#e6db74">&#34;LTI 1.0 Test Course&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_1&#34;</span>: <span style="color:#e6db74">&#34;value_1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_2&#34;</span>: <span style="color:#e6db74">&#34;value_2&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_api_domain&#34;</span>: <span style="color:#e6db74">&#34;canvas.home.russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_assignment_id&#34;</span>: <span style="color:#e6db74">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_assignment_points_possible&#34;</span>: <span style="color:#e6db74">&#34;100&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_assignment_title&#34;</span>: <span style="color:#e6db74">&#34;Test LTI 1.0 Assignment Name&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_course_id&#34;</span>: <span style="color:#e6db74">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_enrollment_state&#34;</span>: <span style="color:#e6db74">&#34;active&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_module_id&#34;</span>: <span style="color:#e6db74">&#34;$Canvas.module.id&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_module_item_id&#34;</span>: <span style="color:#e6db74">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_user_id&#34;</span>: <span style="color:#e6db74">&#34;2&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_user_login_id&#34;</span>: <span style="color:#e6db74">&#34;canvasstudent@russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;custom_canvas_workflow_state&#34;</span>: <span style="color:#e6db74">&#34;available&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_ims_lis_basic_outcome_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/api/lti/v1/tools/1/ext_grade_passback&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_lti_assignment_id&#34;</span>: <span style="color:#e6db74">&#34;599692b2-3abe-4ca2-a6c8-2323ef57189d&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_outcome_data_values_accepted&#34;</span>: <span style="color:#e6db74">&#34;url,text&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_outcome_result_total_score_accepted&#34;</span>: <span style="color:#e6db74">&#34;true&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_outcome_submission_needs_additional_review_accepted&#34;</span>: <span style="color:#e6db74">&#34;true&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_outcome_submission_prioritize_non_tool_grade_accepted&#34;</span>: <span style="color:#e6db74">&#34;true&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_outcome_submission_submitted_at_accepted&#34;</span>: <span style="color:#e6db74">&#34;true&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_outcomes_tool_placement_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/api/lti/v1/turnitin/outcomes_placement/1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ext_roles&#34;</span>: <span style="color:#e6db74">&#34;urn:lti:instrole:ims/lis/Student,urn:lti:role:ims/lis/Learner,urn:lti:sysrole:ims/lis/User&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;launch_presentation_document_target&#34;</span>: <span style="color:#e6db74">&#34;iframe&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;launch_presentation_locale&#34;</span>: <span style="color:#e6db74">&#34;en&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;launch_presentation_return_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/courses/1/assignments&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_outcome_service_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/api/lti/v1/tools/1/grade_passback&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_person_contact_email_primary&#34;</span>: <span style="color:#e6db74">&#34;canvasstudent@russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_person_name_family&#34;</span>: <span style="color:#e6db74">&#34;StudentLast&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_person_name_full&#34;</span>: <span style="color:#e6db74">&#34;StudentFirst StudentLast&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_person_name_given&#34;</span>: <span style="color:#e6db74">&#34;StudentFirst&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_person_sourcedid&#34;</span>: <span style="color:#e6db74">&#34;835203884&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_result_sourcedid&#34;</span>: <span style="color:#e6db74">&#34;1-1-1-2-c14957047fa8fd73a6aa4d7ec543574aff29597b&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lti_message_type&#34;</span>: <span style="color:#e6db74">&#34;basic-lti-launch-request&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lti_version&#34;</span>: <span style="color:#e6db74">&#34;LTI-1p0&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_callback&#34;</span>: <span style="color:#e6db74">&#34;about:blank&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;resource_link_id&#34;</span>: <span style="color:#e6db74">&#34;ae06e3eb8ea83588f0a1c5897b98830dc93f47d8&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;resource_link_title&#34;</span>: <span style="color:#e6db74">&#34;Test LTI 1.0 Assignment Name&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;roles&#34;</span>: <span style="color:#e6db74">&#34;Learner&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_info_product_family_code&#34;</span>: <span style="color:#e6db74">&#34;canvas&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_info_version&#34;</span>: <span style="color:#e6db74">&#34;cloud&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_instance_contact_email&#34;</span>: <span style="color:#e6db74">&#34;canvas@russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_instance_guid&#34;</span>: <span style="color:#e6db74">&#34;zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_instance_name&#34;</span>: <span style="color:#e6db74">&#34;ALT+CS Lab&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;user_id&#34;</span>: <span style="color:#e6db74">&#34;86157096483e6b3a50bfedc6bac902c0b20a824f&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;user_image&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/images/thumbnails/3/fnQIzMRWPAny4JOWMUvz8FiHsvP5Tyk4CRBKmMhm&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_signature&#34;</span>: <span style="color:#e6db74">&#34;eXuQHonpd554T34k8Ro22+lhI+c=&#34;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h2 id="helpful-references">Helpful References:</h2>
<ul>
<li><a href="https://www.imsglobal.org/specs/ltiv1p1/implementation-guide" rel="external" target="_blank">https://www.imsglobal.org/specs/ltiv1p1/implementation-guide</a> - super helpful</li>
<li><a href="https://datatracker.ietf.org/doc/html/rfc5849" rel="external" target="_blank">https://datatracker.ietf.org/doc/html/rfc5849</a> - OAuth 1.0</li>
<li><a href="https://github.com/request/oauth-sign/blob/master/index.js" rel="external" target="_blank">https://github.com/request/oauth-sign/blob/master/index.js</a> - reference implementation</li>
<li><a href="https://github.com/omsmith/ims-lti" rel="external" target="_blank">https://github.com/omsmith/ims-lti</a> - reference implementation</li>
</ul>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
  </header>

<h1 id="lti-13-tool-provider">LTI 1.3 Tool Provider</h1>

<p>This page documents the messages sent from an LMS to this tool acting as an LTI 1.3 Tool Provider.</p>
<h2 id="sequence-diagram">Sequence Diagram</h2>
<p><a href="#R-image-ab3642d88d016c99597734f95f74cb8a" class="lightbox-link"><img alt="Sequence Diagram" class="border lazy lightbox figure-image" loading="lazy" src="/lti-toolkit/02-lti/02-lti13-tool/images/lti_13_seq.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ab3642d88d016c99597734f95f74cb8a"><img alt="Sequence Diagram" class="border lazy lightbox lightbox-image" loading="lazy" src="/lti-toolkit/02-lti/02-lti13-tool/images/lti_13_seq.png"></a></p>
<h2 id="sample-lti-launch-messages">Sample LTI Launch Messages</h2>
<h3 id="login-message-from-canvas">Login Message from Canvas</h3>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;iss&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;login_hint&#34;</span>: <span style="color:#e6db74">&#34;535fa085f22b4655f48cd5a36a9215f64c062838&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;client_id&#34;</span>: <span style="color:#e6db74">&#34;10000000000002&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lti_deployment_id&#34;</span>: <span style="color:#e6db74">&#34;5:d3a2504bba5184799a38f141e8df2335cfa8206d&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;target_link_uri&#34;</span>: <span style="color:#e6db74">&#34;https://lpp.home.russfeld.me/lti/provider/launch13&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lti_message_hint&#34;</span>: <span style="color:#e6db74">&#34;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2ZXJpZmllciI6IjBlNGYxMTZhZWZjNWZiYTEyMzI1MWI2MjhhMDM5MDM5NDZjYjYxOGYzNTYzMTI5OGIwMzlkMGVlOTM3ZGQxMGU3ZGVlOTkzNDc0Y2FiZGU0OGNiYjFlZjNhOWY5NGI3OGM3YWZkOTI5ZjZlZjU5MzZkMDIyNjMyMTcyZDllYTY5IiwiY2FudmFzX2RvbWFpbiI6ImNhbnZhcy5ob21lLnJ1c3NmZWxkLm1lIiwiY29udGV4dF90eXBlIjoiQ291cnNlIiwiY29udGV4dF9pZCI6MTAwMDAwMDAwMDAwMDMsImNhbnZhc19sb2NhbGUiOiJlbiIsImluY2x1ZGVfc3RvcmFnZV90YXJnZXQiOnRydWUsImV4cCI6MTc0OTY2MjgwOH0.HyNhJe1cNlkA29tJy9oBxNsUD3jWZdUb_VwZinfVjvc&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;canvas_environment&#34;</span>: <span style="color:#e6db74">&#34;prod&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;canvas_region&#34;</span>: <span style="color:#e6db74">&#34;not_configured&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lti_storage_target&#34;</span>: <span style="color:#e6db74">&#34;post_message_forwarding&#34;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="auth-request-from-lti-toolkit-back-to-canvas">Auth Request from LTI Toolkit back to Canvas</h3>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;scope&#34;</span>: <span style="color:#e6db74">&#34;openid&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;response_type&#34;</span>: <span style="color:#e6db74">&#34;id_token&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;client_id&#34;</span>: <span style="color:#e6db74">&#34;10000000000002&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;redirect_uri&#34;</span>: <span style="color:#e6db74">&#34;https://lpp.home.russfeld.me/lti/provider/redirect13&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;login_hint&#34;</span>: <span style="color:#e6db74">&#34;535fa085f22b4655f48cd5a36a9215f64c062838&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;state&#34;</span>: <span style="color:#e6db74">&#34;Zp22IH6qgj7YIPgXIkOf_&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;response_mode&#34;</span>: <span style="color:#e6db74">&#34;form_post&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;nonce&#34;</span>: <span style="color:#e6db74">&#34;pSESxuF1KbfCqvRl5u9HW&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;prompt&#34;</span>: <span style="color:#e6db74">&#34;pSESxuF1KbfCqvRl5u9HW&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lti_message_hint&#34;</span>: <span style="color:#e6db74">&#34;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2ZXJpZmllciI6IjBlNGYxMTZhZWZjNWZiYTEyMzI1MWI2MjhhMDM5MDM5NDZjYjYxOGYzNTYzMTI5OGIwMzlkMGVlOTM3ZGQxMGU3ZGVlOTkzNDc0Y2FiZGU0OGNiYjFlZjNhOWY5NGI3OGM3YWZkOTI5ZjZlZjU5MzZkMDIyNjMyMTcyZDllYTY5IiwiY2FudmFzX2RvbWFpbiI6ImNhbnZhcy5ob21lLnJ1c3NmZWxkLm1lIiwiY29udGV4dF90eXBlIjoiQ291cnNlIiwiY29udGV4dF9pZCI6MTAwMDAwMDAwMDAwMDMsImNhbnZhc19sb2NhbGUiOiJlbiIsImluY2x1ZGVfc3RvcmFnZV90YXJnZXQiOnRydWUsImV4cCI6MTc0OTY2MjgwOH0.HyNhJe1cNlkA29tJy9oBxNsUD3jWZdUb_VwZinfVjvc&#34;</span>,
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="redirect-message-from-canvas">Redirect Message from Canvas</h3>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;utf8&#34;</span>: <span style="color:#e6db74">&#34;âœ“&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;authenticity_token&#34;</span>: <span style="color:#e6db74">&#34;0tT0C8svDcwBdK19trVo7sVrcT+lSkf6g7Vw8YjJel6W599ypx19/jM75w7+5QKHnTpGVdEOFsvahx+ixpsMbA==&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;id_token&#34;</span>: <span style="color:#e6db74">&#34;eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IjIwMTgtMDYtMThUMjI6MzM6MjBaIn0.eyJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9tZXNzYWdlX3R5cGUiOiJMdGlSZXNvdXJjZUxpbmtSZXF1ZXN0IiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vdmVyc2lvbiI6IjEuMy4wIiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vcmVzb3VyY2VfbGluayI6eyJpZCI6IjhhYTY0MWQxLWI0ZDQtNGZlYS04YTliLWU5ZmVkZmI2MmIxZSIsImRlc2NyaXB0aW9uIjoiXHUwMDNjcFx1MDAzZUFzc2lnbm1lbnQgRGVzY3JpcHRpb25cdTAwM2MvcFx1MDAzZSIsInRpdGxlIjoiVGVzdCBMVEkgMS4zIEFzc2lnbm1lbnQgTmFtZSJ9LCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS1hZ3MvY2xhaW0vZW5kcG9pbnQiOnsibGluZWl0ZW0iOiJodHRwczovL2NhbnZhcy5ob21lLnJ1c3NmZWxkLm1lL2FwaS9sdGkvY291cnNlcy8zL2xpbmVfaXRlbXMvMSIsInNjb3BlIjpbImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpLWFncy9zY29wZS9saW5laXRlbSIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpLWFncy9zY29wZS9saW5laXRlbS5yZWFkb25seSIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpLWFncy9zY29wZS9yZXN1bHQucmVhZG9ubHkiLCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS1hZ3Mvc2NvcGUvc2NvcmUiLCJodHRwczovL2NhbnZhcy5pbnN0cnVjdHVyZS5jb20vbHRpLWFncy9wcm9ncmVzcy9zY29wZS9zaG93Il0sImxpbmVpdGVtcyI6Imh0dHA6Ly9jYW52YXMuaG9tZS5ydXNzZmVsZC5tZS9hcGkvbHRpL2NvdXJzZXMvMy9saW5lX2l0ZW1zIn0sImF1ZCI6IjEwMDAwMDAwMDAwMDAyIiwiYXpwIjoiMTAwMDAwMDAwMDAwMDIiLCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9kZXBsb3ltZW50X2lkIjoiNTpkM2EyNTA0YmJhNTE4NDc5OWEzOGYxNDFlOGRmMjMzNWNmYTgyMDZkIiwiZXhwIjoxNzQ5NjcyNzc2LCJpYXQiOjE3NDk2NjkxNzYsImlzcyI6Imh0dHBzOi8vY2FudmFzLmhvbWUucnVzc2ZlbGQubWUiLCJub25jZSI6InBTRVN4dUYxS2JmQ3F2Umw1dTlIVyIsInN1YiI6ImFhYzIyNzEzLTI4YjMtNDM5Ny05ZmY5LWEzZDI4ODBlY2UxYSIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL3RhcmdldF9saW5rX3VyaSI6Imh0dHBzOi8vbHBwLmhvbWUucnVzc2ZlbGQubWUvbHRpL3Byb3ZpZGVyL2xhdW5jaDEzIiwicGljdHVyZSI6Imh0dHA6Ly9jYW52YXMuaW5zdHJ1Y3R1cmUuY29tL2ltYWdlcy9tZXNzYWdlcy9hdmF0YXItNTAucG5nIiwiZW1haWwiOiJjYW52YXNhZG1pbkBydXNzZmVsZC5tZSIsIm5hbWUiOiJjYW52YXNhZG1pbkBydXNzZmVsZC5tZSIsImdpdmVuX25hbWUiOiJjYW52YXNhZG1pbkBydXNzZmVsZC5tZSIsImZhbWlseV9uYW1lIjoiIiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vbGlzIjp7InBlcnNvbl9zb3VyY2VkaWQiOiIkUGVyc29uLnNvdXJjZWRJZCIsImNvdXJzZV9vZmZlcmluZ19zb3VyY2VkaWQiOiIkQ291cnNlU2VjdGlvbi5zb3VyY2VkSWQifSwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vY29udGV4dCI6eyJpZCI6ImQzYTI1MDRiYmE1MTg0Nzk5YTM4ZjE0MWU4ZGYyMzM1Y2ZhODIwNmQiLCJsYWJlbCI6IkxUSTEzIiwidGl0bGUiOiJMVEkgMS4zIFRlc3QgQ291cnNlIiwidHlwZSI6WyJodHRwOi8vcHVybC5pbXNnbG9iYWwub3JnL3ZvY2FiL2xpcy92Mi9jb3Vyc2UjQ291cnNlT2ZmZXJpbmciXX0sImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL3Rvb2xfcGxhdGZvcm0iOnsiZ3VpZCI6InpPVUF0a2ZTM2dJOG5oNUlza3psZ0FybzFvQ3gzcng2U0dHYWhpTEw6Y2FudmFzLWxtcyIsIm5hbWUiOiJBTFQrQ1MgTGFiIiwidmVyc2lvbiI6ImNsb3VkIiwicHJvZHVjdF9mYW1pbHlfY29kZSI6ImNhbnZhcyJ9LCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9sYXVuY2hfcHJlc2VudGF0aW9uIjp7ImRvY3VtZW50X3RhcmdldCI6ImlmcmFtZSIsInJldHVybl91cmwiOiJodHRwczovL2NhbnZhcy5ob21lLnJ1c3NmZWxkLm1lL2NvdXJzZXMvMy9hc3NpZ25tZW50cyIsImxvY2FsZSI6ImVuIn0sImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL3BsYXRmb3Jtbm90aWZpY2F0aW9uc2VydmljZSI6eyJzZXJ2aWNlX3ZlcnNpb25zIjpbIjEuMCJdLCJwbGF0Zm9ybV9ub3RpZmljYXRpb25fc2VydmljZV91cmwiOiJodHRwczovL2NhbnZhcy5ob21lLnJ1c3NmZWxkLm1lL2FwaS9sdGkvbm90aWNlLWhhbmRsZXJzLzUiLCJzY29wZSI6WyJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9zY29wZS9ub3RpY2VoYW5kbGVycyJdLCJub3RpY2VfdHlwZXNfc3VwcG9ydGVkIjpbIkx0aUhlbGxvV29ybGROb3RpY2UiLCJMdGlBc3NldFByb2Nlc3NvclN1Ym1pc3Npb25Ob3RpY2UiLCJMdGlDb250ZXh0Q29weU5vdGljZSJdfSwibG9jYWxlIjoiZW4iLCJodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL2x0aS9jbGFpbS9yb2xlcyI6WyJodHRwOi8vcHVybC5pbXNnbG9iYWwub3JnL3ZvY2FiL2xpcy92Mi9pbnN0aXR1dGlvbi9wZXJzb24jQWRtaW5pc3RyYXRvciIsImh0dHA6Ly9wdXJsLmltc2dsb2JhbC5vcmcvdm9jYWIvbGlzL3YyL3N5c3RlbS9wZXJzb24jU3lzQWRtaW4iLCJodHRwOi8vcHVybC5pbXNnbG9iYWwub3JnL3ZvY2FiL2xpcy92Mi9zeXN0ZW0vcGVyc29uI1VzZXIiXSwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvY2xhaW0vY3VzdG9tIjp7ImN1c3RvbTEiOiJ2YWx1ZTEiLCJjdXN0b20yIjoidmFsdWUyIn0sImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpLW5ycHMvY2xhaW0vbmFtZXNyb2xlc2VydmljZSI6eyJjb250ZXh0X21lbWJlcnNoaXBzX3VybCI6Imh0dHBzOi8vY2FudmFzLmhvbWUucnVzc2ZlbGQubWUvYXBpL2x0aS9jb3Vyc2VzLzMvbmFtZXNfYW5kX3JvbGVzIiwic2VydmljZV92ZXJzaW9ucyI6WyIyLjAiXX0sImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL2x0aTExX2xlZ2FjeV91c2VyX2lkIjoiNTM1ZmEwODVmMjJiNDY1NWY0OGNkNWEzNmE5MjE1ZjY0YzA2MjgzOCIsImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL2x0aTFwMSI6eyJyZXNvdXJjZV9saW5rX2lkIjoiNmE4YWFjYTE2MmJmYzQzOTM4MDRhZmQ0Y2Q1M2NkOTQ0MTNjNDhiYiIsInVzZXJfaWQiOiI1MzVmYTA4NWYyMmI0NjU1ZjQ4Y2Q1YTM2YTkyMTVmNjRjMDYyODM4In0sImh0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvbHRpL2NsYWltL2V1bGFzZXJ2aWNlIjp7InVybCI6Imh0dHA6Ly9jYW52YXMuaG9tZS5ydXNzZmVsZC5tZS9hcGkvbHRpL2Fzc2V0X3Byb2Nlc3Nvcl9ldWxhcy81Iiwic2NvcGUiOlsiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvc2NvcGUvZXVsYS91c2VyIiwiaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9sdGkvc2NvcGUvZXVsYS9kZXBsb3ltZW50Il19LCJodHRwczovL3d3dy5pbnN0cnVjdHVyZS5jb20vcGxhY2VtZW50IjpudWxsfQ.U-gWxLRdjeOrV9egBJTdiln90LIGl-gzfSI9inS5TLYdabtiPFv9vmxieUXtcu_XMG9kJuFPUzMVkp2GeqAuRw&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;state&#34;</span>: <span style="color:#e6db74">&#34;Zp22IH6qgj7YIPgXIkOf_&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lti_storage_target&#34;</span>: <span style="color:#e6db74">&#34;post_message_forwarding&#34;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="decoded-jwt-in-redirect-message-from-canvas---admin-account">Decoded JWT in Redirect Message from Canvas - Admin Account</h3>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/message_type&#34;</span>: <span style="color:#e6db74">&#34;LtiResourceLinkRequest&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/version&#34;</span>: <span style="color:#e6db74">&#34;1.3.0&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/resource_link&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;8aa641d1-b4d4-4fea-8a9b-e9fedfb62b1e&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;&lt;p&gt;Assignment Description&lt;/p&gt;&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;Test LTI 1.3 Assignment Name&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti-ags/claim/endpoint&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;lineitem&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/api/lti/courses/3/line_items/1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;scope&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti-ags/scope/lineitem&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti-ags/scope/lineitem.readonly&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti-ags/scope/result.readonly&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti-ags/scope/score&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://canvas.instructure.com/lti-ags/progress/scope/show&#34;</span>
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;lineitems&#34;</span>: <span style="color:#e6db74">&#34;http://canvas.home.russfeld.me/api/lti/courses/3/line_items&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;aud&#34;</span>: <span style="color:#e6db74">&#34;10000000000002&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;azp&#34;</span>: <span style="color:#e6db74">&#34;10000000000002&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/deployment_id&#34;</span>: <span style="color:#e6db74">&#34;5:d3a2504bba5184799a38f141e8df2335cfa8206d&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;exp&#34;</span>: <span style="color:#ae81ff">1749672776</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;iat&#34;</span>: <span style="color:#ae81ff">1749669176</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;iss&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;nonce&#34;</span>: <span style="color:#e6db74">&#34;pSESxuF1KbfCqvRl5u9HW&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;sub&#34;</span>: <span style="color:#e6db74">&#34;aac22713-28b3-4397-9ff9-a3d2880ece1a&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/target_link_uri&#34;</span>: <span style="color:#e6db74">&#34;https://lpp.home.russfeld.me/lti/provider/launch13&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;picture&#34;</span>: <span style="color:#e6db74">&#34;http://canvas.instructure.com/images/messages/avatar-50.png&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;email&#34;</span>: <span style="color:#e6db74">&#34;canvasadmin@russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;canvasadmin@russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;given_name&#34;</span>: <span style="color:#e6db74">&#34;canvasadmin@russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;family_name&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/lis&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;person_sourcedid&#34;</span>: <span style="color:#e6db74">&#34;$Person.sourcedId&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;course_offering_sourcedid&#34;</span>: <span style="color:#e6db74">&#34;$CourseSection.sourcedId&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/context&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;d3a2504bba5184799a38f141e8df2335cfa8206d&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;label&#34;</span>: <span style="color:#e6db74">&#34;LTI13&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;LTI 1.3 Test Course&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;type&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;http://purl.imsglobal.org/vocab/lis/v2/course#CourseOffering&#34;</span>
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/tool_platform&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;guid&#34;</span>: <span style="color:#e6db74">&#34;zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;ALT+CS Lab&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;cloud&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;product_family_code&#34;</span>: <span style="color:#e6db74">&#34;canvas&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/launch_presentation&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;document_target&#34;</span>: <span style="color:#e6db74">&#34;iframe&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;return_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/courses/3/assignments&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;locale&#34;</span>: <span style="color:#e6db74">&#34;en&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/platformnotificationservice&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;service_versions&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;1.0&#34;</span>
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;platform_notification_service_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/api/lti/notice-handlers/5&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;scope&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti/scope/noticehandlers&#34;</span>
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;notice_types_supported&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;LtiHelloWorldNotice&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;LtiAssetProcessorSubmissionNotice&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;LtiContextCopyNotice&#34;</span>
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;locale&#34;</span>: <span style="color:#e6db74">&#34;en&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/roles&#34;</span>: [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;http://purl.imsglobal.org/vocab/lis/v2/institution/person#Administrator&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;http://purl.imsglobal.org/vocab/lis/v2/system/person#SysAdmin&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;http://purl.imsglobal.org/vocab/lis/v2/system/person#User&#34;</span>
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/custom&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;custom1&#34;</span>: <span style="color:#e6db74">&#34;value1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;custom2&#34;</span>: <span style="color:#e6db74">&#34;value2&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti-nrps/claim/namesroleservice&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;context_memberships_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/api/lti/courses/3/names_and_roles&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;service_versions&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;2.0&#34;</span>
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/lti11_legacy_user_id&#34;</span>: <span style="color:#e6db74">&#34;535fa085f22b4655f48cd5a36a9215f64c062838&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/lti1p1&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;resource_link_id&#34;</span>: <span style="color:#e6db74">&#34;6a8aaca162bfc4393804afd4cd53cd94413c48bb&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;user_id&#34;</span>: <span style="color:#e6db74">&#34;535fa085f22b4655f48cd5a36a9215f64c062838&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/eulaservice&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;url&#34;</span>: <span style="color:#e6db74">&#34;http://canvas.home.russfeld.me/api/lti/asset_processor_eulas/5&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;scope&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti/scope/eula/user&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti/scope/eula/deployment&#34;</span>
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://www.instructure.com/placement&#34;</span>: <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="decoded-jwt-in-redirect-message-from-canvas---teacher-account">Decoded JWT in Redirect Message from Canvas - Teacher Account</h3>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/message_type&#34;</span>: <span style="color:#e6db74">&#34;LtiResourceLinkRequest&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/version&#34;</span>: <span style="color:#e6db74">&#34;1.3.0&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/resource_link&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;8aa641d1-b4d4-4fea-8a9b-e9fedfb62b1e&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;&lt;p&gt;Assignment Description&lt;/p&gt;&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;Test LTI 1.3 Assignment Name&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti-ags/claim/endpoint&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;lineitem&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/api/lti/courses/3/line_items/1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;scope&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti-ags/scope/lineitem&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti-ags/scope/lineitem.readonly&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti-ags/scope/result.readonly&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti-ags/scope/score&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://canvas.instructure.com/lti-ags/progress/scope/show&#34;</span>
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;lineitems&#34;</span>: <span style="color:#e6db74">&#34;http://canvas.home.russfeld.me/api/lti/courses/3/line_items&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;aud&#34;</span>: <span style="color:#e6db74">&#34;10000000000002&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;azp&#34;</span>: <span style="color:#e6db74">&#34;10000000000002&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/deployment_id&#34;</span>: <span style="color:#e6db74">&#34;7:d3a2504bba5184799a38f141e8df2335cfa8206d&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;exp&#34;</span>: <span style="color:#ae81ff">1749761809</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;iat&#34;</span>: <span style="color:#ae81ff">1749758209</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;iss&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;nonce&#34;</span>: <span style="color:#e6db74">&#34;BPpEE7xw1ie5ny_o-VA5G&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;sub&#34;</span>: <span style="color:#e6db74">&#34;e77934e7-4e98-4055-b4b4-3a8431e4f22a&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/target_link_uri&#34;</span>: <span style="color:#e6db74">&#34;https://lpp.home.russfeld.me/lti/provider/launch13&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;picture&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/images/thumbnails/2/GJhBgjcBm2BG6aFOlLDZpjEMDRzB5jgUBJYuVqJu&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;email&#34;</span>: <span style="color:#e6db74">&#34;canvasteacher@russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;TeacherFirst TeacherLast&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;given_name&#34;</span>: <span style="color:#e6db74">&#34;TeacherFirst&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;family_name&#34;</span>: <span style="color:#e6db74">&#34;TeacherLast&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/lis&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;person_sourcedid&#34;</span>: <span style="color:#e6db74">&#34;7858675309&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;course_offering_sourcedid&#34;</span>: <span style="color:#e6db74">&#34;$CourseSection.sourcedId&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/context&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;d3a2504bba5184799a38f141e8df2335cfa8206d&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;label&#34;</span>: <span style="color:#e6db74">&#34;LTI13&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;LTI 1.3 Test Course&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;type&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;http://purl.imsglobal.org/vocab/lis/v2/course#CourseOffering&#34;</span>
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/tool_platform&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;guid&#34;</span>: <span style="color:#e6db74">&#34;zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;ALT+CS Lab&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;cloud&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;product_family_code&#34;</span>: <span style="color:#e6db74">&#34;canvas&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/launch_presentation&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;document_target&#34;</span>: <span style="color:#e6db74">&#34;iframe&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;return_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/courses/3/assignments&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;locale&#34;</span>: <span style="color:#e6db74">&#34;en&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/platformnotificationservice&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;service_versions&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;1.0&#34;</span>
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;platform_notification_service_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/api/lti/notice-handlers/7&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;scope&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti/scope/noticehandlers&#34;</span>
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;notice_types_supported&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;LtiHelloWorldNotice&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;LtiAssetProcessorSubmissionNotice&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;LtiContextCopyNotice&#34;</span>
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;locale&#34;</span>: <span style="color:#e6db74">&#34;en&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/roles&#34;</span>: [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;http://purl.imsglobal.org/vocab/lis/v2/institution/person#Instructor&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;http://purl.imsglobal.org/vocab/lis/v2/system/person#User&#34;</span>
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/custom&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;custom1&#34;</span>: <span style="color:#e6db74">&#34;value1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;custom2&#34;</span>: <span style="color:#e6db74">&#34;value2&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti-nrps/claim/namesroleservice&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;context_memberships_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/api/lti/courses/3/names_and_roles&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;service_versions&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;2.0&#34;</span>
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/lti11_legacy_user_id&#34;</span>: <span style="color:#e6db74">&#34;c0ddd6c90cbe1ef0f32fbce5c3bf654204be186c&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/lti1p1&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;resource_link_id&#34;</span>: <span style="color:#e6db74">&#34;6a8aaca162bfc4393804afd4cd53cd94413c48bb&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;user_id&#34;</span>: <span style="color:#e6db74">&#34;c0ddd6c90cbe1ef0f32fbce5c3bf654204be186c&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;oauth_consumer_key&#34;</span>: <span style="color:#e6db74">&#34;thisisasupersecretkey&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;oauth_consumer_key_sign&#34;</span>: <span style="color:#e6db74">&#34;FPR9uW9niYZZTkodpKrJCfjktJ51YJhc6m44c4kzKNk=&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/eulaservice&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;url&#34;</span>: <span style="color:#e6db74">&#34;http://canvas.home.russfeld.me/api/lti/asset_processor_eulas/7&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;scope&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti/scope/eula/user&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti/scope/eula/deployment&#34;</span>
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://www.instructure.com/placement&#34;</span>: <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="decoded-jwt-in-redirect-message-from-canvas---student-account">Decoded JWT in Redirect Message from Canvas - Student Account</h3>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/message_type&#34;</span>: <span style="color:#e6db74">&#34;LtiResourceLinkRequest&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/version&#34;</span>: <span style="color:#e6db74">&#34;1.3.0&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/resource_link&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;8aa641d1-b4d4-4fea-8a9b-e9fedfb62b1e&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;&lt;p&gt;Assignment Description&lt;/p&gt;&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;Test LTI 1.3 Assignment Name&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti-ags/claim/endpoint&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;lineitem&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/api/lti/courses/3/line_items/1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;scope&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti-ags/scope/lineitem&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti-ags/scope/lineitem.readonly&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti-ags/scope/result.readonly&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti-ags/scope/score&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://canvas.instructure.com/lti-ags/progress/scope/show&#34;</span>
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;lineitems&#34;</span>: <span style="color:#e6db74">&#34;http://canvas.home.russfeld.me/api/lti/courses/3/line_items&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;aud&#34;</span>: <span style="color:#e6db74">&#34;10000000000002&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;azp&#34;</span>: <span style="color:#e6db74">&#34;10000000000002&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/deployment_id&#34;</span>: <span style="color:#e6db74">&#34;7:d3a2504bba5184799a38f141e8df2335cfa8206d&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;exp&#34;</span>: <span style="color:#ae81ff">1749761684</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;iat&#34;</span>: <span style="color:#ae81ff">1749758084</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;iss&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;nonce&#34;</span>: <span style="color:#e6db74">&#34;8TY2f22B2yrw20r9fipF2&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;sub&#34;</span>: <span style="color:#e6db74">&#34;848b3a11-c7b6-4c05-9fb3-782a0c34ee43&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/target_link_uri&#34;</span>: <span style="color:#e6db74">&#34;https://lpp.home.russfeld.me/lti/provider/launch13&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;picture&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/images/thumbnails/3/fnQIzMRWPAny4JOWMUvz8FiHsvP5Tyk4CRBKmMhm&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;email&#34;</span>: <span style="color:#e6db74">&#34;canvasstudent@russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;StudentFirst StudentLast&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;given_name&#34;</span>: <span style="color:#e6db74">&#34;StudentFirst&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;family_name&#34;</span>: <span style="color:#e6db74">&#34;StudentLast&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/lis&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;person_sourcedid&#34;</span>: <span style="color:#e6db74">&#34;835203884&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;course_offering_sourcedid&#34;</span>: <span style="color:#e6db74">&#34;$CourseSection.sourcedId&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/context&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;d3a2504bba5184799a38f141e8df2335cfa8206d&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;label&#34;</span>: <span style="color:#e6db74">&#34;LTI13&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;LTI 1.3 Test Course&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;type&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;http://purl.imsglobal.org/vocab/lis/v2/course#CourseOffering&#34;</span>
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/tool_platform&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;guid&#34;</span>: <span style="color:#e6db74">&#34;zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;ALT+CS Lab&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;cloud&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;product_family_code&#34;</span>: <span style="color:#e6db74">&#34;canvas&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/launch_presentation&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;document_target&#34;</span>: <span style="color:#e6db74">&#34;iframe&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;return_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/courses/3/assignments&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;locale&#34;</span>: <span style="color:#e6db74">&#34;en&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/platformnotificationservice&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;service_versions&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;1.0&#34;</span>
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;platform_notification_service_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/api/lti/notice-handlers/7&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;scope&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti/scope/noticehandlers&#34;</span>
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;notice_types_supported&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;LtiHelloWorldNotice&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;LtiAssetProcessorSubmissionNotice&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;LtiContextCopyNotice&#34;</span>
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;locale&#34;</span>: <span style="color:#e6db74">&#34;en&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/roles&#34;</span>: [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;http://purl.imsglobal.org/vocab/lis/v2/institution/person#Student&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;http://purl.imsglobal.org/vocab/lis/v2/membership#Learner&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;http://purl.imsglobal.org/vocab/lis/v2/system/person#User&#34;</span>
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/custom&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;custom1&#34;</span>: <span style="color:#e6db74">&#34;value1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;custom2&#34;</span>: <span style="color:#e6db74">&#34;value2&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti-nrps/claim/namesroleservice&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;context_memberships_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/api/lti/courses/3/names_and_roles&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;service_versions&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;2.0&#34;</span>
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/lti11_legacy_user_id&#34;</span>: <span style="color:#e6db74">&#34;86157096483e6b3a50bfedc6bac902c0b20a824f&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/lti1p1&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;resource_link_id&#34;</span>: <span style="color:#e6db74">&#34;6a8aaca162bfc4393804afd4cd53cd94413c48bb&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;user_id&#34;</span>: <span style="color:#e6db74">&#34;86157096483e6b3a50bfedc6bac902c0b20a824f&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;oauth_consumer_key&#34;</span>: <span style="color:#e6db74">&#34;thisisasupersecretkey&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;oauth_consumer_key_sign&#34;</span>: <span style="color:#e6db74">&#34;byxEShzri7Vts17LMSxuG5tNrdr32iAFoBlx5HIStcA=&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/eulaservice&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;url&#34;</span>: <span style="color:#e6db74">&#34;http://canvas.home.russfeld.me/api/lti/asset_processor_eulas/7&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;scope&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti/scope/eula/user&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti/scope/eula/deployment&#34;</span>
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://www.instructure.com/placement&#34;</span>: <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="decoded-jwt-in-redirect-message-from-canvas---student-account-all-lti-advatage-features-disabled">Decoded JWT in Redirect Message from Canvas - Student Account (All LTI Advatage Features Disabled)</h3>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/message_type&#34;</span>: <span style="color:#e6db74">&#34;LtiResourceLinkRequest&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/version&#34;</span>: <span style="color:#e6db74">&#34;1.3.0&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/resource_link&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;8aa641d1-b4d4-4fea-8a9b-e9fedfb62b1e&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;&lt;p&gt;Assignment Description&lt;/p&gt;&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;Test LTI 1.3 Assignment Name&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;aud&#34;</span>: <span style="color:#e6db74">&#34;10000000000002&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;azp&#34;</span>: <span style="color:#e6db74">&#34;10000000000002&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/deployment_id&#34;</span>: <span style="color:#e6db74">&#34;7:d3a2504bba5184799a38f141e8df2335cfa8206d&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;exp&#34;</span>: <span style="color:#ae81ff">1749763062</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;iat&#34;</span>: <span style="color:#ae81ff">1749759462</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;iss&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;nonce&#34;</span>: <span style="color:#e6db74">&#34;2yf7hJ1T81gldh6tX2JVG&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;sub&#34;</span>: <span style="color:#e6db74">&#34;848b3a11-c7b6-4c05-9fb3-782a0c34ee43&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/target_link_uri&#34;</span>: <span style="color:#e6db74">&#34;https://lpp.home.russfeld.me/lti/provider/launch13&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;picture&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/images/thumbnails/3/fnQIzMRWPAny4JOWMUvz8FiHsvP5Tyk4CRBKmMhm&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;email&#34;</span>: <span style="color:#e6db74">&#34;canvasstudent@russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;StudentFirst StudentLast&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;given_name&#34;</span>: <span style="color:#e6db74">&#34;StudentFirst&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;family_name&#34;</span>: <span style="color:#e6db74">&#34;StudentLast&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/lis&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;person_sourcedid&#34;</span>: <span style="color:#e6db74">&#34;835203884&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;course_offering_sourcedid&#34;</span>: <span style="color:#e6db74">&#34;$CourseSection.sourcedId&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/context&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;d3a2504bba5184799a38f141e8df2335cfa8206d&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;label&#34;</span>: <span style="color:#e6db74">&#34;LTI13&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;LTI 1.3 Test Course&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;type&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;http://purl.imsglobal.org/vocab/lis/v2/course#CourseOffering&#34;</span>
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/tool_platform&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;guid&#34;</span>: <span style="color:#e6db74">&#34;zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;ALT+CS Lab&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;cloud&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;product_family_code&#34;</span>: <span style="color:#e6db74">&#34;canvas&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/launch_presentation&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;document_target&#34;</span>: <span style="color:#e6db74">&#34;iframe&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;return_url&#34;</span>: <span style="color:#e6db74">&#34;https://canvas.home.russfeld.me/courses/3/assignments&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;locale&#34;</span>: <span style="color:#e6db74">&#34;en&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;locale&#34;</span>: <span style="color:#e6db74">&#34;en&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/roles&#34;</span>: [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;http://purl.imsglobal.org/vocab/lis/v2/institution/person#Student&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;http://purl.imsglobal.org/vocab/lis/v2/membership#Learner&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;http://purl.imsglobal.org/vocab/lis/v2/system/person#User&#34;</span>
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/custom&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;custom1&#34;</span>: <span style="color:#e6db74">&#34;value1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;custom2&#34;</span>: <span style="color:#e6db74">&#34;value2&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/lti11_legacy_user_id&#34;</span>: <span style="color:#e6db74">&#34;86157096483e6b3a50bfedc6bac902c0b20a824f&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/lti1p1&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;resource_link_id&#34;</span>: <span style="color:#e6db74">&#34;6a8aaca162bfc4393804afd4cd53cd94413c48bb&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;user_id&#34;</span>: <span style="color:#e6db74">&#34;86157096483e6b3a50bfedc6bac902c0b20a824f&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;oauth_consumer_key&#34;</span>: <span style="color:#e6db74">&#34;thisisasupersecretkey&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;oauth_consumer_key_sign&#34;</span>: <span style="color:#e6db74">&#34;Qu2E9ixZ8J1nu6T7jsE5V8H4J7FZwXjasizBVOnXaL8=&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://purl.imsglobal.org/spec/lti/claim/eulaservice&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;url&#34;</span>: <span style="color:#e6db74">&#34;http://canvas.home.russfeld.me/api/lti/asset_processor_eulas/7&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;scope&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti/scope/eula/user&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti/scope/eula/deployment&#34;</span>
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;https://www.instructure.com/placement&#34;</span>: <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h2 id="helpful-references">Helpful References:</h2>
<ul>
<li><a href="https://www.imsglobal.org/spec/lti/v1p3" rel="external" target="_blank">https://www.imsglobal.org/spec/lti/v1p3</a></li>
<li><a href="https://www.imsglobal.org/spec/security/v1p0/" rel="external" target="_blank">https://www.imsglobal.org/spec/security/v1p0/</a></li>
<li><a href="https://openid.net/specs/openid-connect-core-1_0.html" rel="external" target="_blank">https://openid.net/specs/openid-connect-core-1_0.html</a></li>
<li><a href="https://github.com/Cvmcosta/ltijs" rel="external" target="_blank">https://github.com/Cvmcosta/ltijs</a> - reference implementation</li>
</ul>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
  </header>

<h1 id="lti-launch-data">LTI Launch Data</h1>

<p>The LTI Toolkit constructs a <code>launchData</code> object from each incoming LTI launch that contains the following information. Each attribute is documented with the original source of that attribute from both an LTI 1.0 and LTI 1.3 launch request. To simplify things, the <code>baseURL</code> and <code>agsURL</code> in the descriptions below have been replaced with variables that carry these values:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">baseURL</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti/claim/&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">agsURL</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://purl.imsglobal.org/spec/lti-ags/claim/&#34;</span></span></span></code></pre></div>
<h3 id="lti-launch-data-object">LTI Launch Data Object</h3>
<ul>
<li><code>launch_type</code> - the type of LTI launch
<ul>
<li>LTI 1.0: <code>&quot;lti1.0&quot;</code></li>
<li>LTI 1.3: <code>&quot;lti1.3&quot;</code></li>
</ul>
</li>
<li><code>tool_consumer_key</code> - the locally-generated key used to identify the tool consumer (either the OAuth Key for LTI 1.0 or the provided Key in the Login URL for LTI 1.3)
<ul>
<li>LTI 1.0: <code>thisisasupersecretkey</code></li>
<li>LTI 1.3: <code>thisisasupersecretkey</code></li>
</ul>
</li>
<li><code>course_id</code> - the unique ID of the course
<ul>
<li>LTI 1.0: <code>context_id</code></li>
<li>LTI 1.3: <code>[baseUrl + &quot;context&quot;].id</code></li>
</ul>
</li>
<li><code>course_label</code> - the short title of the course (e.g. <code>&quot;CIS 101&quot;</code>)
<ul>
<li>LTI 1.0: <code>context_label</code></li>
<li>LTI 1.3: <code>[baseUrl + &quot;context&quot;].label</code></li>
</ul>
</li>
<li><code>course_name</code> - the full title of the course (e.g <code>&quot;Computer Programming&quot;</code>)
<ul>
<li>LTI 1.0: <code>context_title</code></li>
<li>LTI 1.3: <code>[baseUrl + &quot;context&quot;].title</code></li>
</ul>
</li>
<li><code>assignment_id</code> - the unique ID of the assignment
<ul>
<li>LTI 1.0: <code>resource_link_id</code></li>
<li>LTI 1.3: <code>[baseUrl + &quot;lti1p1&quot;].resource_link_id</code></li>
</ul>
</li>
<li><code>assignment_lti_id</code> - the unique LTI ID of the assignment
<ul>
<li>LTI 1.0: <code>ext_lti_assignment_id</code></li>
<li>LTI 1.3: <code>[baseUrl + &quot;resource_link&quot;].id</code></li>
</ul>
</li>
<li><code>assignment_name</code> - the name of the assignment (e.g. <code>&quot;Programming Lab 1&quot;</code>)
<ul>
<li>LTI 1.0: <code>resource_link_title</code></li>
<li>LTI 1.3: <code>[baseUrl + &quot;resource_link&quot;].title</code></li>
</ul>
</li>
<li><code>return_url</code> - the URL to return students to after finishing the assignment
<ul>
<li>LTI 1.0: <code>launch_presentation_return_url</code></li>
<li>LTI 1.3: <code>[baseUrl + &quot;launch_presentation&quot;].return_url</code></li>
</ul>
</li>
<li><code>outcome_url</code> - the URL to submit grades to
<ul>
<li>LTI 1.0: <code>lis_outcome_service_url</code></li>
<li>LTI 1.3: <code>[agsUrl + &quot;endpoint&quot;].lineitem</code></li>
</ul>
</li>
<li><code>outcome_id</code> - the ID of the outcome to submit (only present on student launches)
<ul>
<li>LTI 1.0: <code>lis_result_sourcedid</code></li>
<li>LTI 1.3: <code>null</code></li>
</ul>
</li>
<li><code>outcome_ags</code> - information for the LTI Assignment &amp; Grade Services (AGS)
<ul>
<li>LTI 1.0: <code>null</code></li>
<li>LTI 1.3: <code>launchResult[agsUrl + &quot;endpoint&quot;]</code></li>
</ul>
</li>
<li><code>user_lis_id</code> - the unique ID of the student for LTI 1.0
<ul>
<li>LTI 1.0: <code>user_id</code></li>
<li>LTI 1.3: <code>[baseUrl + &quot;lti1p1&quot;].user_id</code></li>
</ul>
</li>
<li><code>user_lis13_id</code> - the unique ID of the student for LTI 1.3
<ul>
<li>LTI 1.0: <code>null</code></li>
<li>LTI 1.3: <code>launchResult.sub</code></li>
</ul>
</li>
<li><code>user_email</code> - the email address of the student
<ul>
<li>LTI 1.0: <code>lis_person_contact_email_primary</code></li>
<li>LTI 1.3: <code>email</code></li>
</ul>
</li>
<li><code>user_name</code> - the full name of the student (e.g. <code>&quot;Willie Wildcat&quot;</code>)
<ul>
<li>LTI 1.0: <code>lis_person_name_full</code></li>
<li>LTI 1.3: <code>name</code></li>
</ul>
</li>
<li><code>user_given_name</code> - the given name (first name) of the student (e.g. <code>&quot;Willie&quot;</code>)
<ul>
<li>LTI 1.0: <code>lis_person_name_given</code></li>
<li>LTI 1.3: <code>given_name</code></li>
</ul>
</li>
<li><code>user_family_name</code> - the famly name (last name or surname) of the student (e.g. <code>&quot;Wildcat&quot;</code>)
<ul>
<li>LTI 1.0: <code>lis_person_name_family</code></li>
<li>LTI 1.3: <code>family_name</code></li>
</ul>
</li>
<li><code>user_image</code> - the URL of the profile image of the user
<ul>
<li>LTI 1.0: <code>user_image</code></li>
<li>LTI 1.3: <code>picture</code></li>
</ul>
</li>
<li><code>user_roles</code> - the roles assigned to the user
<ul>
<li>LTI 1.0: <code>role</code></li>
<li>LTI 1.3: <code>[baseUrl + &quot;roles&quot;]</code></li>
</ul>
</li>
<li><code>custom</code> - any custom parameters provided to the system (in LTI 1.0, they <strong>MUST</strong> be prefixed with <code>lpp</code> to be detected)
<ul>
<li>LTI 1.0: search for any attributes prefixed with <code>lpp_</code></li>
<li>LTI 1.3: <code>[baseUrl + &quot;custom&quot;]</code></li>
</ul>
</li>
</ul>
<p>Four additional items are stored in the <code>consumer</code> database by the library itself, but aren&rsquo;t passed to the user&rsquo;s <code>handleLaunch</code> function:</p>
<ul>
<li><code>tool_consumer_product</code> - the tool consumer product name (e.g. <code>&quot;canvas&quot;</code>)
<ul>
<li>LTI 1.0: <code>tool_consumer_info_product_family_code</code></li>
<li>LTI 1.3: <code>[baseUrl + &quot;tool_platform&quot;].product_family_code</code></li>
</ul>
</li>
<li><code>tool_consumer_guid</code> - the unique GUID of the tool consumer instance
<ul>
<li>LTI 1.0: <code>tool_consumer_instance_guid</code></li>
<li>LTI 1.3: <code>[baseUrl + &quot;tool_platform&quot;].guid</code></li>
</ul>
</li>
<li><code>tool_consumer_name</code> - the name of the tool consumer instance (e.g. <code>&quot;ALT+CS Canvas&quot;</code>)
<ul>
<li>LTI 1.0: <code>tool_consumer_instance_name</code></li>
<li>LTI 1.3: <code>[baseUrl + &quot;tool_platform&quot;].name</code></li>
</ul>
</li>
<li><code>tool_consumer_version</code> - the version of the tool consumer instance
<ul>
<li>LTI 1.0: <code>tool_consumer_info_version</code></li>
<li>LTI 1.3: <code>[baseUrl + &quot;tool_platform&quot;].version</code></li>
</ul>
</li>
</ul>
<h2 id="lti-launch-examples">LTI Launch Examples</h2>
<h3 id="lti-10-example">LTI 1.0 Example</h3>
<p>Sent to the <code>handleLaunch</code> endpoint:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">launch_type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;lti1.0&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">tool_consumer_key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;thisisasupersecretkey&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">course_id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;4dde05e8ca1973bcca9bffc13e1548820eee93a3&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">course_label</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;LTI10&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">course_name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;LTI 1.0 Test Course&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">assignment_id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ae06e3eb8ea83588f0a1c5897b98830dc93f47d8&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">assignment_lti_id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;599692b2-3abe-4ca2-a6c8-2323ef57189d&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">assignment_name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Test LTI 1.0 Assignment Name&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">return_url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;https://canvas.home.russfeld.me/courses/1/assignments&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">outcome_url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;https://canvas.home.russfeld.me/api/lti/v1/tools/1/grade_passback&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">outcome_id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;1-1-1-2-c14957047fa8fd73a6aa4d7ec543574aff29597b&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">outcome_ags</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">user_lis_id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;86157096483e6b3a50bfedc6bac902c0b20a824f&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">user_email</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;canvasstudent@russfeld.me&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">user_name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;StudentFirst StudentLast&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">user_given_name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;StudentFirst&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">user_family_name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;StudentLast&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">user_image</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;https://canvas.home.russfeld.me/images/thumbnails/3/fnQIzMRWPAny4JOWMUvz8FiHsvP5Tyk4CRBKmMhm&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">user_roles</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Learner&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">custom</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">custom_1</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;value_1&#39;</span>, <span style="color:#a6e22e">custom_2</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;value_2&#39;</span> }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Stored in the database:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">tool_consumer_product</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;canvas&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">tool_consumer_guid</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">tool_consumer_name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ALT+CS Lab&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">tool_consumer_version</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;cloud&#39;</span>,
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="lti-10-example-1">LTI 1.0 Example</h3>
<p>Sent to the <code>handleLaunch</code> endpoint:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">launch_type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;lti1.3&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">course_id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;d3a2504bba5184799a38f141e8df2335cfa8206d&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">course_label</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;LTI13&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">course_name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;LTI 1.3 Test Course&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">assignment_id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;6a8aaca162bfc4393804afd4cd53cd94413c48bb&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">assignment_lti_id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;8aa641d1-b4d4-4fea-8a9b-e9fedfb62b1e&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">assignment_name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Test LTI 1.3 Assignment Name&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">return_url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;https://canvas.home.russfeld.me/courses/3/assignments&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">outcome_url</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">outcome_id</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">outcome_ags</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;{&#34;lineitem&#34;:&#34;https://canvas.home.russfeld.me/api/lti/courses/3/line_items/1&#34;,&#34;scope&#34;:[&#34;https://purl.imsglobal.org/spec/lti-ags/scope/lineitem&#34;,&#34;https://purl.imsglobal.org/spec/lti-ags/scope/lineitem.readonly&#34;,&#34;https://purl.imsglobal.org/spec/lti-ags/scope/result.readonly&#34;,&#34;https://purl.imsglobal.org/spec/lti-ags/scope/score&#34;,&#34;https://canvas.instructure.com/lti-ags/progress/scope/show&#34;],&#34;lineitems&#34;:&#34;http://canvas.home.russfeld.me/api/lti/courses/3/line_items&#34;}&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">user_lis_id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;86157096483e6b3a50bfedc6bac902c0b20a824f&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">user_email</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;canvasstudent@russfeld.me&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">user_name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;StudentFirst StudentLast&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">user_given_name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;StudentFirst&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">user_family_name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;StudentLast&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">user_image</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;https://canvas.home.russfeld.me/images/thumbnails/3/fnQIzMRWPAny4JOWMUvz8FiHsvP5Tyk4CRBKmMhm&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">user_roles</span><span style="color:#f92672">:</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;http://purl.imsglobal.org/vocab/lis/v2/institution/person#Student&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;http://purl.imsglobal.org/vocab/lis/v2/membership#Learner&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;http://purl.imsglobal.org/vocab/lis/v2/system/person#User&#39;</span>
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">custom</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">custom1</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;value1&#39;</span>, <span style="color:#a6e22e">custom2</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;value2&#39;</span> }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Stored in the database:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">tool_consumer_product</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;canvas&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">tool_consumer_guid</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;zOUAtkfS3gI8nh5IskzlgAro1oCx3rx6SGGahiLL:canvas-lms&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">tool_consumer_name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ALT+CS Lab&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">tool_consumer_version</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;cloud&#39;</span>,
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h2 id="helpful-references">Helpful References:</h2>
<ul>
<li>LTI 1.0: <a href="https://www.imsglobal.org/specs/ltiv1p1/implementation-guide" rel="external" target="_blank">https://www.imsglobal.org/specs/ltiv1p1/implementation-guide</a></li>
<li>LTI 1.3: <a href="https://www.imsglobal.org/spec/lti/v1p3#required-message-claims" rel="external" target="_blank">https://www.imsglobal.org/spec/lti/v1p3#required-message-claims</a></li>
<li>Roles: <a href="https://www.imsglobal.org/spec/lti/v1p3#role-vocabularies" rel="external" target="_blank">https://www.imsglobal.org/spec/lti/v1p3#role-vocabularies</a></li>
</ul>

  <footer class="footline">
  </footer>
</article>
<article class="default">
  <header class="headline">
  </header>

<h1 id="lti-10-tool-consumer">LTI 1.0 Tool Consumer</h1>

<p>When using the LTI Toolkit as an LTI Tool Consumer (LMS), it will send LTI Launch Requests using this format.</p>
<h2 id="sample-lti-10-tool-launch">Sample LTI 1.0 Tool Launch</h2>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_consumer_key&#34;</span>: <span style="color:#e6db74">&#34;Kyfb4eihmljr2ehgq&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_signature_method&#34;</span>: <span style="color:#e6db74">&#34;HMAC-SHA1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_timestamp&#34;</span>: <span style="color:#e6db74">&#34;1768590571&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_nonce&#34;</span>: <span style="color:#e6db74">&#34;_yX_tiCIcAV-pGE3Lq0PS&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_version&#34;</span>: <span style="color:#e6db74">&#34;1.0&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;context_id&#34;</span>: <span style="color:#e6db74">&#34;thisisasectionkey&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;context_label&#34;</span>: <span style="color:#e6db74">&#34;PL Default&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;context_title&#34;</span>: <span style="color:#e6db74">&#34;PrairieLearn Default Section&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;launch_presentation_document_target&#34;</span>: <span style="color:#e6db74">&#34;iframe&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;launch_presentation_locale&#34;</span>: <span style="color:#e6db74">&#34;en&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;launch_presentation_return_url&#34;</span>: <span style="color:#e6db74">&#34;https://lpp.home.russfeld.me/student/1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_outcome_service_url&#34;</span>: <span style="color:#e6db74">&#34;https://lpp.home.russfeld.me/lti/consumer/grade_passback&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_result_sourcedid&#34;</span>: <span style="color:#e6db74">&#34;thisisasectionkey:thisisalessonkey:n7StL49uxddH2Gf5aBqoC:hqTqbHFOw1IoSA4Qf6R_A&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_person_contact_email_primary&#34;</span>: <span style="color:#e6db74">&#34;canvasstudent@russfeld.me&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_person_name_family&#34;</span>: <span style="color:#e6db74">&#34;StudentLast&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_person_name_full&#34;</span>: <span style="color:#e6db74">&#34;StudentFirst StudentLast&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lis_person_name_given&#34;</span>: <span style="color:#e6db74">&#34;StudentFirst&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lti_message_type&#34;</span>: <span style="color:#e6db74">&#34;basic-lti-launch-request&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lti_version&#34;</span>: <span style="color:#e6db74">&#34;LTI-1p0&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_callback&#34;</span>: <span style="color:#e6db74">&#34;about:blank&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;resource_link_id&#34;</span>: <span style="color:#e6db74">&#34;thisisalessonkey&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;resource_link_title&#34;</span>: <span style="color:#e6db74">&#34;Introduction to Variables in Python&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;roles&#34;</span>: <span style="color:#e6db74">&#34;Learner&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_info_product_family_code&#34;</span>: <span style="color:#e6db74">&#34;learningpathplatform&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_info_version&#34;</span>: <span style="color:#e6db74">&#34;cloud&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_instance_contact_email&#34;</span>: <span style="color:#e6db74">&#34;russfeld@ksu.edu&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_instance_guid&#34;</span>: <span style="color:#e6db74">&#34;devplatform&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;tool_consumer_instance_name&#34;</span>: <span style="color:#e6db74">&#34;Learning Path Platform&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;user_id&#34;</span>: <span style="color:#e6db74">&#34;n7StL49uxddH2Gf5aBqoC&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;user_image&#34;</span>: <span style="color:#e6db74">&#34;http://canvas.instructure.com/images/messages/avatar-50.png&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;oauth_signature&#34;</span>: <span style="color:#e6db74">&#34;DzeROfQzBafyvblTAZeeM+n4ryA=&#34;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>

  <footer class="footline">
  </footer>
</article>
          </section>
          </section>
        </div>
      </main>
<div class="git-footer">
  <p class="theme-version-footer">8.0.0</p>
<p>Last modified by:
              <i class='fa-fw fas fa-user'></i> Russell Feldhausen
              <i class='fas fa-calendar'></i> <a href="https://github.com/alt-cs-lab/lti-toolkit/commit/08d2d0a294c14cd62898355b0ae77c3ee89afa0e">Jan 24, 2026</a>
</p>

</div>
    </div>
    <script src="/lti-toolkit/js/clipboard/clipboard.min.js?1769287359" defer></script>
    <script src="/lti-toolkit/js/perfect-scrollbar/perfect-scrollbar.min.js?1769287359" defer></script>
    <script src="/lti-toolkit/js/theme.min.js?1769287359" defer></script>
  </body>
</html>
